<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>JS Scripting | Drafts Directory</title>
    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="XrZDjSkTUEa1I1GR9+jPFKJRLZf08zqDH2w5mkmD+tUtqWUHTXj3ozpz6sGjq5QKBfLzbAojcCUyHWvjYHtkJw==" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta http-equiv="content-language" content="en">
    <meta http-equiv="content-language" content="en-us">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta property="og:title" content="Drafts Directory: JS Scripting" />
    <meta property="og:url" content="https://actions.getdrafts.com/g/15g" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="Example actions and other extensions for Drafts, the quick-capture notes app." />
    <meta property="og:image" content="https://actions.getdrafts.com/assets/drafts-ogimage-action-d9c60102fd45e0cb516e1b49ed50a81e3c3a2b90f81f55df8f43d0feb0512978.png" />
    <meta property="twitter:title" content="Drafts Directory: JS Scripting" />
    <meta property="twitter:url" content="https://actions.getdrafts.com/g/15g" />
    <meta property="twitter:type" content="website" />
    <meta property="twitter:description" content="Example actions and other extensions for Drafts, the quick-capture notes app." />
    <meta property="twitter:image" content="https://actions.getdrafts.com/assets/drafts-ogimage-action-d9c60102fd45e0cb516e1b49ed50a81e3c3a2b90f81f55df8f43d0feb0512978.png" />

    <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon-114dbb66b0ef0399a14fa5dfcad7e6210bb558c30cea665e04d49b59fec87f70.png" />

    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
    <link rel="stylesheet" media="all" href="../assets/application-6e4f014b4c48cd673942dbfbbeb3e571a732b05562ddde5904f3a5c3833e54ff.css" />
    <script src="../assets/application-13492939cb10be5be76b5abb3e9ae0bef0bbae3202cec2b85cf6fca5bc8429c8.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script async defer data-domain="directory.getdrafts.com" src="https://plausible.io/js/plausible.js"></script>
  </head>

<body data-no-turbolink>

    <div class="page-wrap">
        <div class="side-bar">
            <a href="../index.html" class="site-title fs-6 lh-tight" title="{{ site.title }}">
                <img src="../assets/drafts-directory-header-4d826bd007f515c8e5a10f654e56ad76fbb3bd3103a67ce342283f701f1677fe.svg" alt="Drafts Directory" style="max-height: 30px;" />
            </a>
            <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button"
                    data-text-toggle="Hide">Menu</button></span>
            <div class="navigation main-nav js-main-nav">
              <ul class="navigation-list">
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../index.html">Home</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../drafts_actions.html">Actions</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../drafts_action_groups.html">Action Groups</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../syntax_definitions.html">Syntaxes</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../theme_definitions.html">Themes</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../workspaces.html">Workspaces</a>
                </li>
                <li class="navigation-list-item">
                  <hr style="margin:1em; padding: 0;" />
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../search.html">Search</a>
                </li>
                <li class="navigation-list-item">
                  <hr style="margin:1em; padding: 0;" />
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="About Drafts" href="../../getdrafts.com/index.html">Get Drafts &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Detailed documentation" href="../../docs.getdrafts.com/index.html">User Guide &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Get your questions answered in the forums" href="https://forums.getdrafts.com/">Community &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Online tools and generators" href="../../tools.getdrafts.com/index.html">Tools &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Scripting library reference" href="../../scripting.getdrafts.com/index.html">Script Reference &#x2192;</a>
                </li>
              </ul>
            </div>
            <footer role="contentinfo" class="site-footer">
                <p class="text-small text-grey-dk-000 mb-0">
                    Download: <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site">iOS</a> | <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site">Mac</a>
                </p>
            </footer>
        </div>
        <div class="main-content-wrap js-main-content" tabindex="0">
            <div class="page-header">
                <div class="main-content">
                    <div class="search js-search">
	<div class="search-input-wrap">
<form class="search-form" action="../search.html" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
	<button style='border:none;background-color:transparent;'>
	<svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"
		class="search-icon">
		<title>Search</title>
		<g fill-rule="nonzero">
			<path
				d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z" />
			<path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z" />
		</g>
	</svg>
	</button>
	<input type="text" name="q" id="q" class="js-search-input search-input search" size="12" tabindex="0" placeholder="Search" />
</form>	</div>
</div>
                    <ul class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav">
                        <li class="d-inline-block my-0 mr-2">
                          <a href="../../getdrafts.com/index.html">Get Drafts</a>
                        </li>
                        <li class="d-inline-block my-0">
                          <a href="https://forums.getdrafts.com">Community</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="main-content">
                <div id="main-content" class="page-content" role="main">
                  <div class="type">
                    <h4>Action Group</h4>
                  </div>
                  <div class="header">
                      <h1><img src="https://config.agiletortoise.com/drafts-icons/sim-card.png" class="action-icon" />JS Scripting</h1>
                  </div>

                  <div class="content">
                    
<div class='caption'>
  Posted by RoyRogers,
Last update about 2 years ago
</div>


<div class='description'>
	<h2>Collection of Actions for JS scripting</h2>

<ul>
<li>Create new skeleton script draft.</li>
<li>Add new file based console.log() capture for easier debugging.</li>
<li>Develop and test-run script directly from Drafts editor!</li>
<li>Indent, Outdent, and Comment code. Works on blocks or single lines.</li>
<li>JS Beautify (cleans block indenting mainly)</li>
<li>JS snippet menu based on a snippet library draft.</li>
<li>Templates for &ldquo;function, if, else if, else, for, while, do, switch, and prompt&rdquo;</li>
<li>And more â€¦ </li>
</ul>

</div>

<div class="certification">
  
  
</div>

<div>
  <a class="btn btn-blue" href="drafts5://actionGroup?identifier=15g&amp;data=%7B%22name%22:%22JS%20Scripting%22,%22hidden%22:false,%22tintColor%22:%22none%22,%22actions%22:[%7B%22uuid%22:%2273EB6F10-8939-4455-B8E1-0B9E925B6C2E%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Create%20new%20draft%20with%20code%20setup%5Cn%5Cnvar%20d%20=%20Draft.create();%5Cnconst%20now%20=%20new%20Date();%5Cnconst%20dt%20=%20now.toString(%5C%22yyyy-MM-dd,%20HH:mm%5C%22);%5Cnd.content%20=%20%60//%20ScriptName%5Cn//%20RV%20$%7Bdt%7D%5Cn%5Cn//%20Description%5Cn%60;%5Cnd.languageGrammar%20=%20%5C%22JavaScript%5C%22;%5Cnd.update();%5Cnd.addTag(%5C%22script%5C%22);%5Cnd.update();%5Cneditor.load(d);%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22654C134A-C9EE-445D-86A7-B5629FBE26A0%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22New%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22New%20Code%20Draft%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:2,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:true,%22icon%22:%22sim-card%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22New%20Code%20Draft%22%7D,%7B%22uuid%22:%22C2B0A2D9-CE6A-4453-B754-85285F787BDD%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20debug.js%5Cn//%20RV%202020-03-07%20at%2023:07%5Cn%5Cn//%20Function%20to%20log%20to%20external%20file%5Cn//%20Captures%20console.log()%20to%20file%20in%20iCloud%20Drive.%5Cn%5Cn//%20load%20js%20library%20from%20iCloud%20drive:%5Cn//%20require(&#39;debug.js&#39;);%20//%20USE%20THIS%20at%20start%20of%20code!!%5Cn%5Cn//%20insert%20next%20line%20anywhere%20in%20code%20for%20debug:%20%5Cn//%20console.log(11,%20&#39;sample&#39;,%20108,%20etc);%20//%20line%20%23%20first!%5Cn//%20supply%20line%20number%20first,%20and%20then%20any%20variables%5Cn//%20separated%20by%20commas.%5Cn%5Cn//%20Copy%20script%20below%20to%20iCloud%20Drive:%5Cn//%20as%20&#39;/Drafts/Library/Scripts/debug.js&#39;%5Cn%5Cn//%20-------------%20start%20of%20file%20------------------%5Cn//%20debug.js%5Cn//%20Captures%20console.log()%20to%20file:%5Cnvar%20captLog%20=%20&#39;&#39;;%5Cnvar%20clearLog%20=%20true;%20//%20clear%20log%20on%20first%20run%5Cn%5Cn(function()%7B%5Cn%20%20%20%20var%20oldLog%20=%20console.log;%5Cn%20%20%20%20console.log%20=%20function%20(message)%20%7B%5Cn%20%20%20%20%20%20%20%20captLog%20=%20Array.prototype.join.call(arguments,%20&#39;%5C%5Cn%5C%5Ct&#39;);%5Cn%20%20%20%20%20%20%20%20oldLog.apply(console,%20arguments);%5Cn%20%20%20%20%20%20%20%20writeLog()%5Cn%20%20%20%20%7D;%5Cn%7D)();%5Cn%5Cnfunction%20writeLog()%20%7B%5Cn%20%20//%20function%20to%20send%20log%20to%20external%20file%5Cn%20%20const%20now%20=%20new%20Date();%5Cn%20%20const%20tm%20=%20now.toString(%5C%22yyyy-MM-dd%20HH:mm%5C%22);%5Cn%20%20%5Cn%20%20let%20msg%20=%20&#39;line:%20&#39;%20+%20captLog;%5Cn%20%20let%20shortMsg%20=%20msg.split(&#39;%5C%5Cn%5C%5Ct&#39;).join(&#39;:%20&#39;).slice(0,%2020);%5Cn%20%20%5Cn%20%20//%20For%20interactive%20log,%20use%20either%20(or%20none)%20of%20these%20two%20lines:%5Cn%20%20//%20app.displayInfoMessage(shortMsg)%5Cn%20%20alert(msg)%5Cn%20%20%5Cn%20%20let%20path%20=%20&#39;/debug_log.txt&#39;;%5Cn%20%20let%20fm%20=%20FileManager.create(false);%5Cn%20%20log%20=%20fm.readString(path);%5Cn%20%20if%20(clearLog)%20%7B%5Cn%20%20%20%20log%20=%20tm%20+%20msg;%20//%20new%20log%5Cn%20%20%20%20clearLog%20=%20false;%5Cn%20%20%7D%20else%20%7B%5Cn%20%20%20%20log%20=%20log%20+%20&#39;%5C%5Cn&#39;%20+%20tm%20+%20&#39;:%20&#39;%20+%20msg;%20//%20append%20to%20log%5Cn%20%20%7D%5Cn%20%20let%20success%20=%20fm.writeString(path,%20log);%5Cn%7D%5Cn//%20--------------%20end%20of%20file%20--------------%5Cn%5Cn//%20Sample.%20To%20be%20used%20anywhere%20in%20code:%5Cn//%20code%20%E2%80%A6%20%5Cnconsole.log(60,%20&#39;sample:%20open%20this%20script%20for%20instructions!&#39;,%20108,%20[&#39;string&#39;,%2015,%20false]);%20%5Cn//%20code%20%E2%80%A6%20%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%221FA30D05-1D43-4DC4-96E8-D311A898CFF5%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:0,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Debug%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22debug.js%20function%20to%20log%20to%20external%20file%5CnCaptures%20console.log()%20to%20file%20in%20iCloud%20Drive.%22,%22keyUseIcon%22:false,%22icon%22:%22680-emoticon-shades%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Debug%22%7D,%7B%22uuid%22:%22676A6B0F-B133-4561-ADAE-5D67CBF4CB2E%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22template%22:%22require(&#39;debug.js&#39;);%20//%20use%20at%20start%20of%20code!%5Cn//%20will%20capture%20console.log%20as%20text%20to%20file%20or%20alert()%5Cn%5Cn//%20Insert%20this%20line%20anywhere%20in%20code:%5Cnconsole.log(linenumer,%20variable,%20etc)%20//%20line%20number%20first%20param!%5Cn%22%7D,%22type%22:%22insertText%22,%22isEnabled%22:true,%22uuid%22:%22CC6B3214-D5F2-445C-8334-6CE184B7A971%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22Add%22,%22shouldConfirm%22:false,%22disposition%22:0,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Add%20debug%20Info%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22Insert%20debug%20info%20line:%5Cnwill%20capture%20console.log%20as%20text%20to%20file%20or%20alert()%5Cn%5CnRelies%20on%20this%20code:%20https://actions.getdrafts.com/a/15d%22,%22keyUseIcon%22:true,%22icon%22:%22442-information-symbol1%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Add%20debug%20Info%22%7D,%7B%22uuid%22:%2268BEF35E-A870-4AB3-95B0-55481F293F98%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Run%20Editor%20JS%5Cn//%20RV%202020-03-05%20at%2018:46%20EST%5Cn(()%20=%5Cu003e%20%7B%5Cn%20%20%20%20//%20Runs%20a%20script%20diretly%20from%20Drafts%20editor.%5Cn%20%20%20%20//%20Note!%20Be%20careful:%5Cn%20%20%20%20//%20If%20your%20script%20updates%20current%20content,%20it%20may%20mess%20itself%20up.%5Cn%20%20%20%20//%20Only%20intended%20for%20development%20and%20debuging%20purposes,%5Cn%20%20%20%20//%20With%20full%20use%20of%20Drafts%20versioning,%20tools%20and%20actions.%5Cn%5Cn%20%20%20%20//%20Alternative%20code%20to%20use%20with%20spesific%20script%20saved%20as%20drafts:%5Cn%20%20%20%20//%20//%20UUID%20of%20draft%20containing%20script:%5Cn%20%20%20%20//%20const%20uuid%20=%20&#39;401B8C95-29F9-4917-8364-0D769C71EE8F&#39;;%5Cn%5Cttry%20%7B%5Cn%5Ct%5Cteval(%20//%20line%2014.%5Cn%5Ct%5Ct%5Ctdraft.content%5Cn%5Ct%5Ct%5Ct//%20Draft.find(uuid).content%5Cn%5Ct%5Ct)%5Cn%5Ct%7D%20catch%20(e)%20%7B%5Cn%5Ct%5Ctif%20(e.line%20!=%20&#39;14&#39;)%20%7B%5Cn%5Ct%5Ct%5Ctalert(%60Runtim%20Error:%20$%7Be.message%7D%5Cn%5Ct%5Ct%5Cn%5Ct%5Ct%5Ctline:%20$%7Be.line%7D%5Cn%5Ct%5Ct%5Ctcolumn:%20$%7Be.column%7D%60)%5Cn%5Ct%5Ct%7D%20else%20%7B%5Cn%5Ct%5Ct%5Ctalert(%60Syntax%20Error:%20$%7Be.message%7D%5Cn%5Ct%5Ct%5Ctline:%20$%7Be.line%7D%5Cn%5Ct%5Ct%5Ctcolumn:%20$%7Be.column%7D%5Cn%5Ct%5Ct%5CtLikely%20a%20syntax%20error,%20disregard%20line%20number!%60)%5Cn%5Ct%5Ct%7D%5Cn%5Ct%7D%5Cn%7D%5Cn)();%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22CD1E9299-A447-4119-9D52-CB60097ADFBF%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22Run%22,%22shouldConfirm%22:false,%22disposition%22:0,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22R%22,%22controlKey%22:false,%22commandKey%22:true,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Run%20Editor%20JS%20%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22Runs%20a%20script%20diretly%20from%20Drafts%20editor.%5Cn%5CnNote!%20Be%20careful:%5CnIf%20your%20script%20updates%20current%20content,%20it%20may%20mess%20itself%20up.%5Cn%5CnUse%20during%20development%20and%20debuging,%20with%20full%20use%20of%20Drafts%20versioning,%20tools,%20and%20actions.%5Cn%5CnThen%20copy%20draft%20into%20action%20script%20when%20finalized,%20or%20modify%20a%20copy%20of%20this%20scipt%20to%20run%20JS%20Code%20in%20Drafts&#39;%20archive%20using%20eval%20with%20UUID%20as%20described%20in%20comments.%20Have%20fun%20:)%5Cn%22,%22keyUseIcon%22:true,%22icon%22:%22sync%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Run%20Editor%20JS%20%22%7D,%7B%22uuid%22:%226D66D43E-CF4E-4617-80D0-52A874722495%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20JS%20Comments%5Cn//%202020-03-10%20at%2017:06%20EST%5Cn%5Cn//%20Togle%20JS%20comments%20and%20keep%20original%20indents%5Cn//%20Note!%20Does%20not%20comment%20blank%20lines!%5Cn%5Cnlet%20tag%20=%20%5C%22//%20%5C%22%20//%20set%20to%20prefered%20tag%5Cnlet%20lnRange%20=%20editor.getSelectedLineRange();%5Cnlet%20text%20=%20editor.getTextInRange(lnRange[0],lnRange[1]);%5Cnlet%20selRange%20=%20editor.getSelectedRange();%5Cnlet%20offset%20=%200;%5Cnlet%20newText%20=%20&#39;&#39;;%5Cnlet%20pos%20=%20selRange[0]%20-%20lnRange[0];%5Cnlet%20len%20=%20text.length;%5Cnlet%20sel%20=%20selRange[1]%5Cnlet%20selPos%20=%20selRange[0];%5Cnlet%20selLen%20=%20selRange[1];%5Cn%5Cnmain:%20%7B%5Cn%20%20let%20re%20=%20new%20RegExp(&#39;%5E[%20%5C%5Ct]*&#39;%20+%20tag,%20&#39;&#39;);%5Cn%5Cn%20%20//%20Check%20if%20first%20line%20already%20has%20tag:%5Cn%20%20if%20(text.match(re))%20%7B%5Cn%20%20%20%20//%20Removing%20comment%20tags:%5Cn%20%20%20%20let%20re%20=%20new%20RegExp(&#39;%5E([%20%5C%5Ct]*)&#39;%20+%20tag,%20&#39;gm&#39;);%5Cn%20%20%20%20newText%20=%20text.replace(re,%20&#39;$1&#39;)%5Cn%20%20%20%20selLen%20=%20text.length;%5Cn%20%20%20%20selPos%20=%20lnRange[0];%5Cn%20%20%20%20offset%20=%200;%5Cn%20%20%20%20if%20(len%20=%203)%20offset%20=%20-pos%20;%20%5Cn%20%20%20%20if%20(sel%20%5Cu003e%200)%20sel%20=%20newText.length;%5Cn%20%20%7D%20else%20if%20(sel%20==%200%20%5Cu0026%5Cu0026%20!text.match(/%5C%5CS/))%20%7B%5Cn%20%20%20%20//%20blank%20line%5Cn%20%20%20%20newText%20=%20tag;%5Cn%20%20%20%20offset%20=%203;%5Cn%20%20%7D%20else%20if%20(sel%20==%200)%20%7B%5Cn%20%20%20%20//%20Text%20unselected,%20cursor%20at%20left%20margin:%5Cn%20%20%20%20//%20alert(text);%5Cn%20%20%20%20newText%20=%20text.replace(/%5E([%20%5C%5Ct]*)(.*)/,%20&#39;$1//%20$2&#39;)%5Cn%20%20%20%20selPos%20=%20lnRange[0];%5Cn%20%20%20%20selLen%20=%20text.length;%5Cn%20%20%7D%20else%20%7B%5Cn%20%20%20%20//%20Text%20selected:%5Cn%20%20%20%20m%20=%20text.match(/%5E([%20%5C%5Ct]+)/);%5Cn%20%20%20%20if%20(m)%20%7B%5Cn%20%20%20%20%20%20let%20indent%20=%20m[1];%5Cn%20%20%20%20%20%20let%20re%20=%20new%20RegExp(&#39;%5E&#39;%20+%20indent,%20&#39;gm&#39;);%5Cn%20%20%20%20%20%20newText%20=%20text.replace(re,%20indent%20+%20tag);%5Cn%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20let%20re%20=%20new%20RegExp(&#39;%5E(.+)&#39;,%20&#39;gm&#39;);%5Cn%20%20%20%20%20%20newText%20=%20text.replace(re,%20&#39;//%20$1&#39;);%5Cn%20%20%20%20%7D%5Cn%20%20%20%20%5Cn%20%20%20%20//%20newText%20=%20text.replace(/%5E([%20%5C%5Ct]*)(%5C%5CS.*)$/gm,%20&#39;$1//%20$2&#39;)%5Cn%20%20%20%20selPos%20=%20lnRange[0];%5Cn%20%20%20%20selLen%20=%20text.length;%5Cn%20%20%20%20sel%20=%20newText.length;%5Cn%20%20%7D%5Cn%5Cn%20%20//%20update%20text%20and%20set%20new%20selection:%5Cn%20%20editor.setTextInRange(selPos,%20selLen,%20newText);%5Cn%20%20editor.setSelectedRange(selRange[0]%20+%20offset,%20sel);%5Cn%5Cn%7D%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22901AF9B7-E77B-4CDB-9EF0-B28431A0D08F%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:0,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22/%22,%22controlKey%22:false,%22commandKey%22:true,%22type%22:%22action%22,%22discoverabilityTitle%22:%22JS%20Comment%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22Toggles%20comments%20of%20single%20or%20multiple%20lines.%5CnSets%20tags%20at%20original%20indenting.%5Cn%5CnNote!%20Will%20not%20comment%20lines%20on%20higher%20blocks%20(less%20indented%20than%20first%20selected%20line)!%5CnWill%20not%20work%20well%20with%20mixed%20indenting%20(mix%20of%20spaces%20and%20tabs)%22,%22keyUseIcon%22:true,%22icon%22:%22sim-card-off%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22JS%20Comment%22%7D,%7B%22uuid%22:%224B8D6FE9-5D66-4078-84B4-0843827CE92A%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20JS%20Indent%5Cn//%20RV%202020-03-06%20at%2017:42%20EST%5Cn%5Cn//%20Indents%20single%20or%20multiple%20lines%20with%20two%20spaces%5Cn%5Cnvar%20lnRange%20=%20editor.getSelectedLineRange();%5Cnvar%20text%20=%20editor.getTextInRange(lnRange[0],lnRange[1]);%5Cnvar%20selRange%20=%20editor.getSelectedRange();%5Cnvar%20charsAdded%20=%200;%5Cnvar%20newText%20=%20&#39;&#39;;%5Cn%5Cnmain:%20%7B%5Cn%20%20//%20when%20text%20is%20unselected%20and%20cursor%20at%20beginning%20of%20line%20%5Cn%20%20if%20(lnRange[1]%20==%201)%20%7B%5Cn%20%20%20%20editor.setTextInRange(selRange[0],%20selRange[1],%20&#39;%20%20&#39;);%5Cn%20%20%20%20editor.setSelectedRange(selRange[0]%20+%202,%20selRange[1]);%5Cn%20%20%20%20break%20main;%5Cn%20%20%7D%5Cn%5Cn%20%20newText%20=%20text.replace(/(.+)/gm,%20&#39;%20%20$1&#39;)%5Cn%20%20charsAdded%20=%20newText.length%20-%20text.length;%5Cn%5Cn%20%20//%20update%20text%20and%20set%20new%20selection:%5Cn%20%20editor.setTextInRange(lnRange[0],lnRange[1],%20newText);%5Cn%5Cn%20%20if%20(newText.split(&#39;%5C%5Cn&#39;).length%20%5Cu003e%202)%20%7B%5Cn%20%20%20%20editor.setSelectedRange(lnRange[0],%20lnRange[1]%20+%20charsAdded);%5Cn%20%20%7D%5Cn%20%20else%20%7B%5Cn%20%20%20%20editor.setSelectedRange(selRange[0]%20+%202,%20selRange[1]);%5Cn%20%20%7D%5Cn%7D%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22024AA954-167C-4F12-9A3E-7BB8C8B45D6E%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:0,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22]%22,%22controlKey%22:false,%22commandKey%22:true,%22type%22:%22action%22,%22discoverabilityTitle%22:%22JS%20Indent%20%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22Indents%20single%20or%20multiple%20lines%20with%20two%20spaces%22,%22keyUseIcon%22:true,%22icon%22:%22indent%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22JS%20Indent%20%22%7D,%7B%22uuid%22:%2210CEEAEB-6F59-4E3B-9400-08EB02728069%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20JS%20Outdent%5Cn//%20RV%202020-03-06%20at%2018:36%20EST%5Cn%5Cn//%20Outdents%20single%20or%20mutliple%20lines.%5Cn//%20Removes%20two%20spaces%20or%20tab.%5Cn%5Cnvar%20lnRange%20=%20editor.getSelectedLineRange();%5Cnvar%20text%20=%20editor.getTextInRange(lnRange[0],lnRange[1]);%5Cnvar%20selRange%20=%20editor.getSelectedRange();%5Cnvar%20charsAdded%20=%200;%5Cnvar%20newText%20=%20&#39;&#39;;%5Cnvar%20lnCount%20=%20text.split(&#39;%5C%5Cn&#39;).length;%5Cn%5Cnmain:%20%7B%5Cn%20%20//%20Blank%20line%20or%20no%20indents:%5Cn%20%20if%20(lnRange[1]%20==%201%20%7C%7C%20text.match(/%5E%5C%5CS/))%20break%20main;%20%5Cn%5Cn%20%20newText%20=%20text.replace(/%5E%5C%5Ct%7C%5E%20%20%7C%5E%20/gm,%20&#39;&#39;)%5Cn%20%20charsAdded%20=%20newText.length%20-%20text.length;%5Cn%5Cn%20%20//%20update%20text%20and%20set%20new%20selection:%5Cn%20%20editor.setTextInRange(lnRange[0],lnRange[1],%20newText);%5Cn%5Cn%20%20if%20(lnCount%20%5Cu003e%202)%20%7B%5Cn%20%20%20%20editor.setSelectedRange(lnRange[0],%20lnRange[1]%20+%20charsAdded);%5Cn%20%20%7D%5Cn%20%20else%20%7B%5Cn%20%20%20%20let%20offset%20=%202;%5Cn%20%20%20%20if%20(selRange[0]%20-%20lnRange[0]%20==%200)%20offset%20=%200;%5Cn%5Cn%20%20%20%20editor.setSelectedRange(selRange[0]%20-%20offset,%20selRange[1]);%5Cn%20%20%7D%5Cn%7D%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%221FC6F6D4-9AA3-46DD-96F5-BFB3A185CE58%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:0,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22]%22,%22controlKey%22:false,%22commandKey%22:true,%22type%22:%22action%22,%22discoverabilityTitle%22:%22JS%20Outdent%22,%22shiftKey%22:true%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22Outdents%20single%20or%20mutliple%20lines.%5CnRemoves%20two%20spaces%20or%20tab.%22,%22keyUseIcon%22:true,%22icon%22:%22indent-decrease%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22JS%20Outdent%22%7D,%7B%22uuid%22:%2281319DB9-5DB2-4218-B7F6-BB7694C0A5F3%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20use%20insert.js%5Cn//%20RV%202020-03-10%20at%2018:37%5Cn%5Cnconst%20code%20=%20%60function%20name(val1,%20val2)%20%7B%5Cn%20%20let%20sum%20=%20val1%20+%20val2;%5Cn%20%20return%20sum;%5Cn%7D%5Cn%60%5Cnlet%20=%20moveCaret%20=%209;%5Cnlet%20=%20selLength%20=%204;%5Cn%5Cn//%20Include%20from%20Drafts%20iCloud%20Drive%20&#39;/Library/Scripts/insert.js&#39;:%5Cnrequire(&#39;insert.js&#39;)%5Cn//%20Inserts%20code%20and%20keeps%20indents:%5Cninsert(code,%20moveCaret,%20selLength);%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%225DAD32EC-DD2D-46CB-9C2F-CB7DFEEFCAB5%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22func()%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22function%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22Inserts%20%60function%20name()%20%7B%7D%60%20template%20%22,%22keyUseIcon%22:false,%22icon%22:%22settings%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22function%22%7D,%7B%22uuid%22:%22611D4A80-2689-4C92-97C2-A0BB7B74A03C%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22template%22:%22let%20%22%7D,%22type%22:%22insertText%22,%22isEnabled%22:true,%22uuid%22:%22C88E2B70-186A-45BA-B2CE-2058087A9943%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22let%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22let%20%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:false,%22icon%22:%22action_right%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22let%20%22%7D,%7B%22uuid%22:%222E226C8E-2462-4A4D-9F20-A8740C24EBB0%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Smart%20&#39;=&#39;%20key%5Cn//%202020-03-09%20at%2022:42%5Cn%5Cnvar%20key%20=%20%5C%22=%5C%22;%5Cnvar%20range%20=%20editor.getSelectedRange();%5Cnvar%20priorText%20=%20editor.getTextInRange(0,%20range[0]);%5Cn%5Cnif%20(range[1]%20%5Cu003e%200)%20%7B%20%5Cn%20%20//%20if%20selection%20%5Cn%20%20app.displayInfoMessage(&#39;Text%20selected!%20Use%20unseleted!&#39;)%5Cn%7D%20else%20%7B%5Cn%20%20//%20no%20selection%5Cn%20%20let%20move%20=%200;%5Cn%20%20if%20(priorText.endsWith(&#39;=%20&#39;))%20%7B%5Cn%5Ct%20%20editor.setSelectedRange(range[0]%20-%201,%201);%5Cn%20%20%20%20editor.setSelectedText(key%20+%20&#39;%20&#39;);%5Cn%20%20%20%20move%20=%201;%5Cn%20%20%7D%20else%20if%20(priorText.match(/[%20=]$/))%20%7B%5Cn%20%20%20%20editor.setSelectedText(key%20+%20&#39;%20&#39;);%5Cn%20%20%20%20move%20=%202;%5Cn%20%20%7D%20else%20%7B%5Cn%20%20%20%20editor.setSelectedText(&#39;%20&#39;%20+%20key%20+%20&#39;%20&#39;);%5Cn%20%20%20%20move%20=%203;%5Cn%20%20%7D%5Cn%20%20editor.setSelectedRange(range[0]%20+%20move,%200);%5Cn%7D%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22511DA204-40C5-4E38-A2A5-AE0D7AF3E99A%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Smart%20Equal%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:true,%22icon%22:%22438-equals%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Smart%20Equal%22%7D,%7B%22uuid%22:%2285C3F133-0A9E-482D-BD82-DEB368AE230C%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22template%22:%22;%22%7D,%22type%22:%22insertText%22,%22isEnabled%22:true,%22uuid%22:%2281DD3AA9-EF90-4BE8-B5CE-A57BB6E0956D%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%20;%20%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Semicolon%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:false,%22icon%22:%22radio-button%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Semicolon%22%7D,%7B%22uuid%22:%2288B5A94F-A118-4C0A-B3C0-9A5535FF5E06%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Smart%20brace%20key%5Cn%5Cn//%20If%20a%20selection%20is%20present,%20wrap%20the%20text%20in%20braces.%20If%20no%20selection,%20scan%20text%20for%20last%20brace%20and%20close%20it%20if%20last%20one%20was%20an%20open%20brace,%20or%20insert%20open%20brace%20if%20not.%5Cn%5Cnvar%20open%20=%20%5C%22%7B%5C%22;%5Cnvar%20close%20=%20%5C%22%7D%5C%22;%5Cn%5Cnvar%20range%20=%20editor.getSelectedRange();%5Cnvar%20priorText%20=%20editor.getTextInRange(0,%20range[0]);%5Cn%5Cnif%20(range[1]%20%5Cu003e%200)%20%7B%20%5Cn%20//text%20selected,%20wrap%20it!%5Cn%20editor.setSelectedText(open%20+%20editor.getSelectedText()%20+%20close);%5Cn%20editor.setSelectedRange(range[0]%20+%20range[1]%20+%20open.length%20+%20close.length,%200);%5Cn%7D%5Cnelse%20%7B%5Cn%20//%20no%20selection,%20find%20last%20%5Cn%20var%20lastOpen%20=%20priorText.lastIndexOf(open);%5Cn%20var%20lastClose%20=%20priorText.lastIndexOf(close);%5Cn%20%5Cn%20if%5Ct(lastOpen%20==%20-1%20%7C%7C%20lastClose%20%5Cu003e%20lastOpen)%20%7B%20//%20no%20close,%20use%20open%5Cn%20%20%20editor.setSelectedText(open);%5Cn%20%20%20editor.setSelectedRange(range[0]+open.length,%200);%5Cn%20%7D%5Cn%20else%20%7B%20//%20close%20last%20open%5Cn%20%20%20editor.setSelectedText(close);%5Cn%20%20%20editor.setSelectedRange(range[0]+close.length,%200);%5Cn%20%7D%5Cn%7D%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%2220D84E95-B173-491A-9C4B-C42892905D2E%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%7B%20%7D%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22[%22,%22controlKey%22:false,%22commandKey%22:true,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Smart%20Braces%22,%22shiftKey%22:true%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:false,%22icon%22:%22action_markdown%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Smart%20Braces%22%7D,%7B%22uuid%22:%22E2A42EF1-7A10-4898-879B-FCC58256F15B%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Smart%20plain%20quotes%20key%5Cn//%20If%20a%20selection%20is%20present,%20wrap%20the%20text%20in%20quotes.%20If%20no%20selection,%20insert%20it.%5Cn%5Cnvar%20open%20=%20%5C%22&#39;%5C%22;%5Cnvar%20close%20=%20%5C%22&#39;%5C%22;%5Cn%5Cnvar%20range%20=%20editor.getSelectedRange();%5Cnvar%20priorText%20=%20editor.getTextInRange(0,%20range[0]);%5Cn%5Cnif%20(range[1]%20%5Cu003e%200)%20%7B%20%5Cn%20%20//text%20selected,%20wrap%20it!%5Cn%20%20editor.setSelectedText(open%20+%20editor.getSelectedText()%20+%20close);%5Cn%20%20editor.setSelectedRange(range[0]%20+%20range[1]%20+%20open.length%20+%20close.length,%200);%5Cn%7D%5Cnelse%20%7B%5Cn%20%20//%20no%20selection,%20find%20last%20%5Cn%20%20var%20lastOpen%20=%20priorText.lastIndexOf(open);%5Cn%20%20var%20lastClose%20=%20priorText.lastIndexOf(close);%5Cn%20%5Cn%20%20if%5Ct(lastOpen%20==%20-1%20%7C%7C%20lastClose%20%5Cu003e%20lastOpen)%20%7B%20//%20no%20close,%20use%20open%5Cn%20%20%20%20editor.setSelectedText(open);%5Cn%20%20%20%20editor.setSelectedRange(range[0]%20+%20open.length,%200);%5Cn%20%20%7D%5Cn%20%20%20else%20%7B%20//%20close%20last%20open%5Cn%20%20%20%20%20editor.setSelectedText(close);%5Cn%20%20%20%20%20editor.setSelectedRange(range[0]%20+%20close.length,%200);%5Cn%20%20%7D%5Cn%7D%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22E86AFB3C-8A51-46D1-8264-CC64A69449E1%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22&#39;%20&#39;%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Smart%20Plain%20Quotes%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:false,%22icon%22:%22format-text%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Smart%20Plain%20Quotes%22%7D,%7B%22uuid%22:%228F5DF244-2BAD-4BC9-928C-006ADE18137D%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Smart%20parentheses%20key%5Cn%5Cn//%20If%20a%20selection%20is%20present,%20wrap%20the%20text%20in%20parentheses.%20If%20no%20selection,%20scan%20text%20for%20last%20parenthesis%20and%20close%20it%20if%20last%20one%20was%20an%20open%20parenthesis,%20or%20insert%20open%20parenthesis%20if%20not.%5Cn%5Cnvar%20open%20=%20%5C%22(%5C%22;%5Cnvar%20close%20=%20%5C%22)%5C%22;%5Cn%5Cnvar%20range%20=%20editor.getSelectedRange();%5Cnvar%20priorText%20=%20editor.getTextInRange(0,%20range[0]);%5Cn%5Cnif%20(range[1]%20%5Cu003e%200)%20%7B%20%5Cn%20//text%20selected,%20wrap%20it!%5Cn%20editor.setSelectedText(open%20+%20editor.getSelectedText()%20+%20close);%5Cn%20editor.setSelectedRange(range[0]%20+%20range[1]%20+%20open.length%20+%20close.length,%200);%5Cn%7D%5Cnelse%20%7B%5Cn%20//%20no%20selection,%20find%20last%20%5Cn%20var%20lastOpen%20=%20priorText.lastIndexOf(open);%5Cn%20var%20lastClose%20=%20priorText.lastIndexOf(close);%5Cn%20%5Cn%20if%5Ct(lastOpen%20==%20-1%20%7C%7C%20lastClose%20%5Cu003e%20lastOpen)%20%7B%20//%20no%20close,%20use%20open%5Cn%20%20%20editor.setSelectedText(open);%5Cn%20%20%20editor.setSelectedRange(range[0]+open.length,%200);%5Cn%20%7D%5Cn%20else%20%7B%20//%20close%20last%20open%5Cn%20%20%20editor.setSelectedText(close);%5Cn%20%20%20editor.setSelectedRange(range[0]+close.length,%200);%5Cn%20%7D%5Cn%7D%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22FE3C9FB4-4453-4648-A1C0-8247CF4A4B44%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22(%20)%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Smart%20Parentheses%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:false,%22icon%22:%22action_markdown%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Smart%20Parentheses%22%7D,%7B%22uuid%22:%220D8F6FAE-B152-4856-BDD8-62B27FF60DDB%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Smart%20brackets%20key%5Cn%5Cn//%20If%20a%20selection%20is%20present,%20wrap%20the%20text%20in%20brackets.%20If%20no%20selection,%20scan%20text%20for%20last%20bracket%20and%20close%20it%20if%20last%20one%20was%20an%20open%20bracket,%20or%20insert%20open%20brackets%20if%20not.%5Cn%5Cnvar%20open%20=%20%5C%22[%5C%22;%5Cnvar%20close%20=%20%5C%22]%5C%22;%5Cn%5Cnvar%20range%20=%20editor.getSelectedRange();%5Cnvar%20priorText%20=%20editor.getTextInRange(0,%20range[0]);%5Cn%5Cnif%20(range[1]%20%5Cu003e%200)%20%7B%20%5Cn%20//text%20selected,%20wrap%20it!%5Cn%20editor.setSelectedText(open%20+%20editor.getSelectedText()%20+%20close);%5Cn%20editor.setSelectedRange(range[0]%20+%20range[1]%20+%20open.length%20+%20close.length,%200);%5Cn%7D%5Cnelse%20%7B%5Cn%20//%20no%20selection,%20find%20last%20%5Cn%20var%20lastOpen%20=%20priorText.lastIndexOf(open);%5Cn%20var%20lastClose%20=%20priorText.lastIndexOf(close);%5Cn%20%5Cn%20if%5Ct(lastOpen%20==%20-1%20%7C%7C%20lastClose%20%5Cu003e%20lastOpen)%20%7B%20//%20no%20close,%20use%20open%5Cn%20%20%20editor.setSelectedText(open);%5Cn%20%20%20editor.setSelectedRange(range[0]+open.length,%200);%5Cn%20%7D%5Cn%20else%20%7B%20//%20close%20last%20open%5Cn%20%20%20editor.setSelectedText(close);%5Cn%20%20%20editor.setSelectedRange(range[0]+close.length,%200);%5Cn%20%7D%5Cn%7D%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22F6B8E1F2-8F39-4EC4-B809-B12DE9D576A3%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22[%20]%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Smart%20Brackets%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:false,%22icon%22:%22action_markdown%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Smart%20Brackets%22%7D,%7B%22uuid%22:%2246EB62E6-5255-4A8B-9A4B-1B2D72C354D9%22,%22steps%22:[%7B%22platforms%22:0,%22data%22:%7B%22script%22:%22//%20insert.js%5Cn//%20RV%202020-03-10%20at%2018:51%5Cn%5Cn//%20Save%20to%20iCloud%20Drive%20&#39;/Library/Scripts/insert.js&#39;%5Cn//%20And%20reuse%20in%20other%20scripts%20with%20statement:%5Cn//%20require(&#39;insert.js&#39;)%5Cn//%20Uses%20two%20spaces%20for%20indentation!%5Cn%5Cnfunction%20insert(code,%20move,%20len)%20%7B%5Cn%20%20//%20Smart%20indent%20block%5Cn%20%20let%20range%20=%20editor.getSelectedRange();%5Cn%20%20let%20lnRange%20=%20editor.getSelectedLineRange();%5Cn%20%20let%20before%20=%20editor.getTextInRange(lnRange[0],%20range[0]%20-%20lnRange[0]);%5Cn%20%20indent%20=%20&#39;%20&#39;.repeat(before.length);%5Cn%20%20%5Cn%20%20//%20no%20selection%5Cn%20%20let%20lines%20=%20code.split(&#39;%5C%5Cn&#39;);%5Cn%20%20let%20newLines%20=%20[];%5Cn%20%20let%20prefix%20=%20&#39;&#39;;%5Cn%20%20%5Cn%20%20%5Cn%20%20if%20(before.match(/%5C%5CS/))%20prefix%20=%20&#39;%5C%5Cn&#39;%20+%20indent;%5Cn%20%20m%20=%20before.match(/([%20%5C%5Ct]*)%5C%5C%7D/)%5Cn%20%20if%20(m)%20%7B%5Cn%20%20%5Ct%20%20indent%20=%20m[1];%5Cn%20%20%20%20prefix%20=%20&#39;&#39;;%5Cn%20%20%7D%5Cn%20%20if%20(len%20==%200)%20move%20+=%20indent.length;%5Cn%20%20newLines.push(prefix%20+%20[lines[0]]);%20//%20First%20line%5Cn%20%20for%20(line%20of%20lines.slice(1))%20%7B%5Cn%20%20%20%20newLines.push(indent%20+%20line);%5Cn%20%20%7D%5Cn%20%20editor.setSelectedText(newLines.join(&#39;%5C%5Cn&#39;));%5Cn%20%20editor.setSelectedRange(range[0]%20+%20move%20+%20prefix.length,%20len);%20%20%5Cn%7D%5Cn%20%20%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22FB1EFA23-91FD-47D3-9890-EFD00B37B935%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22if%20%7B%7D%22,%22shouldConfirm%22:true,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22insert.js%20function()%20%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22blue%22,%22actionDescription%22:%22Save%20script%20to%20iCloud%20Drive%20%60/Library/Scripts/%60%5Cnas%20%60insert.js%60%5CnAnd%20reuse%20in%20other%20scripts%20with%20statement:%5Cn%60require(&#39;insert.js&#39;)%60%5Cn%5CnLibrary%20function,%20not%20to%20be%20run%20on%20its%20own!%5Cn%22,%22keyUseIcon%22:false,%22icon%22:%22sim-card%22,%22visibility%22:160,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22insert.js%20function()%20%22%7D,%7B%22uuid%22:%2231E3CAE2-C281-4C03-9590-35056EC87C4E%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20prompt%20for%20file%20name%5Cnlet%20title%20=%20draft.processTemplate(%5C%22[[safe_title]]%5C%22);%5Cntitle%20=%20title.replace(&#39;.js&#39;,%20&#39;&#39;)%5Cn%5Cnlet%20p%20=%20Prompt.create();%5Cnp.title%20=%20%5C%22Save%20as...%5C%22;%5Cnp.addTextField(%5C%22fileName%5C%22,%20%5C%22Name%5C%22,%20title%20+%20%5C%22.js%5C%22);%5Cnp.addButton(%5C%22Export%5C%22);%5Cn%5Cnif%20(p.show())%20%7B%5Cn%20%20let%20fileName%20=%20p.fieldValues[%5C%22fileName%5C%22];%5Cn%20%20draft.setTemplateTag(%5C%22file%5C%22,%20fileName);%5Cn%7D%20else%20%7B%5Cn%20%20context.cancel();%5Cn%7D%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%2252C0E27B-65EE-4B48-8791-F30E210B43DF%22%7D,%7B%22platforms%22:0,%22data%22:%7B%22fileNameTemplate%22:%22/Library/Scripts/[[file]]%22,%22template%22:%22[[draft]]%22%7D,%22type%22:%22export%22,%22isEnabled%22:true,%22uuid%22:%22D03FBAAE-0FC9-418A-AE5D-0FFA6A9EE964%22%7D,%7B%22platforms%22:3,%22data%22:%7B%22template%22:%22[[draft]]%22,%22writeType%22:%22create%22,%22folderTemplate%22:%22/Library/Scripts%22,%22local%22:%22false%22,%22fileNameTemplate%22:%22[[file]]%22%7D,%22type%22:%22file%22,%22isEnabled%22:true,%22uuid%22:%2296F61699-81A1-4CE9-9C2E-918E2397224B%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Save%20to%20Script%20Library...%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:2,%22tintColor%22:%22blue%22,%22actionDescription%22:%22Export%20to%20files,%20prompting%20for%20file%20name.%22,%22keyUseIcon%22:true,%22icon%22:%22action_export%22,%22visibility%22:160,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Save%20to%20Script%20Library...%22%7D,%7B%22uuid%22:%22F816E494-73E2-4D9B-8C04-FC1C46B86B63%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20use%20insert.js%5Cn//%202020-03-09%20at%2022:42%5Cn%5Cnconst%20code%20=%20%60if%20(true)%20%7B%5Cn%20%20%5Cn%7D%20%60%5Cnlet%20=%20moveCaret%20=%204;%5Cnlet%20=%20selLength%20=%204;%5Cn%5Cn//%20Include%20from%20Drafts%20iCloud%20Drive%20&#39;/Library/Scripts/insert.js&#39;:%5Cnrequire(&#39;insert.js&#39;)%5Cn//%20Inserts%20code%20and%20keeps%20indents:%5Cninsert(code,%20moveCaret,%20selLength);%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22CCA156CD-D8E9-4623-B721-97749754D647%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22if%20%7B%7D%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22if%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22insert%20if%20block%22,%22keyUseIcon%22:false,%22icon%22:%22451-help-symbol2%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22if%22%7D,%7B%22uuid%22:%22996AC0E9-F1D6-471A-9FB5-4196214C29F1%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20use%20insert.js%5Cn//%20RV%202020-03-10%20at%2018:37%5Cn%5Cnconst%20code%20=%20%60else%20if%20(true)%20%7B%5Cn%20%20%5Cn%7D%20%5Cn%60%5Cnlet%20=%20moveCaret%20=%209;%5Cnlet%20=%20selLength%20=%204;%5Cn%5Cn//%20Include%20from%20Drafts%20iCloud%20Drive%20&#39;/Library/Scripts/insert.js&#39;:%5Cnrequire(&#39;insert.js&#39;)%5Cn//%20Inserts%20code%20and%20keeps%20indents:%5Cninsert(code,%20moveCaret,%20selLength);%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%229AF1766B-13D4-4EB5-99B1-128809A87174%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22elif%20%7B%7D%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22else%20if%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:false,%22icon%22:%22441-help-symbol1%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22else%20if%22%7D,%7B%22uuid%22:%226AB9DCE2-D0F7-4F89-B345-7AB154D7CFC3%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20use%20insert.js%5Cn//%20RV%202020-03-10%20at%2018:37%5Cn%5Cnconst%20code%20=%20%60else%20%7B%5Cn%20%20%5Cn%7D%5Cn%5Cn%60%5Cnlet%20=%20moveCaret%20=%209;%5Cnlet%20=%20selLength%20=%200;%5Cn%5Cn//%20Include%20from%20Drafts%20iCloud%20Drive%20&#39;/Library/Scripts/insert.js&#39;:%5Cnrequire(&#39;insert.js&#39;)%5Cn//%20Inserts%20code%20and%20keeps%20indents:%5Cninsert(code,%20moveCaret,%20selLength);%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%2295EC2A12-AD47-4D6A-A68D-256D0522D6F6%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22else%20%7B%7D%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22else%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:false,%22icon%22:%22428-checkmark1%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22else%22%7D,%7B%22uuid%22:%22AC4F30C4-6A49-4FD5-A2A2-53302D2C1460%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20use%20insert.js%5Cn//%20RV%202020-03-10%20at%2018:37%5Cn%5Cnconst%20code%20=%20%60for%20(const%20item%20of%20[])%20%7B%5Cn%20%20%5Cn%7D%5Cn%60%5Cnlet%20=%20moveCaret%20=%2019;%5Cnlet%20=%20selLength%20=%202;%5Cn%5Cn//%20Include%20from%20Drafts%20iCloud%20Drive%20&#39;/Library/Scripts/insert.js&#39;:%5Cnrequire(&#39;insert.js&#39;)%5Cn//%20Inserts%20code%20and%20keeps%20indents:%5Cninsert(code,%20moveCaret,%20selLength);%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22458E6F2B-9FE6-4750-831B-1DB59DDA49E2%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22for%20of%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22for%20of%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:false,%22icon%22:%22332-rotate%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22for%20of%22%7D,%7B%22uuid%22:%22BA6B5662-3B28-4075-8A44-AD746A9FFBA0%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20use%20insert.js%5Cn//%20RV%202020-03-10%20at%2018:37%5Cn%5Cnconst%20code%20=%20%60let%20test%20=%20&#39;&#39;;%5Cnfor%20(i%20=%200;%20i%20%5Cu003c%205;%20i++)%20%7B%5Cn%20%20test%20+=%20%5C%22Test%20%5C%22%20+%20i%20+%20%5C%22%5C%5C%5C%5Cn%5C%22;%5Cn%7D%5Cn%60%5Cnlet%20=%20moveCaret%20=%2031;%5Cnlet%20=%20selLength%20=%201;%5Cn%5Cn//%20Include%20from%20Drafts%20iCloud%20Drive%20&#39;/Library/Scripts/insert.js&#39;:%5Cnrequire(&#39;insert.js&#39;)%5Cn//%20Inserts%20code%20and%20keeps%20indents:%5Cninsert(code,%20moveCaret,%20selLength);%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22F00E6463-6DE0-45B3-AC29-FA71E14ACE3A%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22for%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22for%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22for%20(i%20=%200;%20i%20%5Cu003c%205;%20i++)%20%7B%7D%22,%22keyUseIcon%22:false,%22icon%22:%22333-backintime%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22for%22%7D,%7B%22uuid%22:%222BB1C9FF-74A7-461E-B2D6-A6249432135C%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20use%20insert.js%5Cn//%20RV%202020-03-10%20at%2018:37%5Cn%5Cnconst%20code%20=%20%60while%20(true)%20%7B%5Cn%20%20%5Cn%7D%20%5Cn%60%5Cnlet%20=%20moveCaret%20=%207;%5Cnlet%20=%20selLength%20=%204;%5Cn%5Cn//%20Include%20from%20Drafts%20iCloud%20Drive%20&#39;/Library/Scripts/insert.js&#39;:%5Cnrequire(&#39;insert.js&#39;)%5Cn//%20Inserts%20code%20and%20keeps%20indents:%5Cninsert(code,%20moveCaret,%20selLength);%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22BBA17E4F-6B3F-4464-A865-DCC70D8E5C82%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22while%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22while%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:false,%22icon%22:%22397-self-timer%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22while%22%7D,%7B%22uuid%22:%228B90780C-0248-4C30-8A56-1FF5B79A9F92%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20use%20insert.js%5Cn//%20RV%202020-03-10%20at%2018:37%5Cn%5Cnconst%20code%20=%20%60do%20%7B%5Cn%20%20%5Cn%7D%20while%20(true);%5Cn%60%5Cnlet%20=%20moveCaret%20=%207;%5Cnlet%20=%20selLength%20=%200;%5Cn%5Cn//%20Include%20from%20Drafts%20iCloud%20Drive%20&#39;/Library/Scripts/insert.js&#39;:%5Cnrequire(&#39;insert.js&#39;)%5Cn//%20Inserts%20code%20and%20keeps%20indents:%5Cninsert(code,%20moveCaret,%20selLength);%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22CAD072B4-DDE1-4DB7-BB1C-ECEA9945890D%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22do%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22do%20while%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:false,%22icon%22:%22action_redo%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22do%20while%22%7D,%7B%22uuid%22:%223E794779-3E9C-4D5A-AC3A-B1155F7605B3%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20use%20insert.js%5Cn//%20RV%202020-03-10%20at%2018:37%5Cn%5Cnconst%20code%20=%20%60switch%20(&#39;value&#39;)%20%7B%5Cn%20%20case%20&#39;value&#39;:%5Cn%20%20%20%20%5Cn%20%20%20%20break;%5Cn%20%20case%20&#39;value2&#39;:%5Cn%20%20%20%20%5Cn%20%20%20%20break;%5Cn%20%20default:%5Cn%20%20%20%20app.displayErrorMessage(&#39;switch/case%20not%20implemented!&#39;);%5Cn%20%20%20%20break;%5Cn%7D%5Cn%60%5Cnlet%20=%20moveCaret%20=%208;%5Cnlet%20=%20selLength%20=%207;%5Cn%5Cn//%20Include%20from%20Drafts%20iCloud%20Drive%20&#39;/Library/Scripts/insert.js&#39;:%5Cnrequire(&#39;insert.js&#39;)%5Cn//%20Inserts%20code%20and%20keeps%20indents:%5Cninsert(code,%20moveCaret,%20selLength);%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22826E168D-99F0-4EF4-9004-34939F97DBB4%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22switch%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22switch%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22Inserts%20switch%20sample%20template%5Cn%5CnNote!%20Use%20with%20&#39;insert.js&#39;%20library.%22,%22keyUseIcon%22:false,%22icon%22:%22share-alt%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22switch%22%7D,%7B%22uuid%22:%221B16F6A4-D09C-419E-8825-B0C8E46E7949%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20use%20insert.js%5Cn//%20RV%202020-03-10%20at%2018:37%5Cn%5Cn//%20Prompt%20template%20code%20insertion:%5Cnconst%20code%20=%20%60let%20p%20=%20Prompt.create();%5Cnp.title%20=%20&#39;title&#39;;%5Cnp.message%20=%20&#39;message&#39;;%5Cnp.addTextField(&#39;field&#39;,%20&#39;Label&#39;,%20&#39;&#39;);%5Cnp.addTextView(&#39;text&#39;,%20&#39;Label&#39;,%20&#39;&#39;,%20%7B&#39;height&#39;:60,%20&#39;keyboard&#39;:&#39;default&#39;%7D);%5Cnp.addSwitch(&#39;sw&#39;,%20&#39;Label&#39;,%20false);%5Cnp.addDatePicker(%5C%22dt%5C%22,%20&#39;Label&#39;,%20new%20Date(),%20%7B&#39;mode&#39;:&#39;dateAndTime&#39;%7D);%5Cnp.addPicker(&#39;pick&#39;,%20&#39;Label&#39;,%20[[&#39;pick1&#39;,%20&#39;pick2&#39;]],%20[0]);%5Cnp.addSelect(&#39;select&#39;,%20&#39;Label&#39;,%20[&#39;sel1&#39;,%20&#39;sel2&#39;],%20[&#39;sel2&#39;],%20false);%5Cn%5Cnlet%20buttons%20=%20[&#39;btn1&#39;,%20&#39;btn2&#39;];%5Cnfor%20(var%20button%20of%20buttons)%20%7B%5Cn%20%20p.addButton(button);%5Cn%7D%5Cn%5Cnif%20(p.show())%20%7B%5Cn%20%20var%20field%20=%20p.fieldValues[&#39;field&#39;];%5Cn%20%20var%20text%20=%20p.fieldValues[&#39;text&#39;];%5Cn%20%20var%20sw%20=%20p.fieldValues[&#39;sw&#39;];%5Cn%20%20var%20dt%20=%20p.fieldValues[&#39;dt&#39;];%5Cn%20%20var%20listIndex%20=%20p.fieldValues[&#39;pick&#39;];%20//%20integer%5Cn%20%20var%20selected%20=%20p.fieldValues[&#39;select&#39;];%5Cn%20%20%5Cn%20%20switch%20(p.buttonPressed)%20%7B%5Cn%20%20%20%20case%20&#39;btn1&#39;:%5Cn%20%20%20%20%20%20%5Cn%20%20%20%20%20%20break;%5Cn%20%20%20%20case%20&#39;btn2&#39;:%5Cn%20%20%20%20%20%20%5Cn%20%20%20%20%20%20break;%5Cn%20%20%20%20default:%5Cn%20%20%20%20%20%20app.displayErrorMessage(&#39;switch/case%20not%20implemented!&#39;);%5Cn%20%20%20%20%20%20break;%5Cn%20%20%7D%5Cn%7D%20else%20%7B%5Cn%20%20context.cancel();%5Cn%7D%5Cn%60%5Cnlet%20=%20moveCaret%20=%2036;%5Cnlet%20=%20selLength%20=%205;%5Cn%5Cn//%20Include%20from%20Drafts%20iCloud%20Drive%20%60/Library/Scripts/insert.js%60:%5Cnrequire(&#39;insert.js&#39;)%5Cn//%20Inserts%20code%20and%20keeps%20indents:%5Cninsert(code,%20moveCaret,%20selLength);%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22A8458F35-9239-4AC7-B510-45EFE9918C3A%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:0,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Prompt%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22Prompt%20sample%20template%22,%22keyUseIcon%22:true,%22icon%22:%22chat-message-alt%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Prompt%22%7D,%7B%22uuid%22:%22FA14B0C0-1A2F-4F60-9DBD-244F7C779728%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20JS%20Beautify%5Cn//%20RV%202020-03-12%20at%2008:49%5Cn%5Cn//%20Indents%20blocks%20of%20code%20using%20two%20spaces%20for%20each%20level,%5Cn//%20by%20first%20cleaning%20all%20existing%20tab%20or%20space%20indents.%5Cn//%20Keeps%20original%20line%20spacings%20to%20max%201%20blank%20line.%5Cn//%20Keeps%20&#39;%7D%20else/else%20if%20(%E2%80%A6)%20%7B&#39;%20on%20same%20line.%5Cn%5Cnlet%20text%20=%20draft.content;%5Cn%5Cn//%20RegEx%20pre%20wash:%5Cn//%20Remove%20all%20indents,%20both%20tabs%20and%20spaces:%5Cnlet%20clean%20=%20text.replace(/%5E[%20%5C%5Ct]*/gm,%20&#39;&#39;);%20%5Cn//%20Multi%20to%20double%20linefeeds:%5Cnclean%20=%20clean.replace(/%5C%5Cn%5C%5Cn+/g,%20&#39;%5C%5Cn%5C%5Cn&#39;);%20%5Cn//%20Keep%20&#39;%7D%20else/else%20if%20(%E2%80%A6)%20%7B&#39;%20on%20same%20line:%5Cnclean%20=%20clean.replace(/%5C%5Cn%5C%5C%7D%5C%5Cs+else/g,%20&#39;%5C%5Cn%7D%20else&#39;);%20%5Cn%5Cnlet%20lines%20=%20clean.split(&#39;%5C%5Cn&#39;)%5Cnlet%20code%20=%20myIndent();%5Cn%5Cnfor%20(let%20line%20of%20lines)%20%7B%5Cn%20%20if%20(line.match(/%5E%5C%5Cs*%5C%5C/%5C%5C//))%20%7B%5Cn%20%20%20%20code.add(line);%5Cn%20%20%7D%20else%20if%20(line.match(/%5E%5C%5Cs*[%5E%7D].*%5C%5C%7B%5C%5Cs*$/))%20%7B%5Cn%20%20%20%20code.add(line);%5Cn%20%20%20%20code.indent();%5Cn%20%20//%20%7D%20else%20if%20(line.match(/%5E%5C%5Cs*%7D%20?else%20(if%20)?.*?%5C%5C%7B%5C%5Cs*$/))%20%7B%5Cn%20%20%7D%20else%20if%20(line.match(/%5E%5C%5Cs*%7D.*?%5C%5C%7B%5C%5Cs*$/))%20%7B%5Cn%20%20%20%20code.outdent();%5Cn%20%20%20%20code.add(line);%5Cn%20%20%20%20code.indent();%5Cn%20%20%7D%20else%20if%20(line.match(/%5E%5C%5Cs*%7D%5C%5Cs*/))%20%7B%5Cn%20%20%20%20code.outdent();%5Cn%20%20%20%20code.add(line);%5Cn%20%20%7D%20else%20%7B%5Cn%20%20%20%20code.add(line);%5Cn%20%20%7D%5Cn%7D%5Cn%5Cnif%20(preview(code.getText()))%20%7B%5Cn%20%20draft.saveVersion();%5Cn%20%20draft.content%20=%20code.getText();%5Cn%7D%20else%20%7B%5Cn%20%20context.cancel(&#39;Canceled%20by%20user&#39;);%5Cn%7D%5Cn%5Cnfunction%20myIndent()%20%7B%5Cn%20%20//%20Wrapped%20class%20definiteon%20in%20a%20function%20to%20avoid%20clutter%20at%20top%5Cn%20%20//%20Functions%20get%20hoisted%20classes%20not.%5Cn%20%20//%20Just%20learning%20class%20objects%E2%80%A6%20%5Cn%20%20class%20myClass%20%7B%5Cn%20%20%20%20constructor()%20%7B%5Cn%20%20%20%20%20%20//%20Indent%20=%20&#39;%20%20&#39;%20//%20(two%20spaces)%20as%20recommended%20for%20JS.%5Cn%20%20%20%20%20%20this.ind%20=%20&#39;%20%20&#39;;%20%20%5Cn%20%20%20%20%20%20this.indents%20=%20[];%5Cn%20%20%20%20%20%20this.lines%20=%20[];%5Cn%20%20%20%20%7D%5Cn%20%20%20%20indent()%20%7B%5Cn%20%20%20%20%20%20this.indents.push(this.ind);%5Cn%20%20%20%20%7D%5Cn%20%20%20%20outdent()%20%7B%5Cn%20%20%20%20%20%20this.indents.pop();%5Cn%20%20%20%20%7D%5Cn%20%20%20%20add(line)%20%7B%5Cn%20%20%20%20%20%20this.lines.push(this.indents.join(&#39;&#39;)%20+%20line);%5Cn%20%20%20%20%7D%5Cn%20%20%20%20getText()%20%7B%5Cn%20%20%20%20%20%20return%20this.lines.join(&#39;%5C%5Cn&#39;);%5Cn%20%20%20%20%7D%20%5Cn%20%20%7D%5Cn%20%20return%20new%20myClass;%5Cn%7D%5Cn%5Cnfunction%20preview(text)%20%7B%5Cn%20%20//%20Test:%20%5Cu003c%20%5Cu003e%20%5C%22%20&#39;%20%5Cu0026%5Cn%20%20text%20=%20text.replace(/%5Cu003c/g,%20&#39;%5Cu0026lt;&#39;);%5Cn%20%20//%20text%20=%20text.replace(/%5Cu003e/g,%20&#39;%5Cu0026gt;&#39;);%5Cn%20%20//%20text%20=%20text.replace(/%5Cu0026/g,%20&#39;%5Cu0026amp;&#39;);%5Cn%20%20//%20text%20=%20text.replace(/&#39;/g,%20%5C%22%5Cu0026apos;%5C%22);%5Cn%20%20//%20text%20=%20text.replace(/%5C%22/g,%20&#39;%5Cu0026quot;&#39;);%5Cn%20%20%5Cn%20%20if%20(app.themeMode%20==%20&#39;dark&#39;)%20%7B%5Cn%20%20%20%20var%20css%20=%20%5C%22body%20%7B%20background:%20%23222;%20color:%20%23ddd;%20%7D%5C%22;%5Cn%20%20%7D%20else%20%7B%5Cn%20%20%20%20var%20css%20=%20%5C%22body%20%7B%20background:%20%23fff;%20color:%20%23444;%20%7D%5C%22;%5Cn%20%20%7D%5Cn%20%20%5Cn%20%20let%20html%20=%20%60%5Cu003chtml%5Cu003e%5Cu003cstyle%5Cu003e$%7Bcss%7D%5Cu003c/style%5Cu003e%5Cu003cbody%5Cu003e%5Cn%20%20%5Cu003ch3%5Cu003eResult-code:%20Press%20to%20&#39;Continue&#39;%20to%20update%20draft.%5Cu003ch3%5Cu003e%5Cn%20%20%5Cu003chr%5Cu003e%5Cn%20%20%5Cu003cpre%5Cu003e$%7Btext%7D%5Cu003c/pre%5Cu003e%5Cn%20%20%5Cu003c/body%5Cu003e%5Cu003c/html%5Cu003e%60%5Cn%20%20let%20preview%20=%20HTMLPreview.create();%5Cn%20%20return%20preview.show(html);%5Cn%7D%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%229F232AD6-C292-4A3A-9A18-338C4457D7A7%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22JS%20Beautify%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:2,%22tintColor%22:%22none%22,%22actionDescription%22:%22Indents%20blocks%20of%20code%20using%20two%20spaces%20for%20each%20level,%20%20%5Cnby%20first%20cleaning%20all%20existing%20tab%20or%20space%20indents.%5Cn-%20Keeps%20original%20line%20spacings%20to%20max%201%20blank%20line.%5Cn-%20Keeps%20%E2%80%98%7D%20else/else%20if%20(%E2%80%A6)%20%7B%E2%80%98%20on%20same%20line.%22,%22keyUseIcon%22:false,%22icon%22:%22user-list%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22JS%20Beautify%22%7D,%7B%22uuid%22:%224E9745D4-2016-4BE0-BBAA-A544DEC80510%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20JS%20Snippets%5Cn//%20RV%202020-03-08%20at%2012:25%20EST%5Cn%5Cn//%20Inserts%20code%20from%20a%20draft%20with%20snippets.%5Cn//%20each%20snippet%20is%20headed%20by%20a%20title%20line%20and%20a%20comments%20line.%5Cn//%20both%20preceeded%20by%20&#39;//%20&#39;%20comment%20tag.%5Cn//%20Don&#39;t%20include%20other%20comment%20lines%20inside%20the%20snippets!%5Cn%5Cnconst%20uuid%20=%20&#39;00DDC27C-9A81-4C28-BAAD-F2DF041E0A82&#39;;%5Cn%5Cnmain:%20%7B%5Cn%20%20try%20%7B%5Cn%20%20%20%20var%20text%20=%20Draft.find(uuid).content%5Cn%20%20%7D%20catch%20(e)%20%7B%5Cn%20%20%20%20alert(%60%5Cn%20%20%20%20Wrong%20UUID!%5Cn%20%20%20%20Insert%20UUID%20of%20your%20snippet%20%5Cn%20%20%20%20draft%20at%20line%209%20of%20this%20script!%60);%5Cn%20%20%20%20//%20context.fail(&#39;Wrong%20UUID!&#39;);%5Cn%20%20%20%20makeSnippetDraft();%5Cn%20%20%20%20break%20main;%5Cn%20%20%7D%5Cn%20%20%5Cn%20%20let%20snippets%20=%20text.split(&#39;%5C%5Cn%5C%5Cn//%20&#39;);%5Cn%20%20let%20titles%20=%20[];%5Cn%20%20let%20snipDict%20=%20%7B%7D;%5Cn%20%20%5Cn%20%20for%20(const%20item%20of%20snippets.slice(1))%20%7B%20%5Cn%20%20%20%20//%20Skip%20draft%20title%20lines%5Cn%20%20%20%20//%20make%20title%20array%20and%20snippet%20dictionary:%5Cn%20%20%20%20let%20snip%20=%20item.split(&#39;%5C%5Cn&#39;);%5Cn%20%20%20%20let%20title%20=%20snip[0];%5Cn%20%20%20%20let%20body%20=%20snip.slice(1).join(&#39;%5C%5Cn&#39;);%5Cn%20%20%20%20titles.push(title);%5Cn%20%20%20%20snipDict[title]%20=%20body;%5Cn%20%20%7D%5Cn%5Cn%20%20let%20p%20=%20Prompt.create();%5Cn%20%20p.title%20=%20%5C%22Snippets%20Collection%5C%22;%5Cn%20%20p.message%20=%20%5C%22Insert%20JS%20snippet%20in%20code:%5C%22;%5Cn%20%20p.addSwitch(%5C%22sw%5C%22,%20%5C%22Include%20title%5C%22,%20false);%5Cn%20%20%5Cn%20%20for%20(const%20button%20of%20titles)%20%7B%5Cn%20%20%20%20p.addButton(button);%5Cn%20%20%7D%5Cn%5Cn%20%20if%20(p.show())%20%7B%5Cn%20%20%20%20let%20btn%20=%20p.buttonPressed;%5Cn%20%20%20%20let%20snippet%20=%20&#39;&#39;;%5Cn%20%20%20%20if%20(p.fieldValues[&#39;sw&#39;])%20%7B%5Cn%20%20%20%20%20%20snippet%20=%20%60//%20$%7Bbtn%7D%5C%5Cn$%7BsnipDict[btn]%7D%5C%5Cn%5C%5Cn%60;%5Cn%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20snippet%20=%20%60$%7BsnipDict[btn]%7D%5C%5Cn%5C%5Cn%60;%5Cn%20%20%20%20%7D%5Cn%20%20%20%20//%20alert(snippet);%5Cn%20%20%20%20editor.setSelectedText(snippet);%5Cn%20%20%7D%20else%20%7B%5Cn%20%20%20%20context.cancel();%5Cn%20%20%7D%5Cn%7D%5Cn%5Cnfunction%20makeSnippetDraft()%20%7B%5Cn%20%20var%20d%20=%20Draft.create();%5Cn%20%20const%20now%20=%20new%20Date();%5Cn%20%20const%20dt%20=%20now.toString(%5C%22yyyy-MM-dd,%20HH:mm%5C%22);%5Cn%20%20d.content%20=%20%60//%20Snippet%20Collection%5Cn//%20$%7Bdt%7D%5Cn//%20To%20be%20used%20with%20action:%20&#39;JS%20Snippets&#39;%20%5C%5Cn%60%20%5Cn%20%20+%20snippetSamples();%5Cn%20%20d.languageGrammar%20=%20%5C%22JavaScript%5C%22;%5Cn%20%20d.update();%5Cn%20%20d.addTag(%5C%22script%5C%22);%5Cn%20%20d.update();%5Cn%20%20app.setClipboard(d.uuid)%5Cn%20%20alert(%60New%20sample%20draft%20created%20UUID:%5Cn$%7Bd.uuid%7D%20%5CnUUID%20aready%20in%20Clipboard%20:)%5CnPaste%20in%20line%209%20of%20this%20script!%60);%5Cn%20%20//%20editor.load(d);%5Cn%7D%5Cn%5Cnfunction%20snippetSamples()%20%7B%5Cn%20%20let%20samples%20=%20%60%5Cn//%20for%20of%20loop%5Cn//%20Makes%20a%20markdown%20numbered%20list:%5Cnlet%20myList%20=%20[&#39;line%201&#39;,%20&#39;line%202&#39;,%20&#39;line%203&#39;];%5Cnlet%20newList%20=%20[];%5Cni%20=%201%5Cnfor%20(const%20item%20of%20myList)%20%7B%5Cn%20%20newList.push(i%20+%20&#39;.%20&#39;%20+%20item)%5Cn%20%20i%20+=%201;%5Cn%7D%5Cnalert(newList.join(&#39;%5C%5C%5C%5Cn&#39;))%5Cn%5Cn//%20for%20i++%20loop%5Cnlet%20text%20=%20&#39;&#39;%5Cnfor%20(i%20=%200;%20i%20%5Cu003c%205;%20i++)%20%7B%5Cn%20%20text%20+=%20&#39;Test%20&#39;%20+%20i%20+%20&#39;%5C%5C%5C%5Cn&#39;;%5Cn%7D%5Cnalert(text);%5Cn%5Cn//%20Prompt%20template%5Cn//%20Delete%20or%20replace%20all%20vars,%20labels,%20etc%20to%20suit%20your%20needs:%5Cnlet%20p%20=%20Prompt.create();%5Cnp.title%20=%20%5C%22title%5C%22;%5Cnp.message%20=%20%5C%22message%5C%22;%5Cnp.addTextField(%5C%22field%5C%22,%20%5C%22Label%5C%22,%20%5C%22%5C%22);%5Cnp.addTextView(%5C%22text%5C%22,%20%5C%22Label%5C%22,%20%5C%22%5C%22,%20%7B%5C%22height%5C%22:60,%5C%22keyboard%5C%22:%5C%22default%5C%22%7D);%5Cnp.addSwitch(%5C%22sw%5C%22,%20%5C%22Label%5C%22,%20false);%5Cnp.addDatePicker(%5C%22dt%5C%22,%20%5C%22Label%5C%22,%20new%20Date(),%20%7B%5C%22mode%5C%22:%5C%22dateAndTime%5C%22%7D);%5Cnp.addPicker(&#39;pick&#39;,%20&#39;Label&#39;,%20[[&#39;pick1&#39;,%20&#39;pick2&#39;]],%20[0]);%5Cnp.addSelect(&#39;select&#39;,%20&#39;Label&#39;,%20[&#39;sel1&#39;,%20&#39;sel2&#39;],%20[&#39;sel2&#39;],%20false);%5Cn%5Cnlet%20buttons%20=%20[%5C%22btn1%5C%22,%20%5C%22btn2%5C%22];%5Cnfor%20(var%20button%20of%20buttons)%20%7B%5Cn%20%20p.addButton(button);%5Cn%7D%5Cn%5Cnif%20(p.show())%20%7B%5Cn%20%20var%20field%20=%20p.fieldValues[&#39;field&#39;];%5Cn%20%20var%20myText%20=%20p.fieldValues[&#39;text&#39;];%5Cn%20%20var%20sw%20=%20p.fieldValues[&#39;sw&#39;];%5Cn%20%20var%20dt%20=%20p.fieldValues[&#39;dt&#39;];%5Cn%20%20var%20listIndex%20=%20p.fieldValues[&#39;pick&#39;];%20//%20integer%5Cn%20%20var%20selected%20=%20p.fieldValues[&#39;select&#39;];%5Cn%20%20%5Cn%20%20switch%20(p.buttonPressed)%20%7B%5Cn%20%20%20%20case%20&#39;btn1&#39;:%5Cn%20%20%20%20%20%20%5Cn%20%20%20%20%20%20break;%5Cn%20%20%20%20case%20&#39;btn2&#39;:%5Cn%20%20%20%20%20%20%5Cn%20%20%20%20%20%20break;%5Cn%20%20%20%20default:%5Cn%20%20%20%20%20%20app.displayErrorMessage(%5C%22switch/case%20not%20implemented!%5C%22);%5Cn%20%20%20%20%20%20break;%5Cn%20%20%7D%5Cn%7D%20else%20%7B%5Cn%20%20context.cancel();%5Cn%7D%5Cn%5Cn%60;%5Cn%20%20return%20samples;%5Cn%7D%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22FE56812B-250B-41B8-BCBC-681B345D50D9%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22Snips%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22JS%20Snippets%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:2,%22tintColor%22:%22none%22,%22actionDescription%22:%22Inserts%20code%20from%20a%20draft%20with%20snippets.%5Cn-%20each%20snippet%20is%20headed%20by%20a%20title%20line%20and%20a%20comments%20line.%5Cn-%20both%20preceeded%20by%20&#39;//%20&#39;%20comment%20tag.%5Cn-%20Don&#39;t%20include%20other%20comment%20lines%20inside%20the%20snippets!%22,%22keyUseIcon%22:true,%22icon%22:%22inbox-full%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22JS%20Snippets%22%7D,%7B%22uuid%22:%22A8FB9A3D-E379-4D68-B307-9D4D73031318%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Copy%20Script%5Cn//%20RV%202020-03-07,%2022:49%5Cn%5Cn//%20Copy%20script%20draft%20for%20paste%20into%20an%20action.%5Cn%5Cnapp.setClipboard(draft.content);%5Cn%5Cnvar%20group%20=%20ActionGroup.find(%5C%22Action%20Scripting%5C%22);%5Cnapp.loadActionGroup(group);%5Cnapp.showActionList();%5Cnapp.displayInfoMessage(&#39;Paste%20into%20script%20action%20step!&#39;)%5Cn%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%2261B1DEA6-133C-401F-A2BC-7AF4DC7F80A9%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Copy%20Script%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22Copy%20script%20for%20paste%20into%20an%20action.%22,%22keyUseIcon%22:false,%22icon%22:%22action_clipboard_filled%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Copy%20Script%22%7D,%7B%22uuid%22:%225864DC69-15CB-48CB-A2B6-B228D9122FFF%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Editor%20-%20Go%20to%20Line%5Cn%5Cnvar%20p%20=%20Prompt.create();%5Cnp.addTextField(%5C%22lineNum%5C%22,%20%5C%22Line%20number:%5C%22,%20%5C%22%5C%22,%20%7B%5C%22keyboard%5C%22:%5C%22numberPad%5C%22%7D);%20%5Cnp.addButton(%5C%22Go%5C%22);%5Cn%5Cnif%20(p.show())%7B%5Cn%20%20var%20lineNum%20=%20parseInt(p.fieldValues[%5C%22lineNum%5C%22]);%5Cn%20%20var%20lines%20=%20draft.content.split(&#39;%5C%5Cn&#39;);%5Cn%20%20if%20(lineNum%20%5Cu003c=%201)%7B%5Cn%20%20%20%20lineNum%20=%201;%5Cn%20%20%7D%20else%20if%20(lineNum%20%5Cu003e%20lines.length)%7B%5Cn%20%20%20%20lineNum%20=%20lines.length;%5Cn%20%20%7D%5Cn%20%20var%20pos%20=%200;%5Cn%20%20if%20(lineNum%20%5Cu003e%201)%7B%5Cn%20%20%20%20pos%20=%20lines.slice(0,lineNum-1).join(&#39;%5C%5Cn&#39;).length%20+%201;%5Cn%20%20%7D%5Cn%20%20editor.activate();%5Cn%20%20editor.setSelectedRange(pos,0);%5Cn%7D%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%222A126148-8F53-4B03-AC7B-724796602049%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Go%20to%20Line%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22Prompts%20for%20a%20line%20number%20and%20then%20jumps%20to%20the%20beginning%20of%20that%20line.%20Can%20be%20helpful%20when%20editing%20long%20scripts%20or%20other%20drafts%20where%20you%20know%20a%20specific%20line%20that%20you%20want%20to%20jump%20to.%20%22,%22keyUseIcon%22:true,%22icon%22:%22523-cyclist%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Go%20to%20Line%22%7D,%7B%22uuid%22:%22E52380EF-9FC9-429E-B97B-04CC21BCA9B9%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Save%20Draft%20Scripts%20to%20iCloud%20Drive%5Cn%5Cn//%20grab%20all%20of%20the%20drafts%20with%20specific%20tag%5Cnvar%20tag%20=%20%5C%22script%5C%22;%5Cnvar%20drafts%20=%20Draft.query(%5C%22%5C%22,%5C%22all%5C%22,[tag]);%5Cn%5Cndrafts.forEach(function(draft)%20%7B%5Cn%20%20var%20title%20=%20draft.processTemplate(%5C%22[[safe_title]]%5C%22);%5Cn%20%20title.replace(&#39;%5C%5C/%5C%5C/%20&#39;,%5C%22%5C%22);%5Cn%20%20title.replace(&#39;*/&#39;,%5C%22%5C%22);%5Cn%20%20title%20=%20title.trim()%5Cn%20%20var%20content%20=%20draft.processTemplate(%5C%22[[draft]]%5C%22);%5Cn%20%20var%20path%20=%20%5C%22/Scripts/%5C%22+title+%5C%22.js%5C%22;%5Cn%20%20var%20fm%20=%20FileManager.create(false);%5Cn%20%20var%20success%20=%20fm.write(path,content);%5Cn%7D);%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22D4CB41A8-021C-4636-9BDE-F80DFB539050%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:true,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Save%20All%20Scripts%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:2,%22tintColor%22:%22none%22,%22actionDescription%22:%22This%20will%20save%20all%20drafts%20with%20the%20%60script%60%20tag%20to%20the%20Drafts%205%20folder%20in%20iCloud%20Drive%20using%20the%20title%20line%20as%20the%20file%20name.%20**Note:%20it%20will%20overwrite%20existing%20files,%20so%20be%20careful!**%22,%22keyUseIcon%22:true,%22icon%22:%22page-check%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Save%20All%20Scripts%22%7D,%7B%22uuid%22:%22BB5B068B-18C9-4CC9-8A43-DFB08699DF9A%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20replace%20smart%20angled%20quotes%20with%20%5C%22dumb%5C%22%5Cn//%20quotes%20-%20single%20and%20double%5Cn%5Cnvar%20s%20=%20draft.content;%5Cns%20=%20s.replace(/%E2%80%9C/g,%20%5C%22%5C%5C%5C%22%5C%22);%5Cns%20=%20s.replace(/%E2%80%9D/g,%20%5C%22%5C%5C%5C%22%5C%22);%5Cns%20=%20s.replace(/%E2%80%98/g,%20%5C%22&#39;%5C%22);%5Cns%20=%20s.replace(/%E2%80%99/g,%20%5C%22&#39;%5C%22);%5Cndraft.content%20=%20s;%5Cndraft.update();%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22C048A2AB-6394-4BB5-9F56-3218A333BFEF%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:true,%22disposition%22:0,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Dumb%20Quotes%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22Replace%20all%20single%20and%20double%20%5C%22smart%5C%22%20quotes%20with%20their%20standard%20quote%20marks.%22,%22keyUseIcon%22:true,%22icon%22:%22type-rotate%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Dumb%20Quotes%22%7D,%7B%22uuid%22:%226BE624FE-4734-499C-8460-E669C05865D4%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22template%22:%22https://scripting.getdrafts.com/%22,%22encodeTags%22:%22true%22,%22useSafari%22:%22true%22%7D,%22type%22:%22url%22,%22isEnabled%22:true,%22uuid%22:%222DF39A54-CA86-44B9-9AEA-EBB5E7623563%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Drafts%20Reference%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22none%22,%22actionDescription%22:%22%22,%22keyUseIcon%22:true,%22icon%22:%22452-information-symbol2%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Drafts%20Reference%22%7D,%7B%22uuid%22:%2234A94CDD-153D-4830-BEAD-E8A93D912045%22,%22steps%22:[%7B%22platforms%22:0,%22data%22:%7B%22template%22:%22textastic://x-callback-url/append?text=[[draft]]%22,%22encodeTags%22:%22true%22,%22waitForResponse%22:%22false%22%7D,%22type%22:%22callbackUrl%22,%22isEnabled%22:true,%22uuid%22:%228DB27DE8-A960-47D3-8694-2BCD8B9461E2%22%7D,%7B%22platforms%22:1,%22data%22:%7B%22template%22:%22textastic://x-callback-url/append?text=[[draft]]%22,%22encodeTags%22:%22true%22,%22useSafari%22:%22false%22%7D,%22type%22:%22url%22,%22isEnabled%22:true,%22uuid%22:%22DB139F77-9ADE-4143-9FC9-21D4DCBB2B4E%22%7D,%7B%22platforms%22:2,%22data%22:%7B%22template%22:%22[[draft]]%22,%22fileNameTemplate%22:%22[[safe_title]]%22%7D,%22type%22:%22export%22,%22isEnabled%22:true,%22uuid%22:%22DEF27A51-09C9-4FA2-A4C9-27274F026C70%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Save%20to%20Textastic%20Local%20Files%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:2,%22tintColor%22:%22none%22,%22actionDescription%22:%22Textastic%20chooses%20the%20file%20name.%22,%22keyUseIcon%22:false,%22icon%22:%22format-text%22,%22visibility%22:160,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Save%20to%20Textastic%20Local%20Files%22%7D,%7B%22uuid%22:%22C371B961-B6B2-4397-8FFB-A1C246E2839B%22,%22steps%22:[],%22backingPlatforms%22:3,%22shortName%22:%22%7C%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%22,%22shiftKey%22:false%7D,%22logLevel%22:0,%22groupDisposition%22:0,%22notificationType%22:0,%22tintColor%22:%22gray%22,%22actionDescription%22:%22Divider%20action%20that%20does%20nothing%20for%20use%20in%20the%20extended%20row.%20This%20will%20be%20deleted%20when%20Greg%20develops%20a%20solution.%22,%22keyUseIcon%22:false,%22icon%22:%22ellipsis%22,%22visibility%22:160,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%20-%22%7D,%7B%22uuid%22:%22951E84AC-3BC4-4F05-B655-C2E22DFAEFA8%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22let%20text%20=%20editor.getText();%5Cntext%20=%20text.replace(/%5C%5Cn[%20%5C%5Ct]*%5C%5Cn+/g,%20%5C%22%5C%5Cn%5C%5Cn%5C%22);%5Cneditor.setText(text);%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%2288D4BCA1-8CCB-426D-95C1-D01D289F6A37%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Condense%20Multiple%20Line%20Feeds%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:2,%22tintColor%22:%22none%22,%22actionDescription%22:%22Replace%20any%20occurences%20of%20multiple%20line%20feeds%20(3%20or%20more)%20%20in%20the%20editor%20with%20a%20double%20line%20feed.%22,%22keyUseIcon%22:false,%22icon%22:%22arrow-shrink%22,%22visibility%22:160,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Condense%20Multiple%20Line%20Feeds%22%7D,%7B%22uuid%22:%22D5654181-0778-4484-96B3-C9C04BE4DD92%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Run%20RegEx%20Factory%5Cn//%20Or%20any%20other%20script%20saved%20as%20draft.%5Cn(()%20=%5Cu003e%20%7B%5Cn%20%20//%20Name%20of%20script:%5Cn%20%20//%20%20%20%20%20&#39;Some%20script&#39;%5Cn%5Cn%20%20//%20Get%20original%20script%20here:%5Cn%20%20//%20-%20https://actions.getdrafts.com/a/153%5Cn%20%20//%20-%20Then%20save%20it%20as%20regular%20draft%20(script%20grammar),%5Cn%20%20//%20-%20change%20the%20UUID%20in%20current%20script%20to%20point%20to%20to%20this%20draft:%20%20%20%20%5Cn%5Cn%20%20//%20UUID%20of%20the%20draft%20script%20(has%20to%20be%20changed%20before%20first%20run):%5Cn%20%20const%20uuid%20=%20&#39;401B8C95-29F9-4917-8364-0D769C71EE8F&#39;;%5Cn%5Cn%20%20%20%20try%20%7B%5Cn%20%20%20%20%20%20%20%20eval(%20//%20line%2012,%20so%20we%20adjust%20the%20error%20message%20alert%20below%5Cn%20%20%20%20%20%20%20%20%20%20%20%20Draft.find(uuid).content%5Cn%20%20%20%20%20%20%20%20)%5Cn%20%20%20%20%7D%20catch%20(e)%20%7B%5Cn%20%20%20%20%20%20%20%20alert(%60%5Cn%20%20%20%20Error:%20$%7Be.message%7D%5Cn%20%20%20%20%5Cn%20%20%20%20line:%20$%7Be.line%7D%5Cn%20%20%20%20column:%20$%7Be.column%7D%60)%5Cn%20%20%20%20%7D%5Cn%7D)();%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22C0DAFB8F-5DD2-4326-970F-6C927C986AE3%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22H%22,%22controlKey%22:false,%22commandKey%22:true,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Run%20RegEx%20Factory%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:2,%22tintColor%22:%22none%22,%22actionDescription%22:%22Get%20original%20script%20here:%5Cn-%20https://actions.getdrafts.com/a/153%5Cn-%20Then%20save%20it%20as%20regular%20draft%20(script%20grammar),%5Cn-%20change%20the%20UUID%20in%20current%20script%20to%20point%20to%20to%20this%20draft.%22,%22keyUseIcon%22:true,%22icon%22:%22sync%22,%22visibility%22:160,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Run%20RegEx%20Factory%22%7D,%7B%22uuid%22:%22DEB6981B-491C-46BB-9B01-5290B3E9DDB1%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Prompt%20example%5Cn//%20Using%20Select%20%5Cn%5Cnvar%20p%20=%20Prompt.create();%5Cnp.title%20=%20%5C%22Prompt%20Example%5C%22;%5Cnp.message%20=%20%5C%22Demonstrates%20options%20for%20text%20view%20and%20switches%20in%20prompts.%5C%22;%5Cn%5Cnp.addTextView(%5C%22tv1%5C%22,%20%5C%22Notes%5C%22,%20%5C%22%5C%22,%20%7B%5Cn%5Ct%5C%22height%5C%22:%20150.0%5Cn%7D);%5Cn%5Cnp.addSwitch(%5C%22sw1%5C%22,%20%5C%22Option%201%5C%22,%20false);%5Cnp.addSwitch(%5C%22sw2%5C%22,%20%5C%22Option%202%5C%22,%20false);%5Cn%5Cnp.addButton(%5C%22OK%5C%22);%5Cn%5Cnif%20(p.show())%20%7B%5Cn%5Ctvar%20s%20=%20%5C%22Text:%20%5C%22%20+%20p.fieldValues[%5C%22tv1%5C%22]%20+%20%5C%22%5C%5Cn%5C%5Cn%5C%22;%5Cn%5Cts%20+=%20%5C%22Option%201:%20%5C%22%20+%20p.fieldValues[%5C%22sw1%5C%22]%20+%20%5C%22%5C%5Cn%5C%22;%5Cn%5Cts%20+=%20%5C%22Option%202:%20%5C%22%20+%20p.fieldValues[%5C%22sw2%5C%22]%20+%20%5C%22%5C%5Cn%5C%22;%5Cn%5Ctalert(s);%5Cn%7D%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22030714C1-04A8-44F5-89EE-5C4B3F26D0A3%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Text%20View%20and%20Switch%20Prompt%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:2,%22tintColor%22:%22none%22,%22actionDescription%22:%22Displays%20prompt%20with%20several%20types%20of%20input%20fields%22,%22keyUseIcon%22:false,%22icon%22:%22sim-card-alert%22,%22visibility%22:160,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Text%20View%20and%20Switch%20Prompt%22%7D,%7B%22uuid%22:%22F7B515D7-4C6C-40C7-8988-CCAD78754358%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Prompt%20example%5Cn//%20Using%20Select%20%5Cn%5Cnvar%20p%20=%20Prompt.create();%5Cnp.title%20=%20%5C%22Select%20Prompt%20Example%5C%22;%5Cnp.message%20=%20%5C%22Demonstrates%20options%20for%20single%20and%20multi-option%20select%20in%20prompts.%5C%22;%5Cn%5Cnvar%20options%20=%20[%5C%22First%5C%22,%20%5C%22Second%5C%22,%20%5C%22Third%5C%22,%20%5C%22Fourth%5C%22];%5Cnvar%20selectedOptions%20=%20[%5C%22Second%5C%22];%5Cn%5Cn//%20single%20selection%5Cnp.addSelect(%5C%22s1%5C%22,%20%5C%22Select%20one...%5C%22,%20options,%20selectedOptions,%20false);%5Cn%5Cn//%20multiple%20selections%5Cnp.addSelect(%5C%22s2%5C%22,%20%5C%22Select%20multiple...%5C%22,%20options,%20selectedOptions,%20true);%5Cn%5Cnp.addButton(%5C%22OK%5C%22);%5Cn%5Cnif%20(p.show())%20%7B%5Cn%5Ctvar%20s%20=%20%5C%22Selected:%20%5C%22%20+%20p.fieldValues[%5C%22s1%5C%22]%20+%20%5C%22%5C%5Cn%5C%5Cn%5C%22;%5Cn%5Cts%20+=%20%5C%22Multi-Select:%20%5C%22%20+%20p.fieldValues[%5C%22s2%5C%22]%20+%20%5C%22%5C%5Cn%5C%22;%5Cn%5Ctalert(s);%5Cn%7D%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22D74A3E0A-D993-4A0B-A13B-9786387D6396%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Select%20Prompt%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:2,%22tintColor%22:%22none%22,%22actionDescription%22:%22Displays%20prompt%20with%20several%20types%20of%20date%20picker.%22,%22keyUseIcon%22:false,%22icon%22:%22sim-card-alert%22,%22visibility%22:160,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Select%20Prompt%22%7D,%7B%22uuid%22:%22D037924D-33A5-461B-9AE4-73404636055B%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Prompt%20example%5Cn//%20Using%20Dates%5Cn%5Cnvar%20p%20=%20Prompt.create();%5Cnp.title%20=%20%5C%22Date%20Prompt%20Example%5C%22;%5Cnp.message%20=%20%5C%22Demonstrates%20options%20for%20date%20pickers%20in%20prompts.%5C%22;%5Cn%5Cnvar%20d%20=%20new%20Date();%5Cn%5Cnp.addDatePicker(%5C%22d1%5C%22,%20%5C%22Date%5C%22,%20d,%20%7B%5Cn%20%20%5C%22mode%5C%22:%20%5C%22date%5C%22%5Cn%7D);%5Cn%5Cnp.addDatePicker(%5C%22d2%5C%22,%20%5C%22Time%5C%22,%20d,%20%7B%5Cn%20%20%5C%22mode%5C%22:%20%5C%22time%5C%22%5Cn%7D);%5Cn%5Cnp.addDatePicker(%5C%22d3%5C%22,%20%5C%22Date%20and%20Time%5C%22,%20d,%20%7B%5Cn%20%20%5C%22mode%5C%22:%20%5C%22dateAndTime%5C%22,%5Cn%20%20%5C%22minimumDate%5C%22:%20Date.parse(%5C%22last%20friday%5C%22),%5Cn%20%20%5C%22maximumDate%5C%22:%20Date.parse(%5C%22next%20friday%5C%22)%5Cn%7D);%5Cn%5Cnp.addButton(%5C%22OK%5C%22);%5Cn%5Cnif%20(p.show())%20%7B%5Cn%5Ctvar%20s%20=%20%5C%22Date:%20%5C%22%20+%20p.fieldValues[%5C%22d1%5C%22]%20+%20%5C%22%5C%5Cn%5C%22;%5Cn%5Cts%20+=%20%5C%22Time:%20%5C%22%20+%20p.fieldValues[%5C%22d2%5C%22]%20+%20%5C%22%5C%5Cn%5C%22;%5Cn%5Cts%20+=%20%5C%22Date%20%5Cu0026%20Time:%20%5C%22%20+%20p.fieldValues[%5C%22d3%5C%22]%20+%20%5C%22%5C%5Cn%5C%22;%5Cn%5Ctalert(s);%5Cn%7D%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%222176AE89-FB25-4AD2-A206-5D5BB3AD10F0%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Date%20Prompt%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:2,%22tintColor%22:%22none%22,%22actionDescription%22:%22Displays%20prompt%20with%20several%20types%20of%20date%20picker.%22,%22keyUseIcon%22:false,%22icon%22:%22sim-card-alert%22,%22visibility%22:160,%22backingIsSeparator%22:false,%22groupUUID%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22assignTags%22:[],%22name%22:%22Date%20Prompt%22%7D],%22modifiedAt%22:576247015.522122,%22disposition%22:0,%22uuid%22:%22D5E94588-2AED-422A-8EAB-05AC48C160C8%22,%22visibility%22:480,%22createdAt%22:576247015.522122,%22icon%22:%22sim-card%22,%22changeTag%22:%22z9a%22%7D">Install</a>
</div>

<hr style="margin: 1em 0;"/>
<h4>Included Actions</h4>
<ul class='action-group'>
  	<li>
  		<div class='list_content'>
  			New Code Draft
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Debug
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Add debug Info
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Run Editor JS 
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			JS Comment
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			JS Indent 
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			JS Outdent
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			function
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			let 
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Smart Equal
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Semicolon
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Smart Braces
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Smart Plain Quotes
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Smart Parentheses
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Smart Brackets
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			insert.js function() 
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Save to Script Library...
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			if
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			else if
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			else
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			for of
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			for
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			while
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			do while
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			switch
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Prompt
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			JS Beautify
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			JS Snippets
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Copy Script
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Go to Line
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Save All Scripts
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Dumb Quotes
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Drafts Reference
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Save to Textastic Local Files
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			- - - - - - - - - - - - - - - - - - - - - - -
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Condense Multiple Line Feeds
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Run RegEx Factory
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Text View and Switch Prompt
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Select Prompt
  		</div>
  	</li>
  	<li>
  		<div class='list_content'>
  			Date Prompt
  		</div>
  	</li>
</ul>

<div class="disclaimer">
  Items available in the Drafts Directory are uploaded by community members. Use appropriate caution reviewing downloaded items before use.
</div>


                  </div>
                  <div class="footer-content">
                  <p>
                  <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site">
                    <img alt="Download on App Store" src="../assets/appstore-deaf597bd57239c5054c59099e54ab9014f1e15eddb961085428e0ce94d4385b.svg" />
                  </a>
                  <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site">
                    <img alt="Download on Mac App Store" src="../assets/macappstore-05f5eed00e6bb26b68c1368217276158329862682e6d61b3ed193f819fe02f2f.svg" />
                  </a>
                  </p>
                    &copy; 2012-2022 by Agile Tortoise, Inc.<br/>
                    Drafts is a registered Trademark of Agile Tortoise, Inc.<br/>
                    <a href="../../getdrafts.com/support/privacy.html">Privacy</a> | <a href="../../getdrafts.com/support/terms.html">Terms</a>
                </div>
                </div>
            </div>
        </div>
    </div>

  </body>
  </html>
