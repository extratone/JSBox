<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>versions | Drafts Directory</title>
    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="4VJxmKY/NVRYeA2M+02T9+kv8U4ImX2LjkV3xK5rx0iSTVcSwlSSsdcottyvDsjpTowvtfZJNy2jNCW9h5NZug==" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta http-equiv="content-language" content="en">
    <meta http-equiv="content-language" content="en-us">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta property="og:title" content="Drafts Directory: versions" />
    <meta property="og:url" content="https://actions.getdrafts.com/a/1zp" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="Example actions and other extensions for Drafts, the quick-capture notes app." />
    <meta property="og:image" content="https://actions.getdrafts.com/assets/drafts-ogimage-action-d9c60102fd45e0cb516e1b49ed50a81e3c3a2b90f81f55df8f43d0feb0512978.png" />
    <meta property="twitter:title" content="Drafts Directory: versions" />
    <meta property="twitter:url" content="https://actions.getdrafts.com/a/1zp" />
    <meta property="twitter:type" content="website" />
    <meta property="twitter:description" content="Example actions and other extensions for Drafts, the quick-capture notes app." />
    <meta property="twitter:image" content="https://actions.getdrafts.com/assets/drafts-ogimage-action-d9c60102fd45e0cb516e1b49ed50a81e3c3a2b90f81f55df8f43d0feb0512978.png" />

    <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon-114dbb66b0ef0399a14fa5dfcad7e6210bb558c30cea665e04d49b59fec87f70.png" />

    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
    <link rel="stylesheet" media="all" href="../assets/application-6e4f014b4c48cd673942dbfbbeb3e571a732b05562ddde5904f3a5c3833e54ff.css" />
    <script src="../assets/application-13492939cb10be5be76b5abb3e9ae0bef0bbae3202cec2b85cf6fca5bc8429c8.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script async defer data-domain="directory.getdrafts.com" src="https://plausible.io/js/plausible.js"></script>
  </head>

<body data-no-turbolink>

    <div class="page-wrap">
        <div class="side-bar">
            <a href="../index.html" class="site-title fs-6 lh-tight" title="{{ site.title }}">
                <img src="../assets/drafts-directory-header-4d826bd007f515c8e5a10f654e56ad76fbb3bd3103a67ce342283f701f1677fe.svg" alt="Drafts Directory" style="max-height: 30px;" />
            </a>
            <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button"
                    data-text-toggle="Hide">Menu</button></span>
            <div class="navigation main-nav js-main-nav">
              <ul class="navigation-list">
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../index.html">Home</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../drafts_actions.html">Actions</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../drafts_action_groups.html">Action Groups</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../syntax_definitions.html">Syntaxes</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../theme_definitions.html">Themes</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../workspaces.html">Workspaces</a>
                </li>
                <li class="navigation-list-item">
                  <hr style="margin:1em; padding: 0;" />
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../search.html">Search</a>
                </li>
                <li class="navigation-list-item">
                  <hr style="margin:1em; padding: 0;" />
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="About Drafts" href="../../getdrafts.com/index.html">Get Drafts &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Detailed documentation" href="../../docs.getdrafts.com/index.html">User Guide &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Get your questions answered in the forums" href="https://forums.getdrafts.com/">Community &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Online tools and generators" href="../../tools.getdrafts.com/index.html">Tools &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Scripting library reference" href="../../scripting.getdrafts.com/index.html">Script Reference &#x2192;</a>
                </li>
              </ul>
            </div>
            <footer role="contentinfo" class="site-footer">
                <p class="text-small text-grey-dk-000 mb-0">
                    Download: <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site">iOS</a> | <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site">Mac</a>
                </p>
            </footer>
        </div>
        <div class="main-content-wrap js-main-content" tabindex="0">
            <div class="page-header">
                <div class="main-content">
                    <div class="search js-search">
	<div class="search-input-wrap">
<form class="search-form" action="../search.html" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
	<button style='border:none;background-color:transparent;'>
	<svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"
		class="search-icon">
		<title>Search</title>
		<g fill-rule="nonzero">
			<path
				d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z" />
			<path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z" />
		</g>
	</svg>
	</button>
	<input type="text" name="q" id="q" class="js-search-input search-input search" size="12" tabindex="0" placeholder="Search" />
</form>	</div>
</div>
                    <ul class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav">
                        <li class="d-inline-block my-0 mr-2">
                          <a href="../../getdrafts.com/index.html">Get Drafts</a>
                        </li>
                        <li class="d-inline-block my-0">
                          <a href="https://forums.getdrafts.com">Community</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="main-content">
                <div id="main-content" class="page-content" role="main">
                  <div class="type">
                    <h4>Action</h4>
                  </div>
                  <div class="header">
                      <h1><img src="https://config.agiletortoise.com/drafts-icons/action_circle5.png" class="action-icon" />versions</h1>
                  </div>

                  <div class="content">
                    
<div class='caption'>
        Posted by Lacsmith,
    Last update
    2 days ago
</div>

    <div class='update_notes'>
      <h3>UPDATES</h3>
      <div id="firstUpdateNote">
      <h4>2 days ago</h4>
      <p>new &lsquo;Should have been&#39;1st paragraph of description:<br>
    &ldquo;Listing  of Versions to choose the option of resore/copy/do nothing on the active Draft.   Quick/easy external keyboard shortcut device, change for your taste. Likely will be antiquated  when native drafts &#39;Versions&rsquo;  is more immediately accessible, but right now far fewer keystrokes in/out.  &rdquo;</p>

<p>changes 2022-05-13<br>
  Count of chars, words, or lines is now an option, <br>
  Script lines 3-5 set defaults of number displayed, count, and if zeores are used as fillers.<br>
  Cancel option allowed on initial version list â€“ if canceled final action options not shown.</p>

      </div>
      <a href="1zp.html#" onclick="document.getElementById('firstUpdateNote').classList.add('hide');document.getElementById('additionalNotes').classList.remove('hide');this.classList.add('hide');return false;">show all updates...</a>
      <div id="additionalNotes" class='hide'>
        <div>
        <h4>2 days ago</h4>
        <p>new &lsquo;Should have been&#39;1st paragraph of description:<br>
    &ldquo;Listing  of Versions to choose the option of resore/copy/do nothing on the active Draft.   Quick/easy external keyboard shortcut device, change for your taste. Likely will be antiquated  when native drafts &#39;Versions&rsquo;  is more immediately accessible, but right now far fewer keystrokes in/out.  &rdquo;</p>

<p>changes 2022-05-13<br>
  Count of chars, words, or lines is now an option, <br>
  Script lines 3-5 set defaults of number displayed, count, and if zeores are used as fillers.<br>
  Cancel option allowed on initial version list â€“ if canceled final action options not shown.</p>

        </div>
        <div>
        <h4>2 days ago</h4>
        <p>cleaned  up this description, functional changes previoulsy noted. </p>

        </div>
        <div>
        <h4>2 days ago</h4>
        <ol>
<li>Count of chars, words, or lines an option, default set in in first 3-4 lines of script. </li>
<li>Cancel option allowed on initial version list &ndash; if canceled final action options not shown.</li>
</ol>

        </div>
      </div>
    </div>

    <div class='description'>
        <p>Versions (listing of-&gt;choose -&gt; restore/copy/do notihng action on the active Draft.   Quick/easy external keyboard shortcut device, change for your taste. Likely will be antiquated  when native drafts &ldquo;Versions&rdquo;  is more immediately accessible.  </p>

<p>This is  a quick javascript that shows the usual version list for THE ACTIVE DRAFT  and options to restore/copy to clipboard, or both.   Lines 3 and 4 of the script define two numbers may be  customize (1. maximum number displayed, 2.format choice of listing (aligned by adding more zeroes, or very slightly out of left alignment).</p>

<p>The version list does not immediately update, but requires another draft to be loaded into editor, or exit/reload. (This is the same behavior as the system).</p>

<p>the bottom two functions are useful additions to a general js library. (I think). </p>

    </div>

<div class="certification">
  
  
</div>

<div style="margin: 2em 0;">
    <a class="btn btn-blue" href="drafts5://action?identifier=1zp&amp;data=%7B%22uuid%22:%22AE6ECA24-E278-4DD4-BF55-45930BBE39BE%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20draft%20versions%20of%20current%20draft%20%5Cn//%20next%20three%20lines%20can%20be%20set%20whatever%20you%20might%20want%5Cnvar%20maxDisp%20=%20%2010;%20//%20maximum%20number%20of%20versions%20shown,%20change%20as%20desired%5Cnvar%20dispWhatLen%20=%20%5C%22char%5C%22%20;%20//default%201st%20listing;%20options%20%5C%22characters%5C%22,%5C%22words%5C%22,%5C%22lines%5C%22%5Cnvar%20intStrLength%20=%204%20;%20//%20set%20=%200%20%20zero%20to%20show%20no%20zeroes%20before%20the%20length%5Cn%20%20%20%20%20%20//%20(use%20%5Cu003e0%20for%20a%20minor%20display%20glitch%20on%20font%20formatting%20alignment%20in%20prompt)%5Cnvar%20tver%20=%20draft.versions,%20nv%20=%20&#39;&#39;,%20t1=[],%20t1str=%5C%22%5C%22,%20t1Len=0,%20ch=&#39;&#39;,%20ch1=&#39;&#39;;%5Cnlet%20longestLine=0,%20endline%20=%20%5C%22wrds%5C%22%20;maincycle%20=%20true;%5Cnlet%20numDisp%20=%20tver.length%5Cnif%20(numDisp%5Cu003emaxDisp)%20%7BnumDisp=maxDisp%7D%5Cn%5Cnwhile%20(maincycle)%20%7B%5Cn%20%20for%20(let%20n%20=%200;n%5Cu003cnumDisp;n++)%20%7B%5Cn%20%20%20%20t1Len%20=%20tver[n].content.length;%5Cn%20%20%20%20if%20(dispWhatLen.indexOf(%5C%22ch%5C%22)%5Cu003e-1)%20%7B%20%5Cn%20%20%20%20%20%20%20%20endLine%20=%20%5C%22chars%5C%22;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20if%20(dispWhatLen.indexOf(%5C%22w%5C%22)%5Cu003e-1)%20%7B%20%5Cn%20%20%20%20%20%20%20%20t1Len%20=%20countWords(tver[n].content);%20%5Cn%20%20%20%20%20%20%20%20endLine%20=%20%5C%22wrds%5C%22;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20if%20(dispWhatLen.indexOf(%5C%22lin%5C%22)%5Cu003e-1)%20%7B%20%5Cn%20%20%20%20%20%20%20%20t1Len%20=%20(tver[n].content.split(&#39;%5C%5Cn&#39;)).length;%20%5Cn%20%20%20%20%20%20%20%20endLine%20=%20%5C%22lines%5C%22;%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%20%20%20//%20that%20count%20is%20approximate%20%5Cn%20%20%20%20t1Len%20=%20int2Str(t1Len,intStrLength);%20%5Cn%20%20%20%20//that%20set%20up%20all%20strings%20to%20be%20equal%20length%20(or,%20if%20intStrLength=0,%20not).%5Cn%20%20%20%20t1str%20=%20n+%20strftime(tver[n].createdAt,%5C%22:%20%25y-%25m-%25d%20%25I:%25M%25p..%5C%22)%20+%20t1Len+%20endLine%20;%5Cn%20%20%20%20t1.push(t1str);%5Cn%20%20%20%20if%20(t1str.length%5Cu003elongestLine)%20%7BlongestLine%20=%20t1str.length;%7D%20%5Cn%20%20%20%20%7D%20//%20end%20of%20(for%20(let%20n%20=..._%5Cn//%20(longestLine%20as%20max%20line%20length%20for%20equaliztion,%20NOT%20CURRENTLY%20USED%20(wodl%20require%20monospaced%20font%20on%20the%20prompt?,%20or%20a%20bot%20fancier%20html?%5Cn//for%20(let%20n%20=%200;n%5Cu003ct1.length;n++)%20%7B%5Cn//%20%20%20%20t1[n]%20=%20t1[n]+%20%5C%22%20%5C%22.repeat(longestLine-t1[n].length%20)%20+%20%5C%22)%5C%22;%20//%20(to%20get%20line%20lengths%20to%20equalize)%5Cn//%20%20%20%20%20%7D%5Cn%20%20%20%20%20t1.push(%5C%22%5C%22);%5Cn%20%20%20%20%20t1.push(%5C%22Change%20count%20Char-Word-Line.%5C%22)%5Cn%20%20%20%20%20t1str%20=%20t1.toString();%20%20%20%20%5Cn%20%20%20%20%20ch%20=%20zBigButnMenu(t1str,&#39;,&#39;%20,%5C%22Which%20Version%20to%20use?%5C%22,&#39;&#39;,%20true);%5Cn%20%20%20%20%20if%20(%20(ch!=undefined)%5Cu0026%5Cu0026(ch.indexOf(%5C%22Ch%5C%22)==0)%20)%20%7B%5Cn%20%20%20%20%20%20%20%20ch1%20=%20zBigButnMenu(&#39;characters,words,lines&#39;,%5C%22,%5C%22%20%20,%5C%22count%20what?%5C%22,&#39;&#39;,%20false);%20%5Cn%20%20%20%20%20%20%20%20if%20(ch1.includes(%5C%22ch%5C%22))%20%7BdispWhatLen%20=%20%5C%22characters%5C%22;%7D%5Cn%20%20%20%20%20%20%20%20if%20(ch1.includes(%5C%22w%5C%22))%20%7BdispWhatLen%20=%20%5C%22words%5C%22;%7D%5Cn%20%20%20%20%20%20%20%20if%20(ch1.includes(%5C%22li%5C%22))%20%7BdispWhatLen%20=%20%5C%22lines%5C%22;%7D%5Cn%20%20%20%20%20%20%20%20t1%20=%20[];%5Cn%20%20%20%20%20%20%20%20%7D%20else%20%7B%20maincycle=false;%7D%5Cn%20%20%20%20%20%20%7D%20%20//%20end%20of%20while%20mainCycle%5Cn%5Cn%5Cnnv%20=%20parseInt(ch);%5Cnif%20(%20(ch%20!=%20undefined)%20%5Cu0026%5Cu0026%20(nv!=NaN)%20)%20%7B%20%20//%20a%20version%20list%20number%20chosen%5Cn%20%20%20ch%20=%20zBigButnMenu(&#39;restore/replace%20drft,copy-%5Cu003eclpbrd,restore%5Cu0026copy,cancel/noAction&#39;,%20%5C%22,%5C%22%20%20,%5C%22do%20what?%5C%22,&#39;&#39;,%20false);;%20%5Cn%20%20%20if%20(ch==undefined)%20%7Bch%20=%20%5C%22cancel%5C%22;%7D%5Cn%20%20%20if%20(ch.includes(%5C%22copy%5C%22))%20%7B%20app.setClipboard(tver[nv].content);%7D%5Cn%20%20%20if%20(ch.includes(%5C%22rest%5C%22))%20%7B%20editor.setText(tver[nv].content);%7D%5Cn%20%20%20%7D%5Cn//%20NOTE%20THE%20VERSION%20LIST%20DOES%20NOT%20UPDATE%20UNTIL%20A%20SECOND%20DRAFT%20IS%20LOADED%20INTO%20EDITOR%5Cn//%20i.e.,%20version[0]%20will%20list%20as%20last%20saved,%20not%20as%20current%20on-screen%5Cn;%5Cn//%20%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cnfunction%20zBigButnMenu(strOpts,spltr,strTitle,strMsg,canclTF)%7B%5Cn//%20%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cnlet%20qickarr=[],qickbtn=&#39;&#39;;%20%5Cnif%20(canclTF==undefined)%20%7BcanclTF%20=%20false%7D;%5Cn%20//%20default%20correction%20for%20string%20entry%20or%20no%20entry%5Cnif%20((typeof%20strOpts)==&#39;string&#39;)%20%7B%5Cn%20%20%20if%20(!(spltr))%20%7Bspltr%20=%20%5C%22,%5C%22;%7D;%20//%20default%5Cn%20%20%20qickarr=strOpts.split(spltr);%20%5Cn%20%20%20%7D%20else%20%7B%20qickarr%20=%20strOpts;%7D%5Cnqickbtn%20=%20Prompt.create();%5Cnqickbtn.isCancellable%20=%20canclTF;%5Cnif%20(strTitle)%20%7Bqickbtn.title%20=%20strTitle%7D;%5Cnif%20(strMsg)%20%7Bqickbtn.message%20=%20strMsg%7D;%5Cnfor%20(let%20t%20of%20qickarr)%20%7Bqickbtn.addButton(t)%7D;%5Cnqickbtn.show();%5Cnreturn%20qickbtn.buttonPressed;%5Cn%7D;%20//%20end%20minibutton%20function%20%20%20%20%20%20%20%20%5Cn//%5Cn//%20%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cnfunction%20int2Str(num,len)%20%7B%20//int-%5Cu003eCharstring%20front-padded%20with%20%5C%220%5C%22%5Cn//%20good%20for%20searches,%20where%20search%20for%20%5C%221targ%5C%22%20would%20also%20finds%20%5C%2211targ%5C%22,%20%5C%2221targ%5C%22,%20etc%20--%5Cu003e%20%5C%2201targ%5C%22%20instead%5Cn//%20length%20of%20returned%20string%20(len)%20is%20optional,%20defaults%20to%202%20(01,%2002,%20etc.%20)%5Cnif%20(len==0)%20%7Breturn%20num.toString();%7D%5Cnif%20(len==undefined)%20%7Blen=2;%7D%5Cnlet%20temp=%5C%22%5C%22;%5Cnfor%20(let%20n=0;n%5Cu003clen;n++)%20%7Btemp%20=%20temp+&#39;0&#39;;%7D%20//%20create%20&#39;00000...&#39;of%20length%20len%5Cntemp%20=%20temp%20+%20num.toString();%20%20%20//%20%20&#39;00000...&#39;+num%5Cntemp%20=%20temp.slice(-len);%20%20%20%20//%20chop%20off%20ending%20str%20of%20length%20len%5Cnreturn%20temp;%5Cn%7D;%20%5Cn//%5Cn//%20%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cu003c%5Cu003e%5Cnfunction%20countWords(str)%20%7B%5Cn//%20counts%20between%20spaces%20ignores%20long%20stretches%20of%20spaces,%20and%20only%20terminal%20linefeed?%5Cn%20%20%20%20//%20s%20=%20str;%5Cn%20%20%20%20str%20=%20str.split(/%5C%5Cs+/);%20//%20creating%20array%20elements%20between%20spaces%5Cn%20%20%20%20return%20str.length;%5Cn%7D%20//%20end%20countApprxWords%5Cn//%5Cn%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%228BB1FCAE-A228-4255-8305-FB1389861B59%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22V%22,%22controlKey%22:false,%22commandKey%22:true,%22type%22:%22action%22,%22discoverabilityTitle%22:%22versions%22,%22shiftKey%22:true%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:0,%22tintColor%22:%22none%22,%22actionDescription%22:%222nd%20version%202022-05-13%20%5Cnlisting%20%20of%20Versions%20to%20choose%20the%20option%20of%20resore/copy/do%20nothing%20on%20the%20active%20Draft.%20%20%20Quick/easy%20external%20keyboard%20shortcut%20device,%20change%20for%20your%20taste.%20Likely%20will%20be%20antiquated%20%20when%20native%20drafts%20%5C%22Versions%5C%22%20%20is%20more%20immediately%20accessible,%20but%20right%20now%20far%20fewer%20keystrokes%20in/out.%20%20%5Cn%5CnThis%20is%20%20a%20quick%20javascript%20that%20shows%20the%20usual%20version%20list%20for%20THE%20ACTIVE%20DRAFT%20%20and%20options%20to%20restore/copy%20to%20clipboard,%20or%20both.%20%20%20Lines%203%20,4,5%20of%20the%20script%20define%20three%20variables%20for%20default%20presentation%5Cn%20%20%20%20%201.%20%20maximum%20number%20versions%20displayed,%20%5Cn%20%20%20%20%202.%20format%20choice%20of%20listing%20(aligned%20by%20adding%20more%20zeroes,%20or%20very%20slightly%20out%20of%20left%20alignment).%5Cn%20%20%20%20%203.%20default%20initial%20count%20(characters,words,lines)%5Cn%5CnThe%20version%20list%20does%20not%20immediately%20update,%20but%20requires%20another%20draft%20to%20be%20loaded%20into%20editor,%20or%20exit/reload.%20(This%20is%20the%20same%20behavior%20as%20the%20system).%5Cn%5Cnthe%20bottom%20functions%20are%20useful%20additions%20to%20a%20general%20js%20library.%20(I%20think).%20%5Cn%5CnCHANGED%20Version%202022-05-13%20.%20%5Cn1.%20Count%20of%20chars,%20words,%20or%20lines%20an%20option,%20default%20set%20in%20in%20first%203-4%20lines%20of%20script.%20%5Cn2.%20Cancel%20option%20allowed%20on%20initial%20version%20list%20--%20if%20canceled%20final%20action%20options%20not%20shown.%22,%22keyUseIcon%22:false,%22icon%22:%22%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22FF14251C-01D0-46D6-8C5A-56EA677C48F1%22,%22assignTags%22:[],%22name%22:%22versions%22%7D">Install</a>
</div>

<div>
  <h4>Steps</h4>
<ul class='steps'>
  <li>
    <div class='step'><h3>script</h3><pre><code class='language-javascript'>// draft versions of current draft 
// next three lines can be set whatever you might want
var maxDisp =  10; // maximum number of versions shown, change as desired
var dispWhatLen = &quot;char&quot; ; //default 1st listing; options &quot;characters&quot;,&quot;words&quot;,&quot;lines&quot;
var intStrLength = 4 ; // set = 0  zero to show no zeroes before the length
      // (use &gt;0 for a minor display glitch on font formatting alignment in prompt)
var tver = draft.versions, nv = &#39;&#39;, t1=[], t1str=&quot;&quot;, t1Len=0, ch=&#39;&#39;, ch1=&#39;&#39;;
let longestLine=0, endline = &quot;wrds&quot; ;maincycle = true;
let numDisp = tver.length
if (numDisp&gt;maxDisp) {numDisp=maxDisp}

while (maincycle) {
  for (let n = 0;n&lt;numDisp;n++) {
    t1Len = tver[n].content.length;
    if (dispWhatLen.indexOf(&quot;ch&quot;)&gt;-1) { 
        endLine = &quot;chars&quot;;
        }
    if (dispWhatLen.indexOf(&quot;w&quot;)&gt;-1) { 
        t1Len = countWords(tver[n].content); 
        endLine = &quot;wrds&quot;;
        }
    if (dispWhatLen.indexOf(&quot;lin&quot;)&gt;-1) { 
        t1Len = (tver[n].content.split(&#39;\n&#39;)).length; 
        endLine = &quot;lines&quot;;
        }
       // that count is approximate 
    t1Len = int2Str(t1Len,intStrLength); 
    //that set up all strings to be equal length (or, if intStrLength=0, not).
    t1str = n+ strftime(tver[n].createdAt,&quot;: %y-%m-%d %I:%M%p..&quot;) + t1Len+ endLine ;
    t1.push(t1str);
    if (t1str.length&gt;longestLine) {longestLine = t1str.length;} 
    } // end of (for (let n =..._
// (longestLine as max line length for equaliztion, NOT CURRENTLY USED (wodl require monospaced font on the prompt?, or a bot fancier html?
//for (let n = 0;n&lt;t1.length;n++) {
//    t1[n] = t1[n]+ &quot; &quot;.repeat(longestLine-t1[n].length ) + &quot;)&quot;; // (to get line lengths to equalize)
//     }
     t1.push(&quot;&quot;);
     t1.push(&quot;Change count Char-Word-Line.&quot;)
     t1str = t1.toString();    
     ch = zBigButnMenu(t1str,&#39;,&#39; ,&quot;Which Version to use?&quot;,&#39;&#39;, true);
     if ( (ch!=undefined)&amp;&amp;(ch.indexOf(&quot;Ch&quot;)==0) ) {
        ch1 = zBigButnMenu(&#39;characters,words,lines&#39;,&quot;,&quot;  ,&quot;count what?&quot;,&#39;&#39;, false); 
        if (ch1.includes(&quot;ch&quot;)) {dispWhatLen = &quot;characters&quot;;}
        if (ch1.includes(&quot;w&quot;)) {dispWhatLen = &quot;words&quot;;}
        if (ch1.includes(&quot;li&quot;)) {dispWhatLen = &quot;lines&quot;;}
        t1 = [];
        } else { maincycle=false;}
      }  // end of while mainCycle


nv = parseInt(ch);
if ( (ch != undefined) &amp;&amp; (nv!=NaN) ) {  // a version list number chosen
   ch = zBigButnMenu(&#39;restore/replace drft,copy-&gt;clpbrd,restore&amp;copy,cancel/noAction&#39;, &quot;,&quot;  ,&quot;do what?&quot;,&#39;&#39;, false);; 
   if (ch==undefined) {ch = &quot;cancel&quot;;}
   if (ch.includes(&quot;copy&quot;)) { app.setClipboard(tver[nv].content);}
   if (ch.includes(&quot;rest&quot;)) { editor.setText(tver[nv].content);}
   }
// NOTE THE VERSION LIST DOES NOT UPDATE UNTIL A SECOND DRAFT IS LOADED INTO EDITOR
// i.e., version[0] will list as last saved, not as current on-screen
;
// &lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;
function zBigButnMenu(strOpts,spltr,strTitle,strMsg,canclTF){
// &lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;
let qickarr=[],qickbtn=&#39;&#39;; 
if (canclTF==undefined) {canclTF = false};
 // default correction for string entry or no entry
if ((typeof strOpts)==&#39;string&#39;) {
   if (!(spltr)) {spltr = &quot;,&quot;;}; // default
   qickarr=strOpts.split(spltr); 
   } else { qickarr = strOpts;}
qickbtn = Prompt.create();
qickbtn.isCancellable = canclTF;
if (strTitle) {qickbtn.title = strTitle};
if (strMsg) {qickbtn.message = strMsg};
for (let t of qickarr) {qickbtn.addButton(t)};
qickbtn.show();
return qickbtn.buttonPressed;
}; // end minibutton function        
//
// &lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;
function int2Str(num,len) { //int-&gt;Charstring front-padded with &quot;0&quot;
// good for searches, where search for &quot;1targ&quot; would also finds &quot;11targ&quot;, &quot;21targ&quot;, etc --&gt; &quot;01targ&quot; instead
// length of returned string (len) is optional, defaults to 2 (01, 02, etc. )
if (len==0) {return num.toString();}
if (len==undefined) {len=2;}
let temp=&quot;&quot;;
for (let n=0;n&lt;len;n++) {temp = temp+&#39;0&#39;;} // create &#39;00000...&#39;of length len
temp = temp + num.toString();   //  &#39;00000...&#39;+num
temp = temp.slice(-len);    // chop off ending str of length len
return temp;
}; 
//
// &lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;&lt;&gt;
function countWords(str) {
// counts between spaces ignores long stretches of spaces, and only terminal linefeed?
    // s = str;
    str = str.split(/\s+/); // creating array elements between spaces
    return str.length;
} // end countApprxWords
//
</code></pre></div>
  </li>
</ul>
</div>

<div>
  <h4>Options</h4>
  <ul class="steps">
    <li>
  <table class='action-detail'>
    <tr>
      <td class="cell-label">After Success</td>
      <td class="value">
        Default
        
      </td>
    </tr>
    <tr>
      <td class="cell-label">Notification</td>
      <td class="value">None</td>
    </tr>
    <tr>
      <td class="cell-label">Log Level</td>
      <td class="value">Info</td>
    </tr>
  </table>
</li>
</ul>
</div>

<div class="disclaimer">
  Items available in the Drafts Directory are uploaded by community members. Use appropriate caution reviewing downloaded items before use.
</div>


                  </div>
                  <div class="footer-content">
                  <p>
                  <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site">
                    <img alt="Download on App Store" src="../assets/appstore-deaf597bd57239c5054c59099e54ab9014f1e15eddb961085428e0ce94d4385b.svg" />
                  </a>
                  <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site">
                    <img alt="Download on Mac App Store" src="../assets/macappstore-05f5eed00e6bb26b68c1368217276158329862682e6d61b3ed193f819fe02f2f.svg" />
                  </a>
                  </p>
                    &copy; 2012-2022 by Agile Tortoise, Inc.<br/>
                    Drafts is a registered Trademark of Agile Tortoise, Inc.<br/>
                    <a href="../../getdrafts.com/support/privacy.html">Privacy</a> | <a href="../../getdrafts.com/support/terms.html">Terms</a>
                </div>
                </div>
            </div>
        </div>
    </div>

  </body>
  </html>
