<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Flash Cards to CSV | Drafts Directory</title>
    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="MT88t2B/oOYFZj/CNql36+vxvGGIOBOpt+JgcgREkbVCIBo9BBQHA4o2hJJi6iz1TFJimnboWQ+akzILLbwPRw==" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta http-equiv="content-language" content="en">
    <meta http-equiv="content-language" content="en-us">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta property="og:title" content="Drafts Directory: Flash Cards to CSV" />
    <meta property="og:url" content="https://actions.getdrafts.com/a/1sU" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="Example actions and other extensions for Drafts, the quick-capture notes app." />
    <meta property="og:image" content="https://actions.getdrafts.com/assets/drafts-ogimage-action-d9c60102fd45e0cb516e1b49ed50a81e3c3a2b90f81f55df8f43d0feb0512978.png" />
    <meta property="twitter:title" content="Drafts Directory: Flash Cards to CSV" />
    <meta property="twitter:url" content="https://actions.getdrafts.com/a/1sU" />
    <meta property="twitter:type" content="website" />
    <meta property="twitter:description" content="Example actions and other extensions for Drafts, the quick-capture notes app." />
    <meta property="twitter:image" content="https://actions.getdrafts.com/assets/drafts-ogimage-action-d9c60102fd45e0cb516e1b49ed50a81e3c3a2b90f81f55df8f43d0feb0512978.png" />

    <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon-114dbb66b0ef0399a14fa5dfcad7e6210bb558c30cea665e04d49b59fec87f70.png" />

    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
    <link rel="stylesheet" media="all" href="../assets/application-6e4f014b4c48cd673942dbfbbeb3e571a732b05562ddde5904f3a5c3833e54ff.css" />
    <script src="../assets/application-13492939cb10be5be76b5abb3e9ae0bef0bbae3202cec2b85cf6fca5bc8429c8.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script async defer data-domain="directory.getdrafts.com" src="https://plausible.io/js/plausible.js"></script>
  </head>

<body data-no-turbolink>

    <div class="page-wrap">
        <div class="side-bar">
            <a href="../index.html" class="site-title fs-6 lh-tight" title="{{ site.title }}">
                <img src="../assets/drafts-directory-header-4d826bd007f515c8e5a10f654e56ad76fbb3bd3103a67ce342283f701f1677fe.svg" alt="Drafts Directory" style="max-height: 30px;" />
            </a>
            <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button"
                    data-text-toggle="Hide">Menu</button></span>
            <div class="navigation main-nav js-main-nav">
              <ul class="navigation-list">
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../index.html">Home</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../drafts_actions.html">Actions</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../drafts_action_groups.html">Action Groups</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../syntax_definitions.html">Syntaxes</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../theme_definitions.html">Themes</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../workspaces.html">Workspaces</a>
                </li>
                <li class="navigation-list-item">
                  <hr style="margin:1em; padding: 0;" />
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../search.html">Search</a>
                </li>
                <li class="navigation-list-item">
                  <hr style="margin:1em; padding: 0;" />
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="About Drafts" href="../../getdrafts.com/index.html">Get Drafts &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Detailed documentation" href="../../docs.getdrafts.com/index.html">User Guide &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Get your questions answered in the forums" href="https://forums.getdrafts.com/">Community &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Online tools and generators" href="../../tools.getdrafts.com/index.html">Tools &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Scripting library reference" href="../../scripting.getdrafts.com/index.html">Script Reference &#x2192;</a>
                </li>
              </ul>
            </div>
            <footer role="contentinfo" class="site-footer">
                <p class="text-small text-grey-dk-000 mb-0">
                    Download: <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site">iOS</a> | <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site">Mac</a>
                </p>
            </footer>
        </div>
        <div class="main-content-wrap js-main-content" tabindex="0">
            <div class="page-header">
                <div class="main-content">
                    <div class="search js-search">
	<div class="search-input-wrap">
<form class="search-form" action="../search.html" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
	<button style='border:none;background-color:transparent;'>
	<svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"
		class="search-icon">
		<title>Search</title>
		<g fill-rule="nonzero">
			<path
				d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z" />
			<path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z" />
		</g>
	</svg>
	</button>
	<input type="text" name="q" id="q" class="js-search-input search-input search" size="12" tabindex="0" placeholder="Search" />
</form>	</div>
</div>
                    <ul class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav">
                        <li class="d-inline-block my-0 mr-2">
                          <a href="../../getdrafts.com/index.html">Get Drafts</a>
                        </li>
                        <li class="d-inline-block my-0">
                          <a href="https://forums.getdrafts.com">Community</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="main-content">
                <div id="main-content" class="page-content" role="main">
                  <div class="type">
                    <h4>Action</h4>
                  </div>
                  <div class="header">
                      <h1><img src="https://config.agiletortoise.com/drafts-icons/607-id-card.png" class="action-icon" />Flash Cards to CSV</h1>
                  </div>

                  <div class="content">
                    
<div class='caption'>
        Posted by motopascyyy,
    Last update
    6 months ago
</div>

    <div class='update_notes'>
      <h3>UPDATES</h3>
      <div id="firstUpdateNote">
      <h4>6 months ago</h4>
      <p>Corrected a scoping bug and a formatting bug</p>

      </div>
    </div>

    <div class='description'>
        <p>Takes all drafts in the Inbox of a workspace called defined in the Template Tag “flashcard_workspace” and exports the contents to a CSV file “iCloud Drive/Drafts/”. The filename is defined in the Template Tag “flashcard_filename”.</p>

<p>The intention is for the first line in the Draft to be a question for Flash Cards. The second line will be empty. The third line will be the answer.</p>

<p>All questions in all drafts will appear in the first column of the CSV. All answers in all drafts will appear in the second column of the CSV. Once done, the user will be prompted to archive all the Drafts so that they don’t get picked up again. This can be skipped.</p>

<p>Example Draft:</p>

<blockquote>
<p>What if…?</p>

<p>Ultron won</p>
</blockquote>

<p>Outputs to a CSV file in the format</p>

<p>| What if…? | Ultron won |</p>

    </div>

<div class="certification">
  
  
</div>

<div style="margin: 2em 0;">
    <a class="btn btn-blue" href="drafts5://action?identifier=1sU&amp;data=%7B%22uuid%22:%226A239305-1080-472D-8BE4-852FAFCAD787%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22name%22:%22flashcard_workspace%22,%22template%22:%22Flash%20Cards%22%7D,%22type%22:%22defineTemplateTag%22,%22isEnabled%22:true,%22uuid%22:%226B38DF95-0E26-4D18-976C-9AF1350722F1%22%7D,%7B%22platforms%22:3,%22data%22:%7B%22name%22:%22flashcard_filename%22,%22template%22:%22flash.csv%22%7D,%22type%22:%22defineTemplateTag%22,%22isEnabled%22:true,%22uuid%22:%2204932FDD-1E5A-4E8C-A2DE-33440DA328D5%22%7D,%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Check%20Workspace%20Template%20Tag%5Cn%5Cnlet%20workspaceTag%20=%20draft.getTemplateTag(%5C%22flashcard_workspace%5C%22);%5Cnif%20(!workspaceTag)%20%7B%5Cn%5Ctlet%20message%20=%20%5C%22The%20template%20tag%20%5C%5C%5C%22flashcard_workspace%5C%5C%5C%22%20was%20not%20defined%20in%20this%20action.%20Please%20edit%20the%20action%20and%20choose%20the%20workspace%20you&#39;d%20like%20to%20use.%5C%22;%5Cn%5Ctalert(message);%5Cn%5Ctcontext.fail(message);%5Cn%7D%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%2221135286-3EE6-4EFF-99D6-B2FF74CA5C5E%22%7D,%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20Check%20Filename%20Template%20Tag%5Cn%5Cnlet%20filenameTag%20=%20draft.getTemplateTag(%5C%22flashcard_filename%5C%22);%5Cnif%20(!%20filenameTag)%20%7B%5Cn%5Ctlet%20message%20=%20%5C%22The%20template%20tag%20%5C%5C%5C%22flashcard_filename%5C%5C%5C%22%20was%20not%20defined%20in%20this%20action.%20Please%20edit%20the%20action%20and%20choose%20the%20workspace%20you&#39;d%20like%20to%20use.%5C%22;%5Cn%5Ctalert(message);%5Cn%5Ctcontext.fail(message);%5Cn%7D%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%22C9FA636C-6F79-42DC-8675-540F56C85B6B%22%7D,%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22let%20workspaceName%20=%20draft.getTemplateTag(%5C%22flashcard_workspace%5C%22);%5Cnlet%20workspace%20=%20Workspace.find(workspaceName);%5Cnlet%20drafts%20=%20workspace.query(%5C%22inbox%5C%22);%5Cnif%20(drafts.length%20==%200)%20%7B%5Cn%20%20%20%20let%20errorMsg%20=%20%5C%22Tried%20finding%20drafts%20in%20the%20Inbox%20for%20the%20workspace%20%5C%5C%5C%22Flash%20Cards%5C%5C%5C%22%20but%20nothing%20found.%20Exiting%20action%5C%22;%5Cn%20%20%20%20alert(errorMsg);%5Cn%20%20%20%20context.fail(errorMsg);%5Cn%7D%20else%20%7B%5Cn%20%20%20%20let%20csvText%20=%20%5C%22%5C%22;%5Cn%20%20%20%20for%20(let%20d%20of%20drafts)%20%7B%5Cn%20%20%20%20%20%20%20%20let%20content%20=%20d.content.split(%5C%22%5C%5Cn%5C%22);%5Cn%20%20%20%20%20%20%20%20console.log(d.content);%5Cn%20%20%20%20%20%20%20%20let%20question%20=%20content[0];%5Cn%20%20%20%20%20%20%20%20let%20answer%20=%20content[2];%5Cn%20%20%20%20%20%20%20%20csvText%20+=%20%5C%22%5C%5C%5C%22%5C%22%20+%20question%20+%20%5C%22%5C%5C%5C%22,%5C%5C%5C%22%5C%22%20+%20answer%20+%20%5C%22%5C%5C%5C%22%5C%22%20+%20%5C%22%5C%5Cn%5C%22;%5Cn%20%20%20%20%7D%5Cn%5Cn%20%20%20%20let%20fmLocal%20=%20FileManager.createCloud();%20//%20Local%20file%20in%20app%20container%5Cn%20%20%20%20let%20filename%20=%20draft.getTemplateTag(%5C%22flashcard_filename%5C%22);%5Cn%20%20%20%20let%20success%20=%20fmLocal.writeString(%5C%22/flash.csv%5C%22,%20csvText);%5Cn%20%20%20%20var%20prompt%20=%20Prompt.create();%5Cn%20%20%20%20prompt.title%20=%20%5C%22Archive%20Flash%20Cards?%5C%22;%5Cn%20%20%20%20prompt.message%20=%20%60All%20Flash%20Cards%20in%20the%20Inbox%20have%20been%20exported%20to%20the%20file%20%5C%22iCloud%20Drive/Drafts/$%7Bfilename%7D%5C%22.%20Would%20you%20like%20to%20archive%20the%20drafts?%60;%5Cn%20%20%20%20prompt.isCancellable%20=%20false;%5Cn%20%20%20%20prompt.addButton(%5C%22Skip%5C%22);%5Cn%20%20%20%20prompt.addButton(%5C%22Archive%5C%22);%5Cn%5Cn%20%20%20%20let%20choice%20=%20prompt.show();%5Cn%5Cn%20%20%20%20if%20(prompt.buttonPressed%20==%20%5C%22Archive%5C%22)%20%7B%5Cn%20%20%20%20%20%20%20%20for%20(let%20d%20of%20drafts)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20d.isArchived%20=%20true;%5Cn%20%20%20%20%20%20%20%20%20%20%20%20d.update();%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%5Cn%7D%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%228E9DFF9A-F2FE-49A1-8188-09EA402D84C5%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Flash%20Cards%20to%20CSV%22,%22shiftKey%22:false%7D,%22logLevel%22:1,%22groupDisposition%22:0,%22notificationType%22:1,%22tintColor%22:%22red%22,%22actionDescription%22:%22Takes%20all%20drafts%20in%20the%20Inbox%20of%20a%20workspace%20called%20defined%20in%20the%20Template%20Tag%20%E2%80%9Cflashcard_workspace%E2%80%9D%20and%20exports%20the%20contents%20to%20a%20CSV%20file%20%E2%80%9CiCloud%20Drive/Drafts/%E2%80%9D.%20The%20filename%20is%20defined%20in%20the%20Template%20Tag%20%E2%80%9Cflashcard_filename%E2%80%9D.%5Cn%5CnThe%20intention%20is%20for%20the%20first%20line%20in%20the%20Draft%20to%20be%20a%20question%20for%20Flash%20Cards.%20The%20second%20line%20will%20be%20empty.%20The%20third%20line%20will%20be%20the%20answer.%5Cn%5CnAll%20questions%20in%20all%20drafts%20will%20appear%20in%20the%20first%20column%20of%20the%20CSV.%20All%20answers%20in%20all%20drafts%20will%20appear%20in%20the%20second%20column%20of%20the%20CSV.%20Once%20done,%20the%20user%20will%20be%20prompted%20to%20archive%20all%20the%20Drafts%20so%20that%20they%20don%E2%80%99t%20get%20picked%20up%20again.%20This%20can%20be%20skipped.%22,%22keyUseIcon%22:false,%22icon%22:%22607-id-card%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%22C8AC54CD-DFBD-4AAF-A74D-6B738319FFC9%22,%22assignTags%22:[],%22name%22:%22Flash%20Cards%20to%20CSV%22%7D">Install</a>
</div>

<div>
  <h4>Steps</h4>
<ul class='steps'>
  <li>
    <div class='step'><h3>defineTemplateTag</h3><table class='action-detail'><tr><td class='cell-label'>name</td><td class='value'><pre>flashcard_workspace</pre></td></tr><tr><td class='cell-label'>template</td><td class='value'><pre>Flash Cards</pre></td></tr></table></div>
  </li>
  <li>
    <div class='step'><h3>defineTemplateTag</h3><table class='action-detail'><tr><td class='cell-label'>name</td><td class='value'><pre>flashcard_filename</pre></td></tr><tr><td class='cell-label'>template</td><td class='value'><pre>flash.csv</pre></td></tr></table></div>
  </li>
  <li>
    <div class='step'><h3>script</h3><pre><code class='language-javascript'>// Check Workspace Template Tag

let workspaceTag = draft.getTemplateTag(&quot;flashcard_workspace&quot;);
if (!workspaceTag) {
	let message = &quot;The template tag \&quot;flashcard_workspace\&quot; was not defined in this action. Please edit the action and choose the workspace you&#39;d like to use.&quot;;
	alert(message);
	context.fail(message);
}</code></pre></div>
  </li>
  <li>
    <div class='step'><h3>script</h3><pre><code class='language-javascript'>// Check Filename Template Tag

let filenameTag = draft.getTemplateTag(&quot;flashcard_filename&quot;);
if (! filenameTag) {
	let message = &quot;The template tag \&quot;flashcard_filename\&quot; was not defined in this action. Please edit the action and choose the workspace you&#39;d like to use.&quot;;
	alert(message);
	context.fail(message);
}</code></pre></div>
  </li>
  <li>
    <div class='step'><h3>script</h3><pre><code class='language-javascript'>let workspaceName = draft.getTemplateTag(&quot;flashcard_workspace&quot;);
let workspace = Workspace.find(workspaceName);
let drafts = workspace.query(&quot;inbox&quot;);
if (drafts.length == 0) {
    let errorMsg = &quot;Tried finding drafts in the Inbox for the workspace \&quot;Flash Cards\&quot; but nothing found. Exiting action&quot;;
    alert(errorMsg);
    context.fail(errorMsg);
} else {
    let csvText = &quot;&quot;;
    for (let d of drafts) {
        let content = d.content.split(&quot;\n&quot;);
        console.log(d.content);
        let question = content[0];
        let answer = content[2];
        csvText += &quot;\&quot;&quot; + question + &quot;\&quot;,\&quot;&quot; + answer + &quot;\&quot;&quot; + &quot;\n&quot;;
    }

    let fmLocal = FileManager.createCloud(); // Local file in app container
    let filename = draft.getTemplateTag(&quot;flashcard_filename&quot;);
    let success = fmLocal.writeString(&quot;/flash.csv&quot;, csvText);
    var prompt = Prompt.create();
    prompt.title = &quot;Archive Flash Cards?&quot;;
    prompt.message = `All Flash Cards in the Inbox have been exported to the file &quot;iCloud Drive/Drafts/${filename}&quot;. Would you like to archive the drafts?`;
    prompt.isCancellable = false;
    prompt.addButton(&quot;Skip&quot;);
    prompt.addButton(&quot;Archive&quot;);

    let choice = prompt.show();

    if (prompt.buttonPressed == &quot;Archive&quot;) {
        for (let d of drafts) {
            d.isArchived = true;
            d.update();
        }
    }

}</code></pre></div>
  </li>
</ul>
</div>

<div>
  <h4>Options</h4>
  <ul class="steps">
    <li>
  <table class='action-detail'>
    <tr>
      <td class="cell-label">After Success</td>
      <td class="value">
        Default
        
      </td>
    </tr>
    <tr>
      <td class="cell-label">Notification</td>
      <td class="value">Error</td>
    </tr>
    <tr>
      <td class="cell-label">Log Level</td>
      <td class="value">Error</td>
    </tr>
  </table>
</li>
</ul>
</div>

<div class="disclaimer">
  Items available in the Drafts Directory are uploaded by community members. Use appropriate caution reviewing downloaded items before use.
</div>


                  </div>
                  <div class="footer-content">
                  <p>
                  <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site">
                    <img alt="Download on App Store" src="../assets/appstore-deaf597bd57239c5054c59099e54ab9014f1e15eddb961085428e0ce94d4385b.svg" />
                  </a>
                  <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site">
                    <img alt="Download on Mac App Store" src="../assets/macappstore-05f5eed00e6bb26b68c1368217276158329862682e6d61b3ed193f819fe02f2f.svg" />
                  </a>
                  </p>
                    &copy; 2012-2022 by Agile Tortoise, Inc.<br/>
                    Drafts is a registered Trademark of Agile Tortoise, Inc.<br/>
                    <a href="../../getdrafts.com/support/privacy.html">Privacy</a> | <a href="../../getdrafts.com/support/terms.html">Terms</a>
                </div>
                </div>
            </div>
        </div>
    </div>

  </body>
  </html>
