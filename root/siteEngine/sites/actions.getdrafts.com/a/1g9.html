<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Append to Craft Note | Drafts Directory</title>
    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="fTHj0ZjJYgF3UItIqG0YNkujvMRefKNH49KSdJJS6jcOLsVb/KLF5PgAMBj8LkMo7ABiP6Cs6eHOo8ANu6p0xQ==" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta http-equiv="content-language" content="en">
    <meta http-equiv="content-language" content="en-us">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta property="og:title" content="Drafts Directory: Append to Craft Note" />
    <meta property="og:url" content="https://actions.getdrafts.com/a/1g9" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="Example actions and other extensions for Drafts, the quick-capture notes app." />
    <meta property="og:image" content="https://actions.getdrafts.com/assets/drafts-ogimage-action-d9c60102fd45e0cb516e1b49ed50a81e3c3a2b90f81f55df8f43d0feb0512978.png" />
    <meta property="twitter:title" content="Drafts Directory: Append to Craft Note" />
    <meta property="twitter:url" content="https://actions.getdrafts.com/a/1g9" />
    <meta property="twitter:type" content="website" />
    <meta property="twitter:description" content="Example actions and other extensions for Drafts, the quick-capture notes app." />
    <meta property="twitter:image" content="https://actions.getdrafts.com/assets/drafts-ogimage-action-d9c60102fd45e0cb516e1b49ed50a81e3c3a2b90f81f55df8f43d0feb0512978.png" />

    <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon-114dbb66b0ef0399a14fa5dfcad7e6210bb558c30cea665e04d49b59fec87f70.png" />

    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
    <link rel="stylesheet" media="all" href="../assets/application-6e4f014b4c48cd673942dbfbbeb3e571a732b05562ddde5904f3a5c3833e54ff.css" />
    <script src="../assets/application-13492939cb10be5be76b5abb3e9ae0bef0bbae3202cec2b85cf6fca5bc8429c8.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script async defer data-domain="directory.getdrafts.com" src="https://plausible.io/js/plausible.js"></script>
  </head>

<body data-no-turbolink>

    <div class="page-wrap">
        <div class="side-bar">
            <a href="../index.html" class="site-title fs-6 lh-tight" title="{{ site.title }}">
                <img src="../assets/drafts-directory-header-4d826bd007f515c8e5a10f654e56ad76fbb3bd3103a67ce342283f701f1677fe.svg" alt="Drafts Directory" style="max-height: 30px;" />
            </a>
            <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button"
                    data-text-toggle="Hide">Menu</button></span>
            <div class="navigation main-nav js-main-nav">
              <ul class="navigation-list">
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../index.html">Home</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../drafts_actions.html">Actions</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../drafts_action_groups.html">Action Groups</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../syntax_definitions.html">Syntaxes</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../theme_definitions.html">Themes</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../workspaces.html">Workspaces</a>
                </li>
                <li class="navigation-list-item">
                  <hr style="margin:1em; padding: 0;" />
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../search.html">Search</a>
                </li>
                <li class="navigation-list-item">
                  <hr style="margin:1em; padding: 0;" />
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="About Drafts" href="../../getdrafts.com/index.html">Get Drafts &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Detailed documentation" href="../../docs.getdrafts.com/index.html">User Guide &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Get your questions answered in the forums" href="https://forums.getdrafts.com/">Community &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Online tools and generators" href="../../tools.getdrafts.com/index.html">Tools &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Scripting library reference" href="../../scripting.getdrafts.com/index.html">Script Reference &#x2192;</a>
                </li>
              </ul>
            </div>
            <footer role="contentinfo" class="site-footer">
                <p class="text-small text-grey-dk-000 mb-0">
                    Download: <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site">iOS</a> | <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site">Mac</a>
                </p>
            </footer>
        </div>
        <div class="main-content-wrap js-main-content" tabindex="0">
            <div class="page-header">
                <div class="main-content">
                    <div class="search js-search">
	<div class="search-input-wrap">
<form class="search-form" action="../search.html" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
	<button style='border:none;background-color:transparent;'>
	<svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"
		class="search-icon">
		<title>Search</title>
		<g fill-rule="nonzero">
			<path
				d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z" />
			<path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z" />
		</g>
	</svg>
	</button>
	<input type="text" name="q" id="q" class="js-search-input search-input search" size="12" tabindex="0" placeholder="Search" />
</form>	</div>
</div>
                    <ul class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav">
                        <li class="d-inline-block my-0 mr-2">
                          <a href="../../getdrafts.com/index.html">Get Drafts</a>
                        </li>
                        <li class="d-inline-block my-0">
                          <a href="https://forums.getdrafts.com">Community</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="main-content">
                <div id="main-content" class="page-content" role="main">
                  <div class="type">
                    <h4>Action</h4>
                  </div>
                  <div class="header">
                      <h1><img src="https://config.agiletortoise.com/drafts-icons/caret-down-double.png" class="action-icon" />Append to Craft Note</h1>
                  </div>

                  <div class="content">
                    
<div class='caption'>
        Posted by FlohGro,
    Last update
    3 months ago
</div>

    <div class='update_notes'>
      <h3>UPDATES</h3>
      <div id="firstUpdateNote">
      <h4>3 months ago</h4>
      <p>description update</p>

      </div>
      <a href="1g9.html#" onclick="document.getElementById('firstUpdateNote').classList.add('hide');document.getElementById('additionalNotes').classList.remove('hide');this.classList.add('hide');return false;">show all updates...</a>
      <div id="additionalNotes" class='hide'>
        <div>
        <h4>3 months ago</h4>
        <p>description update</p>

        </div>
        <div>
        <h4>3 months ago</h4>
        <p>description update</p>

        </div>
        <div>
        <h4>12 months ago</h4>
        <p>description updated</p>

        </div>
        <div>
        <h4>about 1 year ago</h4>
        <p>action now uses an external configuration draft based on markdown links of Craft Documents / Blocks, which simplifies the configuration massively</p>

        </div>
        <div>
        <h4>about 1 year ago</h4>
        <p>enforced url encoding of drafts content to prevent creation issues</p>

        </div>
        <div>
        <h4>about 1 year ago</h4>
        <p>Action now appends the whole draft, not just the body </p>

        </div>
      </div>
    </div>

    <div class='description'>
        <p><em>created by <a href="https://twitter.com/FlohGro">@FlohGro</a> / more on my <a href="http://www.flohgro.com/blog">Blog</a></em></p>

<h2>Append to Craft Note</h2>

<p>This action appends the content of the current draft to a selectable document in one of your Craft spaces.</p>

<p>You can configure the documents which should be selectable in the prompt very easily. </p>

<p>Follow the instructions to configure the action before you use it.</p>

<h2>[Configuration]</h2>

<p>the first time you run the action, it will create a new draft titled “Append / Prepend to Craft Action Configuration”. Think of this draft as the engine or library behind the Draft Action. (You can tag and archive this draft in the Drafts after configuration to hide it in your day to day work.)</p>

<p>Now you can configure to which Craft documents the action can append/prepend:</p>

<ul>
<li>Open the Document / Page you want to add to the Menu of this action in the Craft app.</li>
<li>click the three dots in the upper right corner and select “Share &amp; Export”, scroll down and click “Copy Markdown Deeplink”</li>
<li>In Drafts, open the draft “Append / Prepend to Craft Action Configuration” and paste that Markdown Deeplink into it (I’d recommend a bullet list for each page / document, however <strong>it’s absolutely necessary to have a new line for each item</strong> which should appear in the menu).</li>
<li>Repeat this for each Craft document / page you are likely to append/prepend content to</li>
<li>To test your set up, create a new Draft and run the Append / Prepend action. You should see a menu of the Craft documents in your configuration. Select the Craft document to append/prepend the content and that’s it!</li>
<li>note: if you want to add contents to a block you should create this block as a subpage or add content into it in Craft first to make sure that this works</li>
</ul>

<p>Here is a small example to illustrate how a configuration Draft could look like:</p>

<pre><code class="other"># Append / Prepend to Craft Action Configuration

- [MOVIE LIST](craftdocs://open?blockId=[a-complex-blockId]&amp;spaceId=[the-complex-spaceId-from the block])
- [BOOK LIST](craftdocs://open?blockId=[another-complex-blockId]&amp;spaceId=[the-complex-spaceId-from the block])
</code></pre>

<p>This action will also work for documents in different spaces.</p>

<h4>ADDITIONAL NOTES</h4>

<p>There are several actions to prepend / append contents to Craft documents in the action directory. All of these actions share the same configuration draft titled “Append / Prepend to Craft Action Configuration”</p>

<p>Here is a list of the related actions:</p>

<ul>
<li><a href="1g9.html">Append Draft to Craft Note</a></li>
<li><a href="1g0.html">Prepend Draft to Craft Note</a></li>
<li><a href="1kn.html">Append Draft to Craft Note with Date</a></li>
<li><a href="1ko.html">Prepend Draft to Craft Note with Date</a></li>
<li><a href="../../directory.getdrafts.com/a/1tr.html">Append to Craft Note with Date with new line after Date</a></li>
<li><a href="../../directory.getdrafts.com/a/1ts.html">Prepend to Craft Note with Date with new line after Date</a></li>
<li><a href="../../directory.getdrafts.com/a/1vF.html">Append to Craft Note as todo item</a></li>
<li><a href="../../directory.getdrafts.com/a/1vG.html">Prepend to Craft Note as todo item</a></li>
<li><a href="../../directory.getdrafts.com/a/1vI.html">Append to Craft Note as todo item with due date</a></li>
<li><a href="../../directory.getdrafts.com/a/1vH.html">Prepend to Craft Note as todo item with due date</a></li>
</ul>

<p>If you want to have different destinations in craft for those actions or e.g. want to have separate personal and work configuration drafts you can edit the line <code>const configurationDraftTitle = &quot;Append / Prepend to Craft Action Configuration&quot;</code> in the script step and change the title there. </p>

<h2>[Usage]</h2>

<p>This action supports you for many different use cases. You can e.g. append / prepend notes and thoughts to a list of gift ideas, a list of places you want to visit or a list of things you are grateful for. You can also create a document in Craft for regular meetings you have and add things you want to mention in the meetings to this document by using this action. </p>

<hr>

<p><em>If you find this useful and want to support me you can</em> </p>

<p><a href="https://www.buymeacoffee.com/flohgro" target="_blank"><img src="https://cdn.buymeacoffee.com/buttons/v2/default-blue.png" alt="Buy Me A Coffee" style="height: 51px !important;width: 209px !important;" ></a></p>

    </div>

<div class="certification">
  
  <a class='trusted' href='1g9.html#' title='From trusted community member'><img style="width:24px;height:24px;vertical-align:middle;" src="../assets/trusted-c3f95628f768e0a0ed09961d556a8012d1b1be6ae9e6adede683513eec0df814.svg" /> Trusted member</a>
</div>

<div style="margin: 2em 0;">
    <a class="btn btn-blue" href="drafts5://action?identifier=1g9&amp;data=%7B%22uuid%22:%22C1422893-2132-47F0-A058-05A3A2B87341%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22//%20created%20by%20@FlohGro%5Cn%5Cn//%20append%20to%20Craft%20note%5Cnconst%20configurationDraftTitle%20=%20%5C%22Append%20/%20Prepend%20to%20Craft%20Action%20Configuration%5C%22%5Cn%5Cnvar%20foundDraft%20=%20Draft.queryByTitle(configurationDraftTitle)%5Cn%5Cnif%20(foundDraft.length%20==%200)%20%7B%5Cn%20%20%20%20//%20the%20configuration%20draft%20is%20currently%20not%20existing,%20we%20need%20to%20create%20it%20for%20the%20user%20so%20that%20he/she%20can%20configure%20it%20later%5Cn%20%20%20%20let%20newDraft%20=%20new%20Draft()%5Cn%20%20%20%20newDraft.content%20=%20%5C%22%23%20%5C%22%20+%20configurationDraftTitle%20+%20%5C%22%5C%5Cn%5C%5Cn-%20%5C%22%5Cn%20%20%20%20newDraft.update()%5Cn%5Cn%20%20%20%20console.log(%5C%22created%20configuration%20draft%20with%20title:%20%5C%22%20+%20configurationDraftTitle%20+%20%5C%22%20since%20it%20was%20not%20existing%5C%22)%5Cn%5Cn%20%20%20%20alert(%5C%22created%20configuration%20draft%20with%20title:%20%5C%22%20+%20configurationDraftTitle%20+%20%5C%22%20since%20it%20was%20not%20existing%5C%5Cn%5C%5Cnplease%20configure%20it%20according%20to%20the%20actiondescription%20and%20run%20the%20action%20again%5C%22)%5Cn%20%20%20%20context.cancel()%5Cn%5Cn%7D%20else%20if%20(foundDraft.length%20%5Cu003e%201)%20%7B%5Cn%20%20%20%20//%20there%20are%20several%20drafts%20with%20the%20specified%20title.%20The%20user%20needs%20to%20cleanup%20the%20mess%20to%20run%20this%20again.%5Cn%20%20%20%20console.log(%5C%22more%20than%20one%20configuration%20draft%20with%20title:%20%5C%22%20+%20configurationDraftTitle%20+%20%5C%22%20exist%5C%22)%5Cn%5Cn%20%20%20%20alert(%5C%22more%20than%20one%20configuration%20draft%20with%20title:%20%5C%22%20+%20configurationDraftTitle%20+%20%5C%22%20exist%5C%5Cn%5C%5Cnplease%20clean%20up%20the%20mess%20(merge%20these%20two%20Drafts%20and%20run%20the%20action%20again%5C%22)%5Cn%20%20%20%20context.cancel()%5Cn%7D%20else%20%7B%5Cn%20%20%20%20//%20the%20configuration%20draft%20draft%20exists,%20which%20is%20great.%20We%20can%20work%20with%20that%5Cn%5Cn%20%20%20%20let%20p%20=%20new%20Prompt()%5Cn%5Cn%20%20%20%20p.title%20=%20%5C%22append%20to%20which%20block?%5C%22%5Cn%5Cn%20%20%20%20let%20lines%20=%20foundDraft[0].content.split(%5C%22%5C%5Cn%5C%22)%5Cn%20%20%20%20const%20regex%20=%20/%5C%5C[(.+)%5C%5C]%5C%5C(craftdocs:%5C%5C/%5C%5C/open%5C%5C?blockId=([%5E%5Cu0026]+)%5C%5C%5Cu0026spaceId=([%5E%5C%5C)]+)%5C%5C)/%5Cn%20%20%20%20let%20matchCount%20=%200%5Cn%20%20%20%20for%20(line%20of%20lines)%20%7B%5Cn%20%20%20%20%20%20%20%20let%20match%20=%20line.match(regex)%5Cn%20%20%20%20%20%20%20%20if%20(match)%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20matchCount++%5Cn%20%20%20%20%20%20%20%20%20%20%20%20let%20blockTitle%20=%20match[1]%5Cn%20%20%20%20%20%20%20%20%20%20%20%20let%20blockID%20=%20match[2]%5Cn%20%20%20%20%20%20%20%20%20%20%20%20let%20spaceID%20=%20match[3]%5Cn%20%20%20%20%20%20%20%20%20%20%20%20p.addButton(blockTitle,%20[spaceID,blockID])%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%20%20%20%20if%20(matchCount%20==%200)%20%7B%5Cn%20%20%20%20%20%20%20%20//%20no%20matches%20where%20found,%20the%20prompt%20won&#39;t%20contain%20any%20useable%20button,%20the%20user%20needs%20to%20insert%20at%20least%20one%20Craft%20Markdown%20Deeplink%5Cn%20%20%20%20%20%20%20%20console.log(%5C%22no%20markdown%20deeplinks%20to%20Craft%20Blocks%20/%20Notes%20where%20found%20in%20the%20configuration%20draft%20with%20title:%20%5C%22%20+%20configurationDraftTitle)%5Cn%20%20%20%20%20%20%20%20alert(%5C%22no%20markdown%20deeplinks%20to%20Craft%20Blocks%20/%20Notes%20where%20found%20in%20the%20configuration%20draft%20with%20title:%20%5C%22%20+%20configurationDraftTitle%20+%20%5C%22%5C%5Cn%5C%5Cnplease%20add%20markdown%20deeplinks%20to%20craft%20notes%20as%20described%20in%20the%20description%20and%20run%20the%20action%20again%5C%22)%5Cn%20%20%20%20%20%20%20%20context.cancel()%5Cn%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20//%20there%20one%20or%20more%20matches,%20show%20the%20prompt%20and%20proceed%20according%20to%20the%20users%20selection%5Cn%5Cn%20%20%20%20%20%20%20%20if%20(p.show())%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20let%20spaceID%20=%20p.buttonPressed[0]%5Cn%20%20%20%20%20%20%20%20%20%20%20%20let%20parentBlockID%20=%20p.buttonPressed[1]%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20let%20title%20=%20draft.displayTitle%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20let%20content%20=%20draft.processTemplate(%5C%22[[draft]]%5C%22)%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20content%20=%20encodeURIComponent(content)%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20const%20baseURL%20=%20%5C%22craftdocs://createblock?%5C%22%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20//%20index%20needed%20as%20high%20number%20to%20append%20the%20content%20at%20the%20end%20of%20a%20craft%20document%5Cn%20%20%20%20%20%20%20%20%20%20%20%20const%20index%20=%20200000%5Cn%20%20%20%20%20%20%20%20%20%20%20%20var%20cb%20=%20CallbackURL.create()%5Cn%20%20%20%20%20%20%20%20%20%20%20%20cb.baseURL%20=%20baseURL%5Cn%20%20%20%20%20%20%20%20%20%20%20%20cb.addParameter(%5C%22spaceId%5C%22,%20spaceID)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20cb.addParameter(%5C%22parentBlockId%5C%22,%20parentBlockID)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20cb.addParameter(%5C%22index%5C%22,%20index)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20cb.addParameter(%5C%22content%5C%22,%20content)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20//cb.addParameter(%5C%22folderId%5C%22,%5C%22%5C%22)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20cb.waitForResponse%20=%20false%5Cn%5Cn%20%20%20%20%20%20%20%20%20%20%20%20cb.open()%5Cn%20%20%20%20%20%20%20%20%7D%20else%20%7B%5Cn%20%20%20%20%20%20%20%20%20%20%20%20//%20no%20block%20selected%20by%20the%20user%5Cn%20%20%20%20%20%20%20%20%20%20%20%20console.log(%5C%22user%20did%20not%20select%20a%20Craft%20note%5C%22)%5Cn%20%20%20%20%20%20%20%20%20%20%20%20context.cancel()%5Cn%20%20%20%20%20%20%20%20%7D%5Cn%20%20%20%20%7D%5Cn%7D%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%228380182C-ECFD-4E1D-AE06-C5CAD92C565F%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Append%20to%20Craft%20Note%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:2,%22tintColor%22:%22violet%22,%22actionDescription%22:%22*created%20by%20[@FlohGro](https://twitter.com/FlohGro)%20/%20more%20on%20my%20[Blog](http://www.flohgro.com/blog)*%5Cn%5Cn%23%23%20Append%20to%20Craft%20Note%5Cn%5CnThis%20action%20appends%20the%20content%20of%20the%20current%20draft%20to%20a%20selectable%20document%20in%20one%20of%20your%20Craft%20spaces.%5Cn%5CnYou%20can%20configure%20the%20documents%20which%20should%20be%20selectable%20in%20the%20prompt%20very%20easily.%20%5Cn%5CnFollow%20the%20instructions%20to%20configure%20the%20action%20before%20you%20use%20it.%5Cn%5Cn%23%23%20[Configuration]%5Cn%5Cn%5Cnthe%20first%20time%20you%20run%20the%20action,%20it%20will%20create%20a%20new%20draft%20titled%20%E2%80%9CAppend%20/%20Prepend%20to%20Craft%20Action%20Configuration%E2%80%9D.%20Think%20of%20this%20draft%20as%20the%20engine%20or%20library%20behind%20the%20Draft%20Action.%20(You%20can%20tag%20and%20archive%20this%20draft%20in%20the%20Drafts%20after%20configuration%20to%20hide%20it%20in%20your%20day%20to%20day%20work.)%5Cn%5CnNow%20you%20can%20configure%20to%20which%20Craft%20documents%20the%20action%20can%20append/prepend:%5Cn%5Cn%5Cn-%20Open%20the%20Document%20/%20Page%20you%20want%20to%20add%20to%20the%20Menu%20of%20this%20action%20in%20the%20Craft%20app.%5Cn-%20click%20the%20three%20dots%20in%20the%20upper%20right%20corner%20and%20select%20%E2%80%9CShare%20%5Cu0026%20Export%E2%80%9D,%20scroll%20down%20and%20click%20%E2%80%9CCopy%20Markdown%20Deeplink%E2%80%9D%5Cn-%20In%20Drafts,%20open%20the%20draft%20%E2%80%9CAppend%20/%20Prepend%20to%20Craft%20Action%20Configuration%E2%80%9D%20and%20paste%20that%20Markdown%20Deeplink%20into%20it%20(I%E2%80%99d%20recommend%20a%20bullet%20list%20for%20each%20page%20/%20document,%20however%20**it%E2%80%99s%20absolutely%20necessary%20to%20have%20a%20new%20line%20for%20each%20item**%20which%20should%20appear%20in%20the%20menu).%5Cn-%20Repeat%20this%20for%20each%20Craft%20document%20/%20page%20you%20are%20likely%20to%20append/prepend%20content%20to%5Cn-%20To%20test%20your%20set%20up,%20create%20a%20new%20Draft%20and%20run%20the%20Append%20/%20Prepend%20action.%20You%20should%20see%20a%20menu%20of%20the%20Craft%20documents%20in%20your%20configuration.%20Select%20the%20Craft%20document%20to%20append/prepend%20the%20content%20and%20that%E2%80%99s%20it!%5Cn-%20note:%20if%20you%20want%20to%20add%20contents%20to%20a%20block%20you%20should%20create%20this%20block%20as%20a%20subpage%20or%20add%20content%20into%20it%20in%20Craft%20first%20to%20make%20sure%20that%20this%20works%5Cn%5CnHere%20is%20a%20small%20example%20to%20illustrate%20how%20a%20configuration%20Draft%20could%20look%20like:%5Cn%5Cn%60%60%60other%5Cn%23%20Append%20/%20Prepend%20to%20Craft%20Action%20Configuration%5Cn%5Cn-%20[MOVIE%20LIST](craftdocs://open?blockId=[a-complex-blockId]%5Cu0026spaceId=[the-complex-spaceId-from%20the%20block])%5Cn-%20[BOOK%20LIST](craftdocs://open?blockId=[another-complex-blockId]%5Cu0026spaceId=[the-complex-spaceId-from%20the%20block])%5Cn%60%60%60%5Cn%5Cn%5CnThis%20action%20will%20also%20work%20for%20documents%20in%20different%20spaces.%5Cn%5Cn%23%23%23%23%20ADDITIONAL%20NOTES%5Cn%5Cn%5CnThere%20are%20several%20actions%20to%20prepend%20/%20append%20contents%20to%20Craft%20documents%20in%20the%20action%20directory.%20All%20of%20these%20actions%20share%20the%20same%20configuration%20draft%20titled%20%E2%80%9CAppend%20/%20Prepend%20to%20Craft%20Action%20Configuration%E2%80%9D%5Cn%5CnHere%20is%20a%20list%20of%20the%20related%20actions:%5Cn%5Cn-%20[Append%20Draft%20to%20Craft%20Note](https://actions.getdrafts.com/a/1g9)%5Cn-%20[Prepend%20Draft%20to%20Craft%20Note](https://actions.getdrafts.com/a/1g0)%5Cn-%20[Append%20Draft%20to%20Craft%20Note%20with%20Date](https://actions.getdrafts.com/a/1kn)%5Cn-%20[Prepend%20Draft%20to%20Craft%20Note%20with%20Date](https://actions.getdrafts.com/a/1ko)%5Cn-%20[Append%20to%20Craft%20Note%20with%20Date%20with%20new%20line%20after%20Date](https://directory.getdrafts.com/a/1tr)%5Cn-%20[Prepend%20to%20Craft%20Note%20with%20Date%20with%20new%20line%20after%20Date](https://directory.getdrafts.com/a/1ts)%5Cn-%20[Append%20to%20Craft%20Note%20as%20todo%20item](https://directory.getdrafts.com/a/1vF)%5Cn-%20[Prepend%20to%20Craft%20Note%20as%20todo%20item](https://directory.getdrafts.com/a/1vG)%5Cn-%20[Append%20to%20Craft%20Note%20as%20todo%20item%20with%20due%20date](https://directory.getdrafts.com/a/1vI)%5Cn-%20[Prepend%20to%20Craft%20Note%20as%20todo%20item%20with%20due%20date](https://directory.getdrafts.com/a/1vH)%5Cn%5CnIf%20you%20want%20to%20have%20different%20destinations%20in%20craft%20for%20those%20actions%20or%20e.g.%20want%20to%20have%20separate%20personal%20and%20work%20configuration%20drafts%20you%20can%20edit%20the%20line%20%60const%20configurationDraftTitle%20=%20%5C%22Append%20/%20Prepend%20to%20Craft%20Action%20Configuration%5C%22%60%20in%20the%20script%20step%20and%20change%20the%20title%20there.%20%5Cn%5Cn%23%23%20[Usage]%5Cn%5Cn%5CnThis%20action%20supports%20you%20for%20many%20different%20use%20cases.%20You%20can%20e.g.%20append%20/%20prepend%20notes%20and%20thoughts%20to%20a%20list%20of%20gift%20ideas,%20a%20list%20of%20places%20you%20want%20to%20visit%20or%20a%20list%20of%20things%20you%20are%20grateful%20for.%20You%20can%20also%20create%20a%20document%20in%20Craft%20for%20regular%20meetings%20you%20have%20and%20add%20things%20you%20want%20to%20mention%20in%20the%20meetings%20to%20this%20document%20by%20using%20this%20action.%20%5Cn%5Cn%5Cn---%5Cn%5Cn*If%20you%20find%20this%20useful%20and%20want%20to%20support%20me%20you%20can*%20%5Cn%5Cn%5Cu003ca%20href=%5C%22https://www.buymeacoffee.com/flohgro%5C%22%20target=%5C%22_blank%5C%22%5Cu003e%5Cu003cimg%20src=%5C%22https://cdn.buymeacoffee.com/buttons/v2/default-blue.png%5C%22%20alt=%5C%22Buy%20Me%20A%20Coffee%5C%22%20style=%5C%22height:%2051px%20!important;width:%20209px%20!important;%5C%22%20%5Cu003e%5Cu003c/a%5Cu003e%22,%22keyUseIcon%22:false,%22icon%22:%22caret-down-double%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%2225801B11-1228-4E40-A9E9-460EE3D1E84D%22,%22assignTags%22:[],%22name%22:%22Append%20to%20Craft%20Note%22%7D">Install</a>
</div>

<div>
  <h4>Steps</h4>
<ul class='steps'>
  <li>
    <div class='step'><h3>script</h3><pre><code class='language-javascript'>// created by @FlohGro

// append to Craft note
const configurationDraftTitle = &quot;Append / Prepend to Craft Action Configuration&quot;

var foundDraft = Draft.queryByTitle(configurationDraftTitle)

if (foundDraft.length == 0) {
    // the configuration draft is currently not existing, we need to create it for the user so that he/she can configure it later
    let newDraft = new Draft()
    newDraft.content = &quot;# &quot; + configurationDraftTitle + &quot;\n\n- &quot;
    newDraft.update()

    console.log(&quot;created configuration draft with title: &quot; + configurationDraftTitle + &quot; since it was not existing&quot;)

    alert(&quot;created configuration draft with title: &quot; + configurationDraftTitle + &quot; since it was not existing\n\nplease configure it according to the actiondescription and run the action again&quot;)
    context.cancel()

} else if (foundDraft.length &gt; 1) {
    // there are several drafts with the specified title. The user needs to cleanup the mess to run this again.
    console.log(&quot;more than one configuration draft with title: &quot; + configurationDraftTitle + &quot; exist&quot;)

    alert(&quot;more than one configuration draft with title: &quot; + configurationDraftTitle + &quot; exist\n\nplease clean up the mess (merge these two Drafts and run the action again&quot;)
    context.cancel()
} else {
    // the configuration draft draft exists, which is great. We can work with that

    let p = new Prompt()

    p.title = &quot;append to which block?&quot;

    let lines = foundDraft[0].content.split(&quot;\n&quot;)
    const regex = /\[(.+)\]\(craftdocs:\/\/open\?blockId=([^&amp;]+)\&amp;spaceId=([^\)]+)\)/
    let matchCount = 0
    for (line of lines) {
        let match = line.match(regex)
        if (match) {
            matchCount++
            let blockTitle = match[1]
            let blockID = match[2]
            let spaceID = match[3]
            p.addButton(blockTitle, [spaceID,blockID])
        }
    }
    if (matchCount == 0) {
        // no matches where found, the prompt won&#39;t contain any useable button, the user needs to insert at least one Craft Markdown Deeplink
        console.log(&quot;no markdown deeplinks to Craft Blocks / Notes where found in the configuration draft with title: &quot; + configurationDraftTitle)
        alert(&quot;no markdown deeplinks to Craft Blocks / Notes where found in the configuration draft with title: &quot; + configurationDraftTitle + &quot;\n\nplease add markdown deeplinks to craft notes as described in the description and run the action again&quot;)
        context.cancel()
    } else {
        // there one or more matches, show the prompt and proceed according to the users selection

        if (p.show()) {
            let spaceID = p.buttonPressed[0]
            let parentBlockID = p.buttonPressed[1]

            let title = draft.displayTitle

            let content = draft.processTemplate(&quot;[[draft]]&quot;)

            content = encodeURIComponent(content)

            const baseURL = &quot;craftdocs://createblock?&quot;

            // index needed as high number to append the content at the end of a craft document
            const index = 200000
            var cb = CallbackURL.create()
            cb.baseURL = baseURL
            cb.addParameter(&quot;spaceId&quot;, spaceID)
            cb.addParameter(&quot;parentBlockId&quot;, parentBlockID)
            cb.addParameter(&quot;index&quot;, index)
            cb.addParameter(&quot;content&quot;, content)
            //cb.addParameter(&quot;folderId&quot;,&quot;&quot;)
            cb.waitForResponse = false

            cb.open()
        } else {
            // no block selected by the user
            console.log(&quot;user did not select a Craft note&quot;)
            context.cancel()
        }
    }
}</code></pre></div>
  </li>
</ul>
</div>

<div>
  <h4>Options</h4>
  <ul class="steps">
    <li>
  <table class='action-detail'>
    <tr>
      <td class="cell-label">After Success</td>
      <td class="value">
        Default
        
      </td>
    </tr>
    <tr>
      <td class="cell-label">Notification</td>
      <td class="value">Info</td>
    </tr>
    <tr>
      <td class="cell-label">Log Level</td>
      <td class="value">Info</td>
    </tr>
  </table>
</li>
</ul>
</div>

<div class="disclaimer">
  Items available in the Drafts Directory are uploaded by community members. Use appropriate caution reviewing downloaded items before use.
</div>


                  </div>
                  <div class="footer-content">
                  <p>
                  <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site">
                    <img alt="Download on App Store" src="../assets/appstore-deaf597bd57239c5054c59099e54ab9014f1e15eddb961085428e0ce94d4385b.svg" />
                  </a>
                  <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site">
                    <img alt="Download on Mac App Store" src="../assets/macappstore-05f5eed00e6bb26b68c1368217276158329862682e6d61b3ed193f819fe02f2f.svg" />
                  </a>
                  </p>
                    &copy; 2012-2022 by Agile Tortoise, Inc.<br/>
                    Drafts is a registered Trademark of Agile Tortoise, Inc.<br/>
                    <a href="../../getdrafts.com/support/privacy.html">Privacy</a> | <a href="../../getdrafts.com/support/terms.html">Terms</a>
                </div>
                </div>
            </div>
        </div>
    </div>

  </body>
  </html>
