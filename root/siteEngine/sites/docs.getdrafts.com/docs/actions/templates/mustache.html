<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Mustache Templates - Drafts User Guide</title> <link rel="shortcut icon" href="../../../favicon.ico.html" type="image/x-icon"> <link rel="stylesheet" href="../../../assets/css/just-the-docs-default.css"> <script type="text/javascript" src="../../../assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="../../../assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Mustache Templates | Drafts User Guide</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="Mustache Templates" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch." /> <meta property="og:description" content="Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch." /> <link rel="canonical" href="mustache.html" /> <meta property="og:url" content="https://docs.getdrafts.com/docs/actions/templates/mustache.html" /> <meta property="og:site_name" content="Drafts User Guide" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Mustache Templates" /> <script type="application/ld+json"> {"@type":"WebPage","url":"https://docs.getdrafts.com/docs/actions/templates/mustache.html","description":"Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch.","headline":"Mustache Templates","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> <meta name="twitter:card" content="summary"> <meta name="twitter:title" content="Mustache Templates"> <meta name="twitter:description" content="Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch. "> <meta name="twitter:image" content="https://docs.getdrafts.com/images/og-image.png" /> <meta property="og:type" content="article"> <meta property="og:title" content="Mustache Templates"> <meta property="og:description" content="Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch. "> <meta property="og:image" content="https://docs.getdrafts.com/images/og-image.png" /> <link rel="apple-touch-icon" sizes="57x57" href="../../../images/favicons/apple-touch-icon-57x57.png"> <link rel="apple-touch-icon" sizes="60x60" href="../../../images/favicons/apple-touch-icon-60x60.png"> <link rel="apple-touch-icon" sizes="72x72" href="../../../images/favicons/apple-touch-icon-72x72.png"> <link rel="apple-touch-icon" sizes="76x76" href="../../../images/favicons/apple-touch-icon-76x76.png"> <link rel="apple-touch-icon" sizes="114x114" href="../../../images/favicons/apple-touch-icon-114x114.png"> <link rel="apple-touch-icon" sizes="120x120" href="../../../images/favicons/apple-touch-icon-120x120.png"> <link rel="apple-touch-icon" sizes="144x144" href="../../../images/favicons/apple-touch-icon-144x144.png"> <link rel="apple-touch-icon" sizes="152x152" href="../../../images/favicons/apple-touch-icon-152x152.png"> <link rel="apple-touch-icon" sizes="180x180" href="../../../images/favicons/apple-touch-icon-180x180.png"> <link rel="icon" type="image/png" href="../../../images/favicons/favicon-32x32.png" sizes="32x32"> <link rel="icon" type="image/png" href="../../../images/favicons/favicon-194x194.png.html" sizes="194x194"> <link rel="icon" type="image/png" href="../../../images/favicons/favicon-96x96.png" sizes="96x96"> <link rel="icon" type="image/png" href="../../../images/favicons/android-chrome-192x192.png" sizes="192x192"> <link rel="icon" type="image/png" href="../../../images/favicons/favicon-16x16.png" sizes="16x16"> <link rel="manifest" href="../../../images/favicons/manifest.json"> <link rel="shortcut icon" href="../../../images/favicons/favicon.ico"> <meta name="msapplication-TileColor" content="#ffc40d"> <meta name="msapplication-TileImage" content="/images/favicons/mstile-144x144.png"> <script type="text/javascript" src="../../../assets/js/functions.js"></script> <script async defer data-domain="docs.getdrafts.com" src="https://plausible.io/js/plausible.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.7.1 --> <title>Mustache Templates | Drafts User Guide</title> <meta name="generator" content="Jekyll v4.2.0" /> <meta property="og:title" content="Mustache Templates" /> <meta property="og:locale" content="en_US" /> <meta name="description" content="Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch." /> <meta property="og:description" content="Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch." /> <link rel="canonical" href="mustache.html" /> <meta property="og:url" content="https://docs.getdrafts.com/docs/actions/templates/mustache.html" /> <meta property="og:site_name" content="Drafts User Guide" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Mustache Templates" /> <script type="application/ld+json"> {"@type":"WebPage","url":"https://docs.getdrafts.com/docs/actions/templates/mustache.html","description":"Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch.","headline":"Mustache Templates","@context":"https://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path> <path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle> <line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line> <line x1="3" y1="6" x2="21" y2="6"></line> <line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path> <polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="../../../index.html" class="site-title fs-6 lh-tight" title="Drafts User Guide"> <img src="../../../images/drafts-guide-header.svg" alt="Drafts User Guide" style="max-height: 30px;" /> </a> <a href="mustache.html#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"> <use xlink:href="#svg-menu"></use> </svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="../../../index.html" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="mustache.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../gettingstarted.html" class="nav-list-link">Getting Started</a><ul class="nav-list "><li class="nav-list-item "><a href="../../gettingstarted/migration.html" class="nav-list-link">Migrating from Drafts 4</a></li><li class="nav-list-item "><a href="../../gettingstarted/screencasts.html" class="nav-list-link">Screencasts</a></li></ul></li><li class="nav-list-item"><a href="mustache.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../editor/index.html" class="nav-list-link">Editor</a><ul class="nav-list "><li class="nav-list-item "><a href="../../editor/new-drafts-and-pinning.html" class="nav-list-link">New Drafts and Pinning</a></li><li class="nav-list-item "><a href="../../editor/dictation.html" class="nav-list-link">Dictation</a></li><li class="nav-list-item "><a href="../../editor/tasks.html" class="nav-list-link">Tasks</a></li><li class="nav-list-item "><a href="../../editor/arrangemode.html" class="nav-list-link">Arrange Mode</a></li><li class="nav-list-item "><a href="../../editor/linkmode.html" class="nav-list-link">Link Mode</a></li><li class="nav-list-item "><a href="../../editor/action-bar.html" class="nav-list-link">Action Bar</a></li><li class="nav-list-item "><a href="../../editor/autocomplete.html" class="nav-list-link">Autocomplete</a></li><li class="nav-list-item "><a href="../../editor/editorsettings.html" class="nav-list-link">Editor Preferences</a></li><li class="nav-list-item "><a href="../../editor/find.html" class="nav-list-link">Find and Replace</a></li><li class="nav-list-item "><a href="../../editor/navigation.html" class="nav-list-link">Navigation</a></li><li class="nav-list-item "><a href="../../editor/document-scanning.html" class="nav-list-link">Scanning and Live Text</a></li><li class="nav-list-item "><a href="../../editor/transcription.html" class="nav-list-link">Transcribing Audio & Video</a></li><li class="nav-list-item "><a href="../../editor/previews.html" class="nav-list-link">Previews</a></li></ul></li><li class="nav-list-item"><a href="mustache.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../drafts/index.html" class="nav-list-link">Managing Drafts</a><ul class="nav-list "><li class="nav-list-item "><a href="../../drafts/tagging.html" class="nav-list-link">Flags & Tagging</a></li><li class="nav-list-item "><a href="../../drafts/quick-search.html" class="nav-list-link">Quick Search</a></li><li class="nav-list-item "><a href="../../drafts/filtering.html" class="nav-list-link">Search & Filtering</a></li><li class="nav-list-item "><a href="../../drafts/listoptions.html" class="nav-list-link">List Options</a></li><li class="nav-list-item "><a href="../../drafts/workspaces.html" class="nav-list-link">Workspaces</a></li><li class="nav-list-item "><a href="../../drafts/versionhistory.html" class="nav-list-link">Version History</a></li><li class="nav-list-item "><a href="https://docs.getdrafts.com/docs/drafts/cross-linking.html" class="nav-list-link">Linking Drafts</a></li></ul></li><li class="nav-list-item active"><a href="mustache.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../actions.html" class="nav-list-link">Actions</a><ul class="nav-list "><li class="nav-list-item "><a href="../editing-actions.html" class="nav-list-link">Configuring Actions</a></li><li class="nav-list-item "><a href="../action-groups.html" class="nav-list-link">Action Groups</a></li><li class="nav-list-item "><a href="../action-log.html" class="nav-list-link">Action Log</a></li><li class="nav-list-item "><a href="../versions.html" class="nav-list-link">Action Versions</a></li><li class="nav-list-item "><a href="mustache.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../actions/steps/index.html" class="nav-list-link">Action Steps</a><ul class="nav-list"><li class="nav-list-item "> <a href="../steps/system.html" class="nav-list-link">System</a> </li><li class="nav-list-item "> <a href="../steps/services.html" class="nav-list-link">Services</a> </li><li class="nav-list-item "> <a href="../steps/utility.html" class="nav-list-link">Utility</a> </li><li class="nav-list-item "> <a href="../steps/advanced.html" class="nav-list-link">Advanced</a> </li></ul></li><li class="nav-list-item "><a href="../scripting.html" class="nav-list-link">Scripting</a></li><li class="nav-list-item active"><a href="mustache.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../templates.html" class="nav-list-link">Templates</a><ul class="nav-list"><li class="nav-list-item "> <a href="drafts-templates.html" class="nav-list-link">Drafts Templates</a> </li><li class="nav-list-item active"> <a href="mustache.html" class="nav-list-link active">Mustache Templates</a> </li></ul></li><li class="nav-list-item "><a href="../platform-notes.html" class="nav-list-link">Cross-Platform Notes</a></li><li class="nav-list-item "><a href="../html-forms.html" class="nav-list-link">Advanced HTML Previews</a></li></ul></li><li class="nav-list-item"><a href="../../extending/directory.html" class="nav-list-link">Drafts Directory</a></li><li class="nav-list-item"><a href="mustache.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../settings/index.html" class="nav-list-link">Settings</a><ul class="nav-list "><li class="nav-list-item "><a href="../../settings/sync.html" class="nav-list-link">iCloud Sync</a></li><li class="nav-list-item "><a href="../../settings/backups.html" class="nav-list-link">Backups</a></li><li class="nav-list-item "><a href="../../settings/notifications.html" class="nav-list-link">App Badge</a></li><li class="nav-list-item "><a href="../../settings/bookmarks.html" class="nav-list-link">Bookmarks</a></li><li class="nav-list-item "><a href="../../settings/credentials.html" class="nav-list-link">Credentials</a></li><li class="nav-list-item "><a href="../../settings/markdown.html" class="nav-list-link">Markdown Settings</a></li><li class="nav-list-item "><a href="../../settings/automatic-import.html" class="nav-list-link">Automatic Import</a></li><li class="nav-list-item "><a href="../../settings/maintenance.html" class="nav-list-link">Maintenance Tasks</a></li></ul></li><li class="nav-list-item"><a href="mustache.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../automation/index.html" class="nav-list-link">Automation</a><ul class="nav-list "><li class="nav-list-item "><a href="../../automation/shortcuts.html" class="nav-list-link">Shortcuts</a></li><li class="nav-list-item "><a href="../../automation/urlschemes.html" class="nav-list-link">URL Schemes</a></li><li class="nav-list-item "><a href="../../automation/applescript.html" class="nav-list-link">AppleScript</a></li></ul></li><li class="nav-list-item"><a href="mustache.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../extensions/index.html" class="nav-list-link">Extensions</a><ul class="nav-list "><li class="nav-list-item "><a href="../../extensions/applewatch.html" class="nav-list-link">Apple Watch</a></li><li class="nav-list-item "><a href="../../extensions/web-capture.html" class="nav-list-link">Drafts Web Capture</a></li><li class="nav-list-item "><a href="../../extensions/widgets.html" class="nav-list-link">Widgets</a></li><li class="nav-list-item "><a href="../../extensions/share.html" class="nav-list-link">iOS Share and Capture</a></li><li class="nav-list-item "><a href="../../extensions/capture-window.html" class="nav-list-link">Mac Share and Capture</a></li><li class="nav-list-item "><a href="../../extensions/message.html" class="nav-list-link">iMessage App</a></li></ul></li><li class="nav-list-item"><a href="mustache.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../extending/index.html" class="nav-list-link">Syntaxes & Themes</a><ul class="nav-list "><li class="nav-list-item "><a href="../../extending/syntaxes.html" class="nav-list-link">Syntaxes</a></li><li class="nav-list-item "><a href="../../extending/themes.html" class="nav-list-link">Themes</a></li><li class="nav-list-item "><a href="mustache.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../extending/development.html" class="nav-list-link">Developing</a><ul class="nav-list"><li class="nav-list-item "> <a href="../../extending/development/syntax-format.html" class="nav-list-link">Creating Syntaxes</a> </li><li class="nav-list-item "> <a href="../../extending/development/theme-format.html" class="nav-list-link">Creating Themes</a> </li></ul></li></ul></li><li class="nav-list-item"><a href="mustache.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../misc/index.html" class="nav-list-link">Miscellaneous</a><ul class="nav-list "><li class="nav-list-item "><a href="../../misc/attributions.html" class="nav-list-link">Attributions</a></li><li class="nav-list-item "><a href="../../../misc/mail-assistant.html" class="nav-list-link">Mail Assistant</a></li><li class="nav-list-item "><a href="../../misc/interact-scratchpad.html" class="nav-list-link">Interact Scratchpad</a></li></ul></li><li class="nav-list-item"><a href="mustache.html#" class="nav-list-expander"><svg viewBox="0 0 24 24"> <use xlink:href="#svg-arrow-right"></use> </svg></a><a href="../../../changelog.html" class="nav-list-link">Release Notes</a><ul class="nav-list "></ul></li><li> <hr style="margin:.5em; padding: 0;" /> </li> <li class="nav-list-item"> <strong><a class="nav-list-link nav-external" title="Drafts Pro features and purchase information" href="../../../draftspro.html">Drafts Pro</a></strong> </li> <li class="nav-list-item"> <strong><a class="nav-list-link nav-external" title="Drafts merchandise" href="../../../../getdrafts.com/store.html">Drafts Store</a></strong> </li> <li class="nav-list-item"> <strong><a class="nav-list-link nav-external" title="Drafts press kit" href="../../../press-kit.html">Press Kit</a></strong> </li> <li> <hr style="margin:.5em; padding: 0;" /> </li> <li class="nav-list-item"> <a class="nav-list-link nav-external" title="About Drafts" href="../../../../getdrafts.com/index.html">Get Drafts &#x2192;</a> </li> <li class="nav-list-item"> <a class="nav-list-link nav-external" title="Add-on actions, themes and more" href="../../../../directory.getdrafts.com/index.html">Directory &#x2192;</a> </li> <li class="nav-list-item"> <a class="nav-list-link nav-external" title="Get your questions answered in the forums" href="https://forums.getdrafts.com/">Community &#x2192;</a> </li> <li class="nav-list-item"> <a class="nav-list-link nav-external" title="Online tools and generators" href="../../../../tools.getdrafts.com/index.html">Tools &#x2192;</a> </li> <li class="nav-list-item"> <a class="nav-list-link nav-external" title="Scripting library reference" href="../../../../scripting.getdrafts.com/index.html">Script Reference &#x2192;</a> </li> </ul> </nav> <footer class="site-footer"> <p class="text-small text-grey-dk-000 mb-0"> Download: <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site">iOS</a> | <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site">Mac</a> </p> </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Drafts User Guide" aria-label="Search Drafts User Guide" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"> <use xlink:href="#svg-search"></use> </svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="../../../../getdrafts.com/index.html" class="site-button" > Get Drafts </a> </li> <li class="aux-nav-list-item"> <a href="https://forums.getdrafts.com" class="site-button" > Community </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="../../../actions.html">Actions</a> </li> <li class="breadcrumb-nav-list-item"><a href="../templates.html">Templates</a></li> <li class="breadcrumb-nav-list-item"><span>Mustache Templates</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 class="no_toc" id="mustache-templates"> <a href="mustache.html#mustache-templates" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mustache Templates </h1> <p><a href="drafts-templates.html">Drafts templates</a> provides a lightweight, easy-to-use way to insert values in actions, but sometimes you have more advanced needs. For more advanced templating needs, Drafts has a custom implementation of <a href="https://mustache.github.io">Mustache templates</a> that supports conditional values, partials, layouts, iteration, and other advanced templating features.</p> <h4 class="no_toc" id="table-of-contents"> <a href="mustache.html#table-of-contents" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Table of Contents </h4> <ol id="markdown-toc"> <li><a href="mustache.html#mustache-template-basics" id="markdown-toc-mustache-template-basics">Mustache Template Basics</a> <ol> <li><a href="mustache.html#variable-tags" id="markdown-toc-variable-tags">Variable Tags</a></li> <li><a href="mustache.html#sections-tags--inverted-section-tags" id="markdown-toc-sections-tags--inverted-section-tags">Sections Tags &amp; Inverted Section Tags</a></li> <li><a href="mustache.html#partial-tags" id="markdown-toc-partial-tags">Partial Tags</a></li> <li><a href="mustache.html#partial-override-tags" id="markdown-toc-partial-override-tags">Partial Override Tags</a></li> <li><a href="mustache.html#comment-tags" id="markdown-toc-comment-tags">Comment Tags</a></li> <li><a href="mustache.html#pragma-tags" id="markdown-toc-pragma-tags">Pragma Tags</a></li> </ol> </li> <li><a href="mustache.html#drafts-template-context" id="markdown-toc-drafts-template-context">Drafts Template Context</a> <ol> <li><a href="mustache.html#draft-value-tags" id="markdown-toc-draft-value-tags">Draft Value Tags</a> <ol> <li><a href="mustache.html#identifiers" id="markdown-toc-identifiers">Identifiers</a></li> <li><a href="mustache.html#content" id="markdown-toc-content">Content</a></li> <li><a href="mustache.html#dates-and-locations" id="markdown-toc-dates-and-locations">Dates and Locations</a></li> </ol> </li> <li><a href="mustache.html#non-draft-specific-value-tags" id="markdown-toc-non-draft-specific-value-tags">Non-Draft-Specific Value Tags</a></li> <li><a href="mustache.html#custom-value-tags" id="markdown-toc-custom-value-tags">Custom Value Tags</a></li> </ol> </li> <li><a href="mustache.html#formatting-values" id="markdown-toc-formatting-values">Formatting Values</a></li> <li><a href="mustache.html#filters-and-other-special-tags" id="markdown-toc-filters-and-other-special-tags">Filters and Other Special Tags</a></li> <li><a href="mustache.html#loading-other-drafts-in-templates" id="markdown-toc-loading-other-drafts-in-templates">Loading Other Drafts in Templates</a></li> <li><a href="mustache.html#using-mustache-templates-in-actions" id="markdown-toc-using-mustache-templates-in-actions">Using Mustache Templates in Actions</a></li> <li><a href="mustache.html#using-mustache-templates-in-scripts" id="markdown-toc-using-mustache-templates-in-scripts">Using Mustache Templates in Scripts</a></li> </ol><hr /> <blockquote> <h4 class="no_toc" id="example-actions"> <a href="mustache.html#example-actions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> EXAMPLE ACTIONS </h4> <p>Prefer to learn by example? <a href="../../../../directory.getdrafts.com/g/1zV.html">Look at some sample actions</a> demonstating Mustache template techniques.</p> </blockquote> <h2 id="mustache-template-basics"> <a href="mustache.html#mustache-template-basics" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Mustache Template Basics </h2> <p>For a more detailed understanding of Mustache template syntax, it’s a good idea to read over the <a href="http://mustache.github.io/mustache.5.html">official documentation</a>. This article covers enough basics to get you going, as well as discussing specific values and tags available in Drafts’ implementation.</p> <p>Like any template language, Mustache supports markup for substituting values and applying basic logic to strings. Let’s review basic tag constructs.</p> <h3 id="variable-tags"> <a href="mustache.html#variable-tags" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Variable Tags </h3> <ul> <li><code class="language-plaintext highlighter-rouge">{{value}}</code> Renders a value from the context.</li> </ul> <h3 id="sections-tags--inverted-section-tags"> <a href="mustache.html#sections-tags--inverted-section-tags" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Sections Tags &amp; Inverted Section Tags </h3> <ul> <li>Section: <code class="language-plaintext highlighter-rouge">{{#section}}...{{/section}}</code> Performs conditionals, loops and object scoping.</li> <li>Inverted Section: <code class="language-plaintext highlighter-rouge">{{^section}}...{{/section}}</code> Sister to section tags, and render when the other does not.</li> </ul> <p>When rendering, a section tag, if the value returned by the tag is “truthy”, the content inside the tag will be rendered. “Truthy” values are things like a <code class="language-plaintext highlighter-rouge">true</code> boolean, but also a not-empty string, a non-zero number, etc. The “inverted” section will render in the case where the same section tag will not, making it possible to have conditional content.</p> <h4 class="no_toc" id="conditional-example"> <a href="mustache.html#conditional-example" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Conditional Example: </h4> <div class="language-mustache highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">{{#</span><span class="nn">isFlagged</span><span class="k">}}</span>FLAGGED<span class="k">{{/</span><span class="nn">isFlagged</span><span class="k">}}</span>
<span class="k">{{^</span><span class="nv">isFlagged</span><span class="k">}}</span>NOT FLAGGED<span class="k">{{/</span><span class="nn">isFlagged</span><span class="k">}}</span>
</code></pre></div></div> <p>Section tags are also used to render repeating values, so if the value returned by the tag is a sequence, like an array of values, the section will be rendered once for each of the values in the array.</p> <h4 class="no_toc" id="repeat-example"> <a href="mustache.html#repeat-example" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Repeat Example: </h4> <p>In this example, if the context has an array value with the key “letters” equal to <code class="language-plaintext highlighter-rouge">["a", "b", "c"]</code>, the template would render “abc”.</p> <div class="language-mustache highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">{{#</span><span class="nn">letters</span><span class="k">}}{{</span><span class="nv">.</span><span class="k">}}{{/</span><span class="nn">letters</span><span class="k">}}</span>
</code></pre></div></div> <h3 id="partial-tags"> <a href="mustache.html#partial-tags" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Partial Tags </h3> <ul> <li><code class="language-plaintext highlighter-rouge">{{&gt;partial}}</code> Includes a template in another one.</li> </ul> <h3 id="partial-override-tags"> <a href="mustache.html#partial-override-tags" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Partial Override Tags </h3> <ul> <li><code class="language-plaintext highlighter-rouge">{{&lt;layout}}...{{/layout}}</code> Provides template inheretance.</li> </ul> <h3 id="comment-tags"> <a href="mustache.html#comment-tags" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Comment Tags </h3> <ul> <li><code class="language-plaintext highlighter-rouge">{{! Comment Text }}</code> Provides comments in a template that are not rendered.</li> </ul> <h3 id="pragma-tags"> <a href="mustache.html#pragma-tags" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Pragma Tags </h3> <ul> <li><code class="language-plaintext highlighter-rouge">{{% CONTENT_TYPE:HTML }}</code> By default, Drafts renders in text mode. If you need to default to HTML mode (automatically HTML escaping values), you can use the above pragma at the beginning of your template to switch modes.</li> </ul> <h2 id="drafts-template-context"> <a href="mustache.html#drafts-template-context" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Drafts Template Context </h2> <p>When a template is evaluated, values are provided in a context object. In most common uses in Drafts actions, the context is constructed for you with the values and filters discussed below. Note that you can pass additional context values to Mustache templates when triggering them via script (details below).</p> <h3 id="draft-value-tags"> <a href="mustache.html#draft-value-tags" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Draft Value Tags </h3> <p>When a draft is in context in a Mustache template, the below tags are available to render information about the draft. When running an action which uses Mustache templates, these values will be loaded in the root of the template context. A simple example using value tags to create a version of the draft with the title, then it’s assigned tags on the second line, the draft’s URL next, and the remaining body of the draft below might look like:</p> <div class="language-mustache highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Title: <span class="k">{{</span><span class="nv">title</span><span class="k">}}</span> 
Tags: <span class="k">{{</span><span class="nv">tags</span><span class="k">}}</span>
URL: <span class="k">{{</span><span class="nv">permalink</span><span class="k">}}</span>

<span class="k">{{</span><span class="nv">body</span><span class="k">}}</span>
</code></pre></div></div> <h4 id="identifiers"> <a href="mustache.html#identifiers" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Identifiers </h4> <ul> <li><code class="language-plaintext highlighter-rouge">{{uuid}}</code> A unique identifier for the current draft.</li> <li><code class="language-plaintext highlighter-rouge">{{permalink}}</code> A URL which can be used as a bookmark to open Drafts and select the current draft.</li> </ul> <h4 id="content"> <a href="mustache.html#content" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Content </h4> <ul> <li><code class="language-plaintext highlighter-rouge">{{content}}</code> The full text of the draft.</li> <li><code class="language-plaintext highlighter-rouge">{{title}}</code> The first line of the draft only.</li> <li><code class="language-plaintext highlighter-rouge">{{safeTitle}}</code> File name safe version of the first line with ASCII control characters and path separators that can interfere with file names removed (\/:*?&lt;&gt;|#).</li> <li><code class="language-plaintext highlighter-rouge">{{displayTitle}}</code> A cleaned and trimmed version of the first line as would be displayed in the draft list. Removes whitespace and leading “#” characters.</li> <li><code class="language-plaintext highlighter-rouge">{{body}}</code> The remainder of the draft text after the first line is removed.</li> <li><code class="language-plaintext highlighter-rouge">{{bodyPreview}}</code> A trimmed and shortened snippet of the body, as would be displayed in the draft list.</li> <li><code class="language-plaintext highlighter-rouge">{{selection}}</code> If text was selected within the draft before selecting an action, this tag will return only that selected text. If no text was selected, it will return the full text of the draft.</li> <li><code class="language-plaintext highlighter-rouge">{{selectionOnly}}</code> Returns selected text, but unlike <code class="language-plaintext highlighter-rouge">{{selection}}</code> will not default to returning the entire draft if no selection was made - it will simply return a empty string.</li> <li><code class="language-plaintext highlighter-rouge">{{isArchived}}</code> Boolean value indicating whether the draft is in the archive. Typically used with conditional sections to render content only true or false.</li> <li><code class="language-plaintext highlighter-rouge">{{isFlagged}}</code> Boolean value indicating whether the draft is in the flagged. Typically used with conditional sections to render content only true or false.</li> <li><code class="language-plaintext highlighter-rouge">{{tags}}</code> Comma-separated list of tags linked to the draft.</li> <li><code class="language-plaintext highlighter-rouge">{{hashtags}}</code> Same as <code class="language-plaintext highlighter-rouge">{{tags}}</code>, but with <code class="language-plaintext highlighter-rouge">#</code> characters prepended before each tag. For use with actions that export to other systems which utilize hash tags in the text when tagging.</li> <li><code class="language-plaintext highlighter-rouge">{{line}}</code> The text of the current line, based on the last cursor position in the document. If a selection which spanned multiple lines was present, extends the selection to the beginning and end of the lines selected.</li> <li><code class="language-plaintext highlighter-rouge">{{line(n)}}</code> The text of a specific line number in the draft, where “n” is the line number. i.e. <code class="language-plaintext highlighter-rouge">{{line(1)}}</code>, <code class="language-plaintext highlighter-rouge">{{line(2)}}</code>.This tag also support negative indexes, which count back from the last line of the draft, e.g. <code class="language-plaintext highlighter-rouge">{{line(-1)}}</code> returns the last line of the draft.</li> <li><code class="language-plaintext highlighter-rouge">{{line("n..n")}}</code> In addition to specific lines, the lines tag can accept ranges of lines, such as <code class="language-plaintext highlighter-rouge">{{line("2..5")}}</code> for lines 2 through 5. This initial or trailing number in the range can be omitted to indicate the beginning or end, i.e. <code class="language-plaintext highlighter-rouge">{{line("2..")}}</code> is line 2 through the end of the draft, <code class="language-plaintext highlighter-rouge">{{line("..4")}}</code> is the first for lines of the draft.</li> <li><code class="language-plaintext highlighter-rouge">{{selectionStart}}</code> The integer index of the start location of the last text selection in the draft.</li> <li><code class="language-plaintext highlighter-rouge">{{selectionLength}}</code> The number of characters in the last text selection in the draft.</li> </ul> <h4 id="dates-and-locations"> <a href="mustache.html#dates-and-locations" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Dates and Locations </h4> <ul> <li><code class="language-plaintext highlighter-rouge">{{created}}</code> Same as “date”, but returns the timestamp for the creation of the draft, rather than the current time.</li> <li><code class="language-plaintext highlighter-rouge">{{modified}}</code> Same as “date”, but returns the timestamp for the last modification date of the draft content, rather than the current time.</li> <li><code class="language-plaintext highlighter-rouge">{{createdLongitude}}</code> The location longitude where the draft was created.</li> <li><code class="language-plaintext highlighter-rouge">{{createdLatitude}}</code> The location latitude where the draft was created.</li> <li><code class="language-plaintext highlighter-rouge">{{modifiedLongitude}}</code> The location longitude where the content of the draft was last modified.</li> <li><code class="language-plaintext highlighter-rouge">{{modifiedLatitude}}</code> The location latitude where the content of the draft was last modified.</li> </ul> <h3 id="non-draft-specific-value-tags"> <a href="mustache.html#non-draft-specific-value-tags" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Non-Draft-Specific Value Tags </h3> <ul> <li><code class="language-plaintext highlighter-rouge">{{date}}</code> Timestamp in the format YYYY-MM-DD. Can be combined with <code class="language-plaintext highlighter-rouge">format</code> filter (see below) to control output.</li> <li><code class="language-plaintext highlighter-rouge">{{longitude}}</code> The current device location longitude.</li> <li><code class="language-plaintext highlighter-rouge">{{latitude}}</code> The current device location latitude.</li> <li><code class="language-plaintext highlighter-rouge">{{clipboard}}</code> The current contents of the iOS clipboard.</li> </ul> <h3 id="custom-value-tags"> <a href="mustache.html#custom-value-tags" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Custom Value Tags </h3> <p>In addition to the predefined tags always available, scripts in an action can create custom tags which become available to action steps run after the script in the same action. This is useful if a scripted action step processes text to create a value that then needs to be inserted in a later step that shares that text. The below example shows a simple script with creates a tag.</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">let</span> <span class="nx">s</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">My String Value</span><span class="dl">"</span><span class="p">;</span>
<span class="nx">draft</span><span class="p">.</span><span class="nx">setTemplateTag</span><span class="p">(</span><span class="dl">"</span><span class="s2">mytag</span><span class="dl">"</span><span class="p">,</span> <span class="nx">s</span><span class="p">);</span>
<span class="c1">// after running this script, templates later</span>
<span class="c1">// in the action will have available a  tag.</span>
</code></pre></div></div> <p>Custom template tag values can also be created using the <a href="../steps/utility.html#define-template-tag">Define Template Tag action step</a></p> <h2 id="formatting-values"> <a href="mustache.html#formatting-values" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Formatting Values </h2> <p>Drafts provides a <code class="language-plaintext highlighter-rouge">format</code> filter to apply formatting to date and number values output. Several common format strings are available, or</p> <ul> <li><code class="language-plaintext highlighter-rouge">format(value, format)</code> <ul> <li>If <code class="language-plaintext highlighter-rouge">value</code> is a date: <ul> <li>Apply <code class="language-plaintext highlighter-rouge">format</code> to date value and output as a string. This will pass through Apple’s <a href="https://developer.apple.com/documentation/foundation/numberformatter">DateFormatter</a> class, see docs for formatting details.</li> <li>Pre-defined format options: <ul> <li><code class="language-plaintext highlighter-rouge">formats.shortDate</code>: 11/23/22</li> <li><code class="language-plaintext highlighter-rouge">formats.shortDateTime</code>: 11/23/37 3:30 PM</li> <li><code class="language-plaintext highlighter-rouge">formats.longDate</code>: November 23, 1937</li> <li><code class="language-plaintext highlighter-rouge">formats.longDateTime</code>: November 23, 1937 3:30:32 PM PST</li> </ul> </li> <li>Or, a <a href="http://strftime.net">strftime</a> format string may be provided.</li> </ul> </li> <li>If <code class="language-plaintext highlighter-rouge">value</code> is a number: <ul> <li>Apply <code class="language-plaintext highlighter-rouge">format</code> to date value and output as a string. This will pass through Apple’s <a href="https://developer.apple.com/documentation/foundation/numberformatter">NumberFormatter</a> class, see docs for formatting details.</li> <li>Pre-defined format options: <ul> <li><code class="language-plaintext highlighter-rouge">formats.decimal</code>: 1234.12 =&gt; 1,234.12</li> <li><code class="language-plaintext highlighter-rouge">formats.percent</code>: 0.40 =&gt; 40%</li> <li><code class="language-plaintext highlighter-rouge">formats.scientific</code>: 1234.5678 =&gt; 1.2345678E3</li> <li><code class="language-plaintext highlighter-rouge">formats.spellOut</code>: 123 =&gt; one hundred twenty three</li> <li><code class="language-plaintext highlighter-rouge">formats.ordinal</code>: 3 =&gt; 3rd</li> <li><code class="language-plaintext highlighter-rouge">formats.currency</code>: 1234.5678 =&gt; $1,234.57</li> </ul> </li> <li>Or, a format string value can be provide using <a href="http://www.unicode.org/reports/tr35/tr35-numbers.html#Number_Format_Patterns">Unicode Technical Standard #35</a> notation.</li> </ul> </li> </ul> </li> <li><code class="language-plaintext highlighter-rouge">adjustDate(value, adjustmentExpression, format)</code>: Allows</li> </ul> <h4 class="no_toc" id="format-examples"> <a href="mustache.html#format-examples" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Format Examples </h4> <p>A few examples, assuming the <code class="language-plaintext highlighter-rouge">date</code> value tag is available in the context and set to Jan. 1 1970.</p> <div class="language-mustache highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">{{</span> <span class="nv">format</span><span class="p">(</span><span class="nv">date</span><span class="err">,</span> <span class="nv">formats</span><span class="p">.</span><span class="nv">shortDate</span><span class="p">)</span> <span class="k">}}</span> =&gt; 1/1/70
<span class="k">{{</span> <span class="nv">format</span><span class="p">(</span><span class="nv">date</span><span class="err">,</span> <span class="s2">"%Y-%m-%d"</span><span class="p">)</span> <span class="k">}}</span> =&gt; 1970-01-01
<span class="k">{{</span> <span class="nv">adjustDate</span><span class="p">(</span><span class="nv">date</span><span class="err">,</span> <span class="s2">"+1 year +1 month +2 days"</span><span class="err">,</span> <span class="s2">"%Y-%m-%d"</span><span class="p">)</span><span class="k">}}</span> =&gt; 1971-02-03
<span class="k">{{</span> <span class="nv">format</span><span class="p">(</span><span class="nv">23</span><span class="err">,</span> <span class="nv">formats</span><span class="p">.</span><span class="nv">ordinal</span><span class="p">)</span><span class="k">}}</span> =&gt; 23rd 
</code></pre></div></div> <h2 id="filters-and-other-special-tags"> <a href="mustache.html#filters-and-other-special-tags" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Filters and Other Special Tags </h2> <p>In addition to value tags and formatting filters, Drafts provides a number of special filter tags in Mustache templates which can alter values, provide formatting, or even return data such as other drafts to the template context.</p> <ul> <li><code class="language-plaintext highlighter-rouge">{{#markdown}}...{{/markdown}}</code>: Section filter that runs the output between the tags through Markdown &gt; HTML conversion.</li> <li><code class="language-plaintext highlighter-rouge">uppercase(value)</code>: Convert the value to UPPERCASE text.</li> <li><code class="language-plaintext highlighter-rouge">lowercase(value)</code>: Convert the value to lowercase text.</li> <li><code class="language-plaintext highlighter-rouge">HTMLEscape(value)</code>: Escape HTML and entities in the value. For example, <code class="language-plaintext highlighter-rouge">a &amp; &lt;b&gt;</code> would become <code class="language-plaintext highlighter-rouge">a &amp;amp; &amp;lt;b&amp;gt;</code></li> <li><code class="language-plaintext highlighter-rouge">URLEscape(value)</code>: % escape value for use in a URL query argument. For example, <code class="language-plaintext highlighter-rouge">My Text</code> would become <code class="language-plaintext highlighter-rouge">My%20Text</code>.</li> <li><code class="language-plaintext highlighter-rouge">javascriptEscape(value)</code>: Escape value for use in a Javascript string literal. For example <code class="language-plaintext highlighter-rouge">My "Text"</code> would become <code class="language-plaintext highlighter-rouge">My \"Text\"</code>.</li> </ul> <h2 id="loading-other-drafts-in-templates"> <a href="mustache.html#loading-other-drafts-in-templates" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Loading Other Drafts in Templates </h2> <p>When running an action, the current draft is always in context, and the value tags discussed above will be available in the root level of the context. It is also possible to load other drafts into the context using the special functions described below.</p> <ul> <li><code class="language-plaintext highlighter-rouge">_draft(uuid)</code>: Loads a draft by its identifier. Can be used with section tags to insert content from another specific draft when rendering.</li> <li><code class="language-plaintext highlighter-rouge">_workspaceDrafts(workspaceName, folder)</code>: Loads an array of drafts in a specific workspace. Provide the workspace name as a quoted string. Valid folder values are “inbox”, “archive”. Use with section tag to iterate over the drafts.</li> <li><code class="language-plaintext highlighter-rouge">_queryDrafts(query, filter, sortBy, sortDescending)</code>: Loads an array of drafts matching the query and filter. Query should be a quoted string value, supporting the same search options available in app search. Allowed filter values are “inbox”, “archive”, “flagged”, “trash”, and “all”. Allowed values for sort are “created”, “modified”, “accessed”, “text”.</li> </ul> <h4 class="no_toc" id="examples"> <a href="mustache.html#examples" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Examples </h4> <p>Load a specific draft and render its title:</p> <div class="language-mustache highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">{{#</span> <span class="nv">_draft</span><span class="p">(</span><span class="s2">"UUID-OF-DRAFT"</span><span class="p">)</span><span class="k">}}</span>
<span class="k">{{</span><span class="nv">title</span><span class="k">}}</span>
<span class="k">{{/}}</span>
</code></pre></div></div> <p>Load a drafts from the inbox of a workspace and render as a list of titles:</p> <div class="language-mustache highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">{{#</span> <span class="nv">_workspaceDrafts</span><span class="p">(</span><span class="s2">"Workspace Name"</span><span class="err">,</span> <span class="s2">"inbox"</span><span class="p">)</span><span class="k">}}</span>
* <span class="k">{{</span><span class="nv">title</span><span class="k">}}</span>
<span class="k">{{/}}</span>
</code></pre></div></div> <h2 id="using-mustache-templates-in-actions"> <a href="mustache.html#using-mustache-templates-in-actions" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using Mustache Templates in Actions </h2> <p>Mustache templates can be used as an alternative to <a href="drafts-templates.html">Drafts Templates</a> any long-form (multiline) templates when editing action steps.</p> <p>If you select the template use Mustache, be aware you will need to rewrite the tags to be compatible, as Drafts and Mustache tag syntax differs.</p> <h2 id="using-mustache-templates-in-scripts"> <a href="mustache.html#using-mustache-templates-in-scripts" class="anchor-heading"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Using Mustache Templates in Scripts </h2> <p>To render using the Drafts Mustache template context described in the article via script, use the <code class="language-plaintext highlighter-rouge">Draft.processMustacheTemplate</code> function, as shown in this example:</p> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// optional additional value to make available in the context</span>
<span class="c1">// they will be available as value tags, like </span>
<span class="kd">let</span> <span class="nx">values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="dl">"</span><span class="s2">val1</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">My Value</span><span class="dl">"</span>
<span class="p">}</span>
<span class="c1">// your template</span>
<span class="kd">let</span> <span class="nx">template</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>
<span class="c1">// render the template with content type "text"</span>
<span class="c1">// supported content types are "text" and "html"</span>
<span class="kd">let</span> <span class="nx">result</span> <span class="o">=</span> <span class="nx">draft</span><span class="p">.</span><span class="nx">processMustacheTemplate</span><span class="p">(</span><span class="dl">"</span><span class="s2">text</span><span class="dl">"</span><span class="p">,</span> <span class="nx">template</span><span class="p">,</span> <span class="nx">values</span><span class="p">);</span>
</code></pre></div></div> <p>If you wish to use Mustache template to render something based only the the data you pass to the template context, see also the <a href="../../../../scripting.getdrafts.com/classes/mustachetemplate.html"><code class="language-plaintext highlighter-rouge">MustacheTemplate</code> object</a>.</p> <hr> <footer> <p> <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site"> <img src="../../../images/appstore.svg" alt="Download on App Store" /> </a> <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site"> <img src="../../../images/macappstore.svg" alt="Download on Mac App Store" /> </a> </p> <p>&copy; 2012-2022 by Agile Tortoise, Inc.<br /> Drafts is a registered Trademark of Agile Tortoise, Inc.<br /> <a href="../../../../getdrafts.com/support/privacy.html">Privacy</a> | <a href="../../../../getdrafts.com/support/terms.html">Terms</a> </p> </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
