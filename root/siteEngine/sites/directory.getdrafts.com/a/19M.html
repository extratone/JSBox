<!DOCTYPE html>
<html lang='en'>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Choose a Student | Drafts Directory</title>
    <meta name="csrf-param" content="authenticity_token" />
<meta name="csrf-token" content="6PWJ0L4RKOrJ0gKrEncVaNf1lGx6d3iH1ymC7P6jadrlD8INuENAZUNHVpS5QC6svz8d5vqeGqWZZxmfdZZwVQ==" />
    <meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta http-equiv="content-language" content="en">
    <meta http-equiv="content-language" content="en-us">
    
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta property="og:title" content="Drafts Directory: Choose a Student" />
    <meta property="og:url" content="https://directory.getdrafts.com/a/19M" />
    <meta property="og:type" content="website" />
    <meta property="og:description" content="Example actions and other extensions for Drafts, the quick-capture notes app." />
    <meta property="og:image" content="https://directory.getdrafts.com/assets/drafts-ogimage-action-d9c60102fd45e0cb516e1b49ed50a81e3c3a2b90f81f55df8f43d0feb0512978.png" />
    <meta property="twitter:title" content="Drafts Directory: Choose a Student" />
    <meta property="twitter:url" content="https://directory.getdrafts.com/a/19M" />
    <meta property="twitter:type" content="website" />
    <meta property="twitter:description" content="Example actions and other extensions for Drafts, the quick-capture notes app." />
    <meta property="twitter:image" content="https://directory.getdrafts.com/assets/drafts-ogimage-action-d9c60102fd45e0cb516e1b49ed50a81e3c3a2b90f81f55df8f43d0feb0512978.png" />

    <link rel="shortcut icon" type="image/x-icon" href="../assets/favicon-114dbb66b0ef0399a14fa5dfcad7e6210bb558c30cea665e04d49b59fec87f70.png" />

    <link rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/styles/default.min.css">
    <link rel="stylesheet" media="all" href="../assets/application-6e4f014b4c48cd673942dbfbbeb3e571a732b05562ddde5904f3a5c3833e54ff.css" />
    <script src="../assets/application-13492939cb10be5be76b5abb3e9ae0bef0bbae3202cec2b85cf6fca5bc8429c8.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.4.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script async defer data-domain="directory.getdrafts.com" src="https://plausible.io/js/plausible.js"></script>
  </head>

<body data-no-turbolink>

    <div class="page-wrap">
        <div class="side-bar">
            <a href="../index.html" class="site-title fs-6 lh-tight" title="{{ site.title }}">
                <img src="../assets/drafts-directory-header-4d826bd007f515c8e5a10f654e56ad76fbb3bd3103a67ce342283f701f1677fe.svg" alt="Drafts Directory" style="max-height: 30px;" />
            </a>
            <span class="fs-3"><button class="js-main-nav-trigger navigation-list-toggle btn btn-outline" type="button"
                    data-text-toggle="Hide">Menu</button></span>
            <div class="navigation main-nav js-main-nav">
              <ul class="navigation-list">
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../index.html">Home</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../drafts_actions.html">Actions</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../drafts_action_groups.html">Action Groups</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../syntax_definitions.html">Syntaxes</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../theme_definitions.html">Themes</a>
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../workspaces.html">Workspaces</a>
                </li>
                <li class="navigation-list-item">
                  <hr style="margin:1em; padding: 0;" />
                </li>
                <li class="navigation-list-item">
                  <a class="navigation-list-link" href="../search.html">Search</a>
                </li>
                <li class="navigation-list-item">
                  <hr style="margin:1em; padding: 0;" />
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="About Drafts" href="../../getdrafts.com/index.html">Get Drafts &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Detailed documentation" href="../../docs.getdrafts.com/index.html">User Guide &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Get your questions answered in the forums" href="https://forums.getdrafts.com/">Community &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Online tools and generators" href="../../tools.getdrafts.com/index.html">Tools &#x2192;</a>
                </li>
                <li class="navigation-list-item">
                    <a class="navigation-list-link nav-external" title="Scripting library reference" href="../../scripting.getdrafts.com/index.html">Script Reference &#x2192;</a>
                </li>
              </ul>
            </div>
            <footer role="contentinfo" class="site-footer">
                <p class="text-small text-grey-dk-000 mb-0">
                    Download: <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site">iOS</a> | <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site">Mac</a>
                </p>
            </footer>
        </div>
        <div class="main-content-wrap js-main-content" tabindex="0">
            <div class="page-header">
                <div class="main-content">
                    <div class="search js-search">
	<div class="search-input-wrap">
<form class="search-form" action="../search.html" accept-charset="UTF-8" method="get"><input name="utf8" type="hidden" value="&#x2713;" />
	<button style='border:none;background-color:transparent;'>
	<svg width="14" height="14" viewBox="0 0 28 28" xmlns="http://www.w3.org/2000/svg"
		class="search-icon">
		<title>Search</title>
		<g fill-rule="nonzero">
			<path
				d="M17.332 20.735c-5.537 0-10-4.6-10-10.247 0-5.646 4.463-10.247 10-10.247 5.536 0 10 4.601 10 10.247s-4.464 10.247-10 10.247zm0-4c3.3 0 6-2.783 6-6.247 0-3.463-2.7-6.247-6-6.247s-6 2.784-6 6.247c0 3.464 2.7 6.247 6 6.247z" />
			<path d="M11.672 13.791L.192 25.271 3.02 28.1 14.5 16.62z" />
		</g>
	</svg>
	</button>
	<input type="text" name="q" id="q" class="js-search-input search-input search" size="12" tabindex="0" placeholder="Search" />
</form>	</div>
</div>
                    <ul class="list-style-none text-small mt-md-1 mb-md-1 pb-4 pb-md-0 js-aux-nav aux-nav">
                        <li class="d-inline-block my-0 mr-2">
                          <a href="../../getdrafts.com/index.html">Get Drafts</a>
                        </li>
                        <li class="d-inline-block my-0">
                          <a href="https://forums.getdrafts.com">Community</a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="main-content">
                <div id="main-content" class="page-content" role="main">
                  <div class="type">
                    <h4>Action</h4>
                  </div>
                  <div class="header">
                      <h1><img src="https://config.agiletortoise.com/drafts-icons/team.png" class="action-icon" />Choose a Student</h1>
                  </div>

                  <div class="content">
                    
<div class='caption'>
        Posted by Joel_Arnold,
    Last update
    almost 2 years ago
</div>


    <div class='description'>
        <p>Iâ€™m a teacher and I want to call on different students each time. I also sometimes give quizzes by asking direct questions to keep them engaged and score the quality of their answers.</p>

<p>This action randomly chooses a student name from a list in Drafts, tallies the number of times they have been called on, and adds to their score [2] according to your choice in a prompt. The more times someone has been called on [1] the less likely they will be called on again. The format for your draft should be:</p>

<p>Class Name</p>

<p>John Johnson, 19, 5<br>
Fred Coleman, 5, 14<br>
Bob Bobson, 6, 9</p>

<p>In this scheme: <br>
John Johnson has been called on 19x and accumulated a total of 5 points.</p>

<p>You can also use iOS shortcuts to choose the correct class list (Draft) by time of day using this Shortcut:</p>

<p><a href="https://www.icloud.com/shortcuts/4c95b2aad19c42d8b9487bfb0fab566d">https://www.icloud.com/shortcuts/4c95b2aad19c42d8b9487bfb0fab566d</a></p>

<p>Action Link at <a href="https://actions.getdrafts.com/a/19M">https://actions.getdrafts.com/a/19M</a></p>

    </div>

<div class="certification">
  
  
</div>

<div style="margin: 2em 0;">
    <a class="btn btn-blue" href="drafts5://action?identifier=19M&amp;data=%7B%22uuid%22:%22CF7F6E63-6D23-46BF-92D0-F56A855124C0%22,%22steps%22:[%7B%22platforms%22:3,%22data%22:%7B%22script%22:%22%5Cn//%20**%20Pulls%20in%20the%20draft%5Cn%5Cnlet%20originalText%20=%20draft.content;%5Cn%5Cn//%20**Separates%20the%20title%20and%20the%20list%20of%20names%5Cn%5Cnvar%20splitLines%20=%20originalText.split(%5C%22%5C%5Cn%5C%22);%5Cnvar%20title%20=%20splitLines.slice(0,%201);%5Cnvar%20namesSplit%20=%20splitLines.slice(2);%5Cnlet%20fullArray%20=%20[]%5Cn%5Cn//%20Function%20to%20put%20these%20lines%20into%20an%20object%5Cn%5Cnfunction%20createPersonRecord(fullLine)%20%7B%5Cn%5Ctvar%20scoreArray%20=%20fullLine.split(%5C%22,%20%5C%22);%5Cn%5Ctlet%20personObject%20=%20%7B%5C%22name%5C%22:%20scoreArray[0],%20%5C%22timesCalled%5C%22:%20parseInt(scoreArray[1]),%20%5C%22score%5C%22:%20parseInt(scoreArray[2])%7D;%5Cn%5Ctreturn%20personObject;%5Cn%7D%5Cn%5Cn//%20**%20Turns%20all%20of%20the%20listed%20names%20into%20objects%20nested%20in%20an%20array.%20It%20iterates%20through%20and%20puts%20each%20one%20into%20this%20format%20as%20an%20object,%20then%20pushes%20it%20to%20the%20array.%5Cn%5Cnfor%20(var%20i%20=%200;%20i%20%5Cu003c%20namesSplit.length;%20i++)%20%7B%5Cn%5CtfullArray.push(createPersonRecord(namesSplit[i]));%5Cn%7D%5Cn%5Cn%5Cn//%20**%20Adds%20up%20the%20total%20scores%20of%20all%20students%20so%20far%20as%20an%20inverse%20of%20their%20times%20called%20number%5Cn%5Cnlet%20sumOfTimesCalled%20=%200%5Cnfor%20(var%20i%20=%200;%20i%20%5Cu003c%20namesSplit.length;%20i++)%20%7B%5Cn%5CtsumOfTimesCalled%20+=%201%20/%20fullArray[i].timesCalled;%5Cn%7D%5Cn%5Cn//%20Takes%20the%20random%20number%20generated%20and%20multiplies%20it%20by%20the%20total%20scores%5Cnlet%20test%20=%20Math.random()%5Cnlet%20luckyStudent%20=%20Math.random()%20*%20sumOfTimesCalled;%5Cn%5Cn%5Cn//%20Picks%20out%20the%20correct%20student%20from%20the%20array%5Cnlet%20testSum%20=%200%5Cnfor%20(var%20i%20=%200;%20luckyStudent%20%5Cu003e%20testSum;%20i++)%20%7B%5Cn%5CttestSum%20+=%201%20/%20fullArray[i].timesCalled;%5Cn%5CtluckyStudentName%20=%20fullArray[i].name;%5Cn%5CtluckyStudentIndex%20=%20i%5Cn%7D%5Cn%5Cn%5Cn%5Cn//%20Alerts%20the%20student%20name%20and%20prompts%20for%20a%20score%5Cn%5Cnvar%20mods%20=%20[%5Cn%5C%221%5C%22,%20%5Cn%5C%222%5C%22,%20%5Cn%5C%223%5C%22,%20%5Cn%5C%224%5C%22,%20%5Cn%5C%225%5C%22,%20%5Cn];%5Cn%5Cn/*%20------%20Prompt%20------%20*/%5Cn%5Cnvar%20p%20=%20Prompt.create();%5Cnp.title%20=%20%5C%22%F0%9F%A5%B3%20%20%5C%22%20+%20luckyStudentName%20+%20%5C%22%20%20%F0%9F%A5%B3%5C%22;%5Cnfor%20(var%20mod%20of%20mods)%20%7B%5Cn%20%20p.addButton(mod);%5Cn%7D%5Cnvar%20con%20=%20p.show();%5Cn%5Cn//%20Actions%20if%20not%20cancelled%5Cnif%20(con)%20%7B%5Cn%20%20if%20(p.buttonPressed%20==%20%5C%221%5C%22)%20%7B%5Cn%20%20%20%20var%20score%20=%20%5C%221%5C%22;%5Cn%20%20%7D%5Cn%20%20if%20(p.buttonPressed%20==%20%5C%222%5C%22)%20%7B%5Cn%20%20%20%20var%20score%20=%20%5C%222%5C%22;%5Cn%20%20%7D%5Cn%20%20if%20(p.buttonPressed%20==%20%5C%223%5C%22)%20%7B%5Cn%20%20%20%20var%20score%20=%20%5C%223%5C%22;%5Cn%20%20%7D%5Cn%20%20if%20(p.buttonPressed%20==%20%5C%224%5C%22)%20%7B%5Cn%20%20%20%20var%20score%20=%20%5C%224%5C%22;%5Cn%20%20%7D%5Cn%20%20if%20(p.buttonPressed%20==%20%5C%225%5C%22)%20%7B%5Cn%20%20%20%20var%20score%20=%20%5C%225%5C%22;%5Cn%20%20%7D%5Cn%7D%5Cnelse%20%7B%5Cn%20%20context.fail();%5Cn%7D%5Cn%5Cn//%20Adds%20one%20to%20their%20score%20and%20alerts%20their%20name%5CnfullArray[luckyStudentIndex].timesCalled%20=%20fullArray[luckyStudentIndex].timesCalled%20+%201;%5CnfullArray[luckyStudentIndex].score%20=%20fullArray[luckyStudentIndex].score%20+%20parseInt(score);%5Cn%5Cn%5Cn//%20Recreates%20the%20Draft%20from%20the%20adjusted%20array%20and%20replaces%20it%5Cnlet%20updatedText%20=%20title%20+%20%5C%22%5C%5Cn%5C%22;%5Cn%5Cnfor%20(var%20i%20=%200;%20i%20%5Cu003c%20fullArray.length;%20i++)%20%7B%5Cn%5CtupdatedText%20+=%20%5C%22%5C%5Cn%5C%22%20+%20fullArray[i].name%20+%20%5C%22,%20%5C%22%20+%20fullArray[i].timesCalled%20+%20%5C%22,%20%5C%22%20+%20fullArray[i].score;%5Cn%7D%5Cndraft.content%20=%20updatedText;%5Cndraft.update();%22,%22allowAsync%22:%22false%22%7D,%22type%22:%22script%22,%22isEnabled%22:true,%22uuid%22:%2240C3EB39-FC62-43E7-B793-671FB58F8B2B%22%7D],%22backingPlatforms%22:3,%22shortName%22:%22%22,%22shouldConfirm%22:false,%22disposition%22:3,%22keyCommand%22:%7B%22optionKey%22:false,%22input%22:%22%22,%22controlKey%22:false,%22commandKey%22:false,%22type%22:%22action%22,%22discoverabilityTitle%22:%22Choose%20a%20Student%22,%22shiftKey%22:false%7D,%22logLevel%22:2,%22groupDisposition%22:0,%22notificationType%22:2,%22tintColor%22:%22none%22,%22actionDescription%22:%22I%E2%80%99m%20a%20teacher%20and%20I%20want%20to%20call%20on%20different%20students%20each%20time.%20I%20also%20sometimes%20give%20quizzes%20by%20asking%20direct%20questions%20to%20keep%20them%20engaged%20and%20score%20the%20quality%20of%20their%20answers.%5Cn%5CnThis%20action%20randomly%20chooses%20a%20student%20name%20from%20a%20list%20in%20Drafts,%20tallies%20the%20number%20of%20times%20they%20have%20been%20called%20on,%20and%20adds%20to%20their%20score%20[2]%20according%20to%20your%20choice%20in%20a%20prompt.%20The%20more%20times%20someone%20has%20been%20called%20on%20[1]%20the%20less%20likely%20they%20will%20be%20called%20on%20again.%20The%20format%20for%20your%20draft%20should%20be:%5Cn%5CnClass%20Name%5Cn%5CnJohn%20Johnson,%2019,%205%5CnFred%20Coleman,%205,%2014%5CnBob%20Bobson,%206,%209%5Cn%5Cn%5CnIn%20this%20scheme:%20%5CnJohn%20Johnson%20has%20been%20called%20on%2019x%20and%20accumulated%20a%20total%20of%205%20points.%5Cn%5CnYou%20can%20also%20use%20iOS%20shortcuts%20to%20choose%20the%20correct%20class%20list%20(Draft)%20by%20time%20of%20day%20using%20this%20Shortcut:%5Cn%5Cnhttps://www.icloud.com/shortcuts/4c95b2aad19c42d8b9487bfb0fab566d%5Cn%5Cn%5CnAction%20Link%20at%20https://actions.getdrafts.com/a/19M%5Cn%5Cnhttps://actions.getdrafts.com/a/19M%22,%22keyUseIcon%22:false,%22icon%22:%22team%22,%22visibility%22:480,%22backingIsSeparator%22:false,%22groupUUID%22:%2272EA11A8-3146-4AB2-8499-EF4FD59D7BDC%22,%22assignTags%22:[],%22name%22:%22Choose%20a%20Student%22%7D">Install</a>
</div>

<div>
  <h4>Steps</h4>
<ul class='steps'>
  <li>
    <div class='step'><h3>script</h3><pre><code class='language-javascript'>
// ** Pulls in the draft

let originalText = draft.content;

// **Separates the title and the list of names

var splitLines = originalText.split(&quot;\n&quot;);
var title = splitLines.slice(0, 1);
var namesSplit = splitLines.slice(2);
let fullArray = []

// Function to put these lines into an object

function createPersonRecord(fullLine) {
	var scoreArray = fullLine.split(&quot;, &quot;);
	let personObject = {&quot;name&quot;: scoreArray[0], &quot;timesCalled&quot;: parseInt(scoreArray[1]), &quot;score&quot;: parseInt(scoreArray[2])};
	return personObject;
}

// ** Turns all of the listed names into objects nested in an array. It iterates through and puts each one into this format as an object, then pushes it to the array.

for (var i = 0; i &lt; namesSplit.length; i++) {
	fullArray.push(createPersonRecord(namesSplit[i]));
}


// ** Adds up the total scores of all students so far as an inverse of their times called number

let sumOfTimesCalled = 0
for (var i = 0; i &lt; namesSplit.length; i++) {
	sumOfTimesCalled += 1 / fullArray[i].timesCalled;
}

// Takes the random number generated and multiplies it by the total scores
let test = Math.random()
let luckyStudent = Math.random() * sumOfTimesCalled;


// Picks out the correct student from the array
let testSum = 0
for (var i = 0; luckyStudent &gt; testSum; i++) {
	testSum += 1 / fullArray[i].timesCalled;
	luckyStudentName = fullArray[i].name;
	luckyStudentIndex = i
}



// Alerts the student name and prompts for a score

var mods = [
&quot;1&quot;, 
&quot;2&quot;, 
&quot;3&quot;, 
&quot;4&quot;, 
&quot;5&quot;, 
];

/* ------ Prompt ------ */

var p = Prompt.create();
p.title = &quot;ðŸ¥³  &quot; + luckyStudentName + &quot;  ðŸ¥³&quot;;
for (var mod of mods) {
  p.addButton(mod);
}
var con = p.show();

// Actions if not cancelled
if (con) {
  if (p.buttonPressed == &quot;1&quot;) {
    var score = &quot;1&quot;;
  }
  if (p.buttonPressed == &quot;2&quot;) {
    var score = &quot;2&quot;;
  }
  if (p.buttonPressed == &quot;3&quot;) {
    var score = &quot;3&quot;;
  }
  if (p.buttonPressed == &quot;4&quot;) {
    var score = &quot;4&quot;;
  }
  if (p.buttonPressed == &quot;5&quot;) {
    var score = &quot;5&quot;;
  }
}
else {
  context.fail();
}

// Adds one to their score and alerts their name
fullArray[luckyStudentIndex].timesCalled = fullArray[luckyStudentIndex].timesCalled + 1;
fullArray[luckyStudentIndex].score = fullArray[luckyStudentIndex].score + parseInt(score);


// Recreates the Draft from the adjusted array and replaces it
let updatedText = title + &quot;\n&quot;;

for (var i = 0; i &lt; fullArray.length; i++) {
	updatedText += &quot;\n&quot; + fullArray[i].name + &quot;, &quot; + fullArray[i].timesCalled + &quot;, &quot; + fullArray[i].score;
}
draft.content = updatedText;
draft.update();</code></pre></div>
  </li>
</ul>
</div>

<div>
  <h4>Options</h4>
  <ul class="steps">
    <li>
  <table class='action-detail'>
    <tr>
      <td class="cell-label">After Success</td>
      <td class="value">
        Default
        
      </td>
    </tr>
    <tr>
      <td class="cell-label">Notification</td>
      <td class="value">Info</td>
    </tr>
    <tr>
      <td class="cell-label">Log Level</td>
      <td class="value">Info</td>
    </tr>
  </table>
</li>
</ul>
</div>

<div class="disclaimer">
  Items available in the Drafts Directory are uploaded by community members. Use appropriate caution reviewing downloaded items before use.
</div>


                  </div>
                  <div class="footer-content">
                  <p>
                  <a href="https://itunes.apple.com/app/id1236254471?ls=1&mt=8&at=11l4Cf&ct=site">
                    <img alt="Download on App Store" src="../assets/appstore-deaf597bd57239c5054c59099e54ab9014f1e15eddb961085428e0ce94d4385b.svg" />
                  </a>
                  <a href="https://itunes.apple.com/app/id1435957248?mt=12&at=11l4Cf&ct=site">
                    <img alt="Download on Mac App Store" src="../assets/macappstore-05f5eed00e6bb26b68c1368217276158329862682e6d61b3ed193f819fe02f2f.svg" />
                  </a>
                  </p>
                    &copy; 2012-2022 by Agile Tortoise, Inc.<br/>
                    Drafts is a registered Trademark of Agile Tortoise, Inc.<br/>
                    <a href="../../getdrafts.com/support/privacy.html">Privacy</a> | <a href="../../getdrafts.com/support/terms.html">Terms</a>
                </div>
                </div>
            </div>
        </div>
    </div>

  </body>
  </html>
