<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Draft to Readwise?</title>
    <link>https://forums.getdrafts.com/t/draft-to-readwise/9313</link>
    <description>Hello,

I use Drafts a lot to create Notes by dictaction when hearing Audible in the car / walking around. I would love to put those Drafts to [Readwise](https://readwise.io/i/christoph2). Readwise is a service that reminds you with daily reminders on things you marked in Kindle and so on. Main thing is to remember them better. So my question is if anybody has already built a connection to readwise? I looked here in the forum, google and action directory, but didn&#39;t find anything.

They also have an [api](https://readwise.io/api_deets).

Thanks in advance
demaya</description>
    
    <lastBuildDate>Mon, 31 Jan 2022 13:10:16 +0000</lastBuildDate>
    <category>Actions - Help &amp; Questions</category>
    <atom:link href="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[jaymf]]></dc:creator>
        <description><![CDATA[
            <p>Just went to recreate the issue and now it is working.<br>
I don’t know how or why - but this action is now working properly for me…</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/27">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/27</link>
        <pubDate>Mon, 31 Jan 2022 13:10:16 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-27</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[derekvan]]></dc:creator>
        <description><![CDATA[
            <p>No problems on my end. Able to send a sample sentence to a new book without weird encoding. Mac / English</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/26">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/26</link>
        <pubDate>Sun, 19 Dec 2021 16:15:01 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-26</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[sylumer]]></dc:creator>
        <description><![CDATA[
            <p>Is anyone other than <a class="mention" href="https://forums.getdrafts.com/u/jaymf">@jaymf</a> experiencing the issue? Can anyone else reproduce it? I have not seen any affirmative response to Jason’s previous query on whether anyone else can reproduce the issue.</p>
<p><em>As noted previously my trial expired and I am not a user of this service, so I can’t test it myself.</em></p>
<p>I’m just wondering if it may be something user/device rather than specific to a locale/language, or something else? Maybe confirming the scope of those affected is a more practical step at this stage than investigating for a possible language-based discrepancy in the Drafts app or OS?</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/25">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/25</link>
        <pubDate>Sun, 19 Dec 2021 14:29:39 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-25</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[demaya]]></dc:creator>
        <description><![CDATA[
            <p><a class="mention" href="https://forums.getdrafts.com/u/agiletortoise">@agiletortoise</a> Readwise answered that they cannot find any problems on their side. Is there something on Drafts side that handles draft content different so german MacOS behaves different to a English / United States one?</p>
<p>Thanks for your investigation in advance!</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/24">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/24</link>
        <pubDate>Sun, 19 Dec 2021 13:35:08 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-24</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[jaymf]]></dc:creator>
        <description><![CDATA[
            <p>Hi <a class="mention" href="https://forums.getdrafts.com/u/demaya">@demaya</a> English and United States.</p>
<p>So weird - sending text exactly like your example…</p>
<p>Let me know how I can assist in troubleshooting…</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/23">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/23</link>
        <pubDate>Tue, 09 Nov 2021 11:02:40 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-23</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[demaya]]></dc:creator>
        <description><![CDATA[
            <p>Just to let you know. I cannot reproduce it. The sentence is German but as you can see the blanks are not encoded with % or anything like this. Will dig deeper here.<br>
</p><div class="lightbox-wrapper"><a class="lightbox" href="https://forums.getdrafts.com/uploads/default/original/2X/2/2cbe27b915c144e5edeaec0b6154186b96e41fe8.png" data-download-href="https://forums.getdrafts.com/uploads/default/2cbe27b915c144e5edeaec0b6154186b96e41fe8" title="image"><img src="https://forums.getdrafts.com/uploads/default/optimized/2X/2/2cbe27b915c144e5edeaec0b6154186b96e41fe8_2_690x310.png" alt="image" data-base62-sha1="6nOpGrGC8qbgAgECmKDuoMtF2GI" width="690" height="310" srcset="https://forums.getdrafts.com/uploads/default/optimized/2X/2/2cbe27b915c144e5edeaec0b6154186b96e41fe8_2_690x310.png, https://forums.getdrafts.com/uploads/default/optimized/2X/2/2cbe27b915c144e5edeaec0b6154186b96e41fe8_2_1035x465.png 1.5x, https://forums.getdrafts.com/uploads/default/optimized/2X/2/2cbe27b915c144e5edeaec0b6154186b96e41fe8_2_1380x620.png 2x" data-small-upload="https://forums.getdrafts.com/uploads/default/optimized/2X/2/2cbe27b915c144e5edeaec0b6154186b96e41fe8_2_10x10.png"></a></div><p></p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/22">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/22</link>
        <pubDate>Sun, 07 Nov 2021 21:27:17 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-22</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[demaya]]></dc:creator>
        <description><![CDATA[
            <p><a class="mention" href="https://forums.getdrafts.com/u/shravansunder">@ShravanSunder</a>  will have a look regarding your idea. I can push tags but need to find out on what level they are stored on Readwise (book vs. new entry).</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/21">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/21</link>
        <pubDate>Sun, 07 Nov 2021 20:46:05 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-21</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[demaya]]></dc:creator>
        <description><![CDATA[
            <p>I will investigate the issue. I now have a contact to the API developers of Readwise.</p>
<p><a class="mention" href="https://forums.getdrafts.com/u/jaymf">@jaymf</a> can you share your locale settings (like language &amp; regional settings), just for research purposes. Thanks</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/20">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/20</link>
        <pubDate>Sun, 07 Nov 2021 20:44:59 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-20</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[jaymf]]></dc:creator>
        <description><![CDATA[
            <p><a class="mention" href="https://forums.getdrafts.com/u/demaya">@demaya</a> I’m still getting the same error - where spaces are filled with placeholders %% even with the latest action update 12 hours ago… am I the only one?</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/19">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/19</link>
        <pubDate>Sat, 06 Nov 2021 17:34:14 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-19</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[ShravanSunder]]></dc:creator>
        <description><![CDATA[
            <p>this is amazing!  thanks for this!</p>
<p>I was wondering if there was a way to push the draft tags to readwise as tags as well?</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/18">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/18</link>
        <pubDate>Sat, 30 Oct 2021 01:59:26 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-18</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[jaymf]]></dc:creator>
        <description><![CDATA[
            <p><a class="mention" href="https://forums.getdrafts.com/u/demaya">@demaya</a> awesome of you to update this.</p>
<p>I am still experiencing the same error despite updating to the action you posted a few hours ago.</p>
<p>Here is the result in Readwise:</p>
<blockquote>
<p>Testing%20to%20Readwise%20</p>
</blockquote>
<p>Let me know how else I can assist.</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/17">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/17</link>
        <pubDate>Tue, 19 Oct 2021 00:31:45 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-17</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[demaya]]></dc:creator>
        <description><![CDATA[
            <p>Hello folks,</p>
<p>I just finished an update for the Drafts 2 Readwise Action. From now on you can add your Drafts to Readwise while selecting from a comfortable menu with the last added items from Drafts or create a new book in Readwise.</p>
<p></p><div class="lightbox-wrapper"><a class="lightbox" href="https://forums.getdrafts.com/uploads/default/original/2X/a/a8eb7acaed98c001bdcbf6cc99fbf490abef4ed3.jpeg" data-download-href="https://forums.getdrafts.com/uploads/default/a8eb7acaed98c001bdcbf6cc99fbf490abef4ed3" title="image"><img src="https://forums.getdrafts.com/uploads/default/optimized/2X/a/a8eb7acaed98c001bdcbf6cc99fbf490abef4ed3_2_652x500.jpeg" alt="image" data-base62-sha1="o6kJ7XGNpLwU2lvAgp0eo9tifXJ" width="652" height="500" srcset="https://forums.getdrafts.com/uploads/default/optimized/2X/a/a8eb7acaed98c001bdcbf6cc99fbf490abef4ed3_2_652x500.jpeg, https://forums.getdrafts.com/uploads/default/optimized/2X/a/a8eb7acaed98c001bdcbf6cc99fbf490abef4ed3_2_978x750.jpeg 1.5x, https://forums.getdrafts.com/uploads/default/optimized/2X/a/a8eb7acaed98c001bdcbf6cc99fbf490abef4ed3_2_1304x1000.jpeg 2x" data-small-upload="https://forums.getdrafts.com/uploads/default/optimized/2X/a/a8eb7acaed98c001bdcbf6cc99fbf490abef4ed3_2_10x10.png"></a></div><p></p>
<p>Update is pushed to the action directory. Feedback is warmly welcome.</p>
<p><a class="mention" href="https://forums.getdrafts.com/u/jaymf">@jaymf</a> &amp; <a class="mention" href="https://forums.getdrafts.com/u/woody">@woody</a> please have a look too!</p>
<p>Kind regards</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/16">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/16</link>
        <pubDate>Mon, 18 Oct 2021 20:52:53 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-16</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[demaya]]></dc:creator>
        <description><![CDATA[
            <p>Short update. I am in contact with the Readwise team. They updated some stuff in the API for us so we can use Readwise much better. Working on an update of the Action in the next few days.</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/15">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/15</link>
        <pubDate>Sat, 09 Oct 2021 13:40:46 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-15</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[demaya]]></dc:creator>
        <description><![CDATA[
            <p>Hey guys, been pretty stressful last months. Just wanna let you know that I am investigating and trying my best to make it work <img src="https://forums.getdrafts.com/images/emoji/apple/slight_smile.png?v=10" title=":slight_smile:" class="emoji" alt=":slight_smile:"> Thanks for patience. Will update you here! Kind regards</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/14">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/14</link>
        <pubDate>Sun, 19 Sep 2021 13:18:53 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-14</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[sylumer]]></dc:creator>
        <description><![CDATA[
            <p>My Readwise trial expires months ago, so I can’t check anything on this, but looking at the “alpha” action that <a class="mention" href="https://forums.getdrafts.com/u/demaya">@demaya</a> posted, my guess would be the JSON setting of the title. The text of the title is being escaped, which sounds exactly like what has been observed.</p>
<pre><code class="lang-auto">"title": escape(selectedBook.toString())
</code></pre>
<p>I wouldn’t expect to have to escape the text (and it is a deprecated JavaScript function in any case), so perhaps just try removing the escape function ocurrence(s), and see what effect that has.</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/13">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/13</link>
        <pubDate>Sat, 29 May 2021 14:32:31 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-13</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[woody]]></dc:creator>
        <description><![CDATA[
            <p>I can confirm the behaviour regarding the second book with percentages in between.</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/12">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/12</link>
        <pubDate>Sat, 29 May 2021 12:21:49 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-12</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[jaymf]]></dc:creator>
        <description><![CDATA[
            <p><a class="mention" href="https://forums.getdrafts.com/u/demaya">@demaya</a> I am getting wonky results with your <a href="https://actions.getdrafts.com/a/1fl">Readwise action</a>.</p>
<p>Draft text selected to push to Readwise is not settling into the selected book…</p>
<p>Instead Readwise is duplicating the book title with “%” between spaces and adding the selected Draft text to the new book.</p>
<p>Any thoughts on a fix?</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/11">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/11</link>
        <pubDate>Tue, 27 Apr 2021 23:42:36 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-11</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[agiletortoise]]></dc:creator>
        <description><![CDATA[
            <p>Could you dump the responseText you are getting back as an example? You could insert this to put in the clipboard when the script is run:</p>
<pre><code class="lang-javascript">app.setClipboard(responseText);
</code></pre>
<p>I could take a look and see if there’s some disagreement on parsing.</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/10">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/10</link>
        <pubDate>Thu, 31 Dec 2020 17:41:42 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-10</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[demaya]]></dc:creator>
        <description><![CDATA[
            <p>Thanks for the hint <a class="mention" href="https://forums.getdrafts.com/u/agiletortoise">@agiletortoise</a>. I just finished a early alpha of the new script. It shows all books listed in Readwise as a list you can choose from. There is a  little work to do, but it works in most cases. <a href="https://actions.getdrafts.com/a/1fl" rel="noopener nofollow ugc">https://actions.getdrafts.com/a/1fl</a></p>
<p><a class="mention" href="https://forums.getdrafts.com/u/agiletortoise">@agiletortoise</a> one more question: I tried a few things but books with a longer title (e.g. Everything is fuck*d: text text text) is only transmitted as everything before :. Is this a bug / thing I should address at Readwise side? I tried to encode, but then the title comes fully encoded on Readwise.</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/9">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/9</link>
        <pubDate>Thu, 31 Dec 2020 16:39:37 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-9</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[agiletortoise]]></dc:creator>
        <description><![CDATA[
            <p>You will probably need to parse the JSON response yourself from the responseText. Try:</p>
<pre><code class="lang-auto">
// parse response JSON to object
let responseData = JSON.parse(response.responseText);
</code></pre>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/8">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/8</link>
        <pubDate>Thu, 31 Dec 2020 13:39:43 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-8</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[demaya]]></dc:creator>
        <description><![CDATA[
            <p>Hey guys,</p>
<p>I am working on an updated script based on the great work of <a class="mention" href="https://forums.getdrafts.com/u/sylumer">@sylumer</a>. I want to get all books and then let the user choose where to add the note…</p>
<pre><code>function getBooksFromReadwise()
{
	const BASEURL = "https://readwise.io/api/v2/books/";

	let credReadwise = Credential.create("Readwise", "Highlight surfacing service.");
	credReadwise.addPasswordField("token", "API Token");
	credReadwise.authorize();

	let httpMain = HTTP.create();
	let respMain = httpMain.request(
	{
		"url" : BASEURL,
        "method" : "GET",
		"headers" :
		{
			"Authorization" : `Token ${credReadwise.getValue("token")}`
		}
	});

    if(respMain.success) {
        let responseData = respMain.responseData;
        let responseText = respMain.responseText;
        editor.setText(responseData);

    } else {
        console.log(`[${respMain.statusCode}] ${respMain.error}`);
    }


}
</code></pre>
<p>The problem is that I get a proper Text via respMain.responseText; but no JSON / Object via respMain.responseData;. If I get the manual right there should be a proper answer.</p>
<p>All I get via reponseData is [object Foundation.__NSSwiftData]. Would be great to get a small kickstart again. Thanks</p>
<p>Kind regards<br>
demaya</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/7">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/7</link>
        <pubDate>Thu, 31 Dec 2020 12:52:17 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-7</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[derekvan]]></dc:creator>
        <description><![CDATA[
            <p>Basically, I was trying to send “Type” without converting to String first (Drafts provides the response of a “select” prompt as an array). Whoops!</p>
<pre><code class="lang-auto">let pT = p.fieldValues["pType"].toString();
        postToReadwise(p.fieldValues["pTitle"],p.fieldValues["pAuthor"],p.fieldValues["pText"],p.fieldValues["pURL"],pT,draft.createdAt.toISOString());
</code></pre>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/6">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/6</link>
        <pubDate>Sat, 19 Dec 2020 01:56:43 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-6</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[sylumer]]></dc:creator>
        <description><![CDATA[
            <p>t looks as though you are always passing in content in every field. Is there always something in every field? I don’t think the API like’s null/blank data, and, not being a user myself (I just tried the free trial), does it make sense for all of the data to be populated at any point?</p>
<p>I was able to get it accepting content by simplifying the highlights and having fewer data items. I would suggest starting with just the mandatory field and then building it up one at a time, checking each as you go.</p>
<p>For the response, I made the following amendment just to get a visual cue on success/failure and any failure message.</p>
<pre><code class="lang-auto">    if (respMain.success) {
		app.displayInfoMessage("Success");
        console.log("yep");
        return true;
    }
	else
	{
		app.displayWarningMessage("Failure");
		alert(`[${respMain.statusCode}] ${respMain.error}`);
		console.log(`[${respMain.statusCode}] ${respMain.error}`);
		return false;
	}
</code></pre>
<p>I would note that the testing I’ve done with it this evening has given quite variable results.  While I appreciate that the system does do deduplication, and I have had successes that have produced content in Readwise, I have also had successes against unique simple content that has not produced content. Honestly, I’m not particularly impressed with my experience of the API to this point.</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/5">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/5</link>
        <pubDate>Fri, 18 Dec 2020 21:34:03 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-5</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[derekvan]]></dc:creator>
        <description><![CDATA[
            <p>Hi <a class="mention" href="https://forums.getdrafts.com/u/sylumer">@sylumer</a>, I have tried to modify your script, but am having some weird results. When I run the below script, I get a green Drafts success message, but my console.log is empty (despite the logging in my script) and nothing is showing up to Readwise. I ran your unmodified script with success, so I’m not sure what’s going on. Any debugging tips? Thanks!</p>
<pre><code class="lang-auto">// readwise

function postToReadwise(pTitle,pAuthor,pText,pURL,pNote,pType,pDate)
{
	const BASEURL = "https://readwise.io/api/v2/highlights/";
	
	let credReadwise = Credential.create("Readwise", "Highlight surfacing service.");
	credReadwise.addPasswordField("token", "API Token");
	credReadwise.authorize();

	let httpMain = HTTP.create();
	let respMain = httpMain.request(
	{
		"url" : BASEURL,
		"method" : "POST",
		"data": 
		{
			"highlights" : [{
                "text" : pText,
                "title": pTitle,
                "author":pAuthor,
                "source_url":pURL,
                "note":pNote,
                "source_type":pType,
                "highlighted_at": pDate
            }]
		},
		"headers" :
		{
			"Authorization" : `Token ${credReadwise.getValue("token")}`
		}
	});

    if (respMain.success) {
        console.log("yep");
        return true;
    }
	else
	{
		console.log(`[${respMain.statusCode}] ${respMain.error}`);
		return false;
	}
}

let t = draft.processTemplate("[[display_title]]");
let h = draft.processTemplate("[[line|3..]]");

var p = Prompt.create();
p.title="Parse draft for readwise";
p.addTextField("pTitle","Title",t);
p.addTextField("pAuthor","Author","");
p.addTextView("pText","Highlight",h,{"height":150});
p.addTextField("pURL","URL","");
p.addTextField("pNote","Note","");
p.addSelect("pType","Type",["book","article","podcast"],[""],false);
p.addButton("OK");
if(p.show()){
    console.log(p.fieldValues["pTitle"],p.fieldValues["pAuthor"],p.fieldValues["pText"],p.fieldValues["pURL"],p.fieldValues["pNote"],p.fieldValues["pType"],draft.createdAt.toISOString());
    postToReadwise(p.fieldValues["pTitle"],p.fieldValues["pAuthor"],p.fieldValues["pText"],p.fieldValues["pURL"],p.fieldValues["pNote"],p.fieldValues["pType"],draft.createdAt.toISOString());
}
else
{
    context.cancel();
}
~~~~</code></pre>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/4">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/4</link>
        <pubDate>Fri, 18 Dec 2020 20:26:01 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-4</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
      <item>
        <title>Draft to Readwise?</title>
        <dc:creator><![CDATA[demaya]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="sylumer" data-post="2" data-topic="9313">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="20" height="20" src="https://forums.getdrafts.com/user_avatar/forums.getdrafts.com/sylumer/40/2731_2.png" class="avatar"> sylumer:</div>
<blockquote>
<p>Readwise API access token</p>
</blockquote>
</aside>
<p>Well done! Thanks. I will have a look at it.</p>
          <p><a href="https://forums.getdrafts.com/t/draft-to-readwise/9313/3">Read full topic</a></p>
        ]]></description>
        <link>https://forums.getdrafts.com/t/draft-to-readwise/9313/3</link>
        <pubDate>Sun, 13 Dec 2020 22:20:58 +0000</pubDate>
        <guid isPermaLink="false">forums.getdrafts.com-post-9313-3</guid>
        <source url="https://forums.getdrafts.com/t/draft-to-readwise/9313.rss">Draft to Readwise?</source>
      </item>
  </channel>
</rss>
