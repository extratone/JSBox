<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Search Field Mega Action - Actions - Share What You&#39;ve Made - Drafts Community</title>
    <meta name="description" content="This is a new version of my Search Mega Action, that adds a text field to the prompt that will either be pre-filled with the draft, the selected text, or be blank. This means the action can be run on a blank draft withou&amp;hellip;">
    <meta name="generator" content="Discourse 2.9.0.beta4 - https://github.com/discourse/discourse version f0d46c35493f4d01e4c1f9a3b32f867c1ade595e">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/25837d707e58349c1c1881afc1883055a203ac28_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/7/77d737820f07fbb0e980560a8c341a18432a7d92_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="1157.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.getdrafts.com","potentialAction":{"@type":"SearchAction","target":"https://forums.getdrafts.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Drafts Community Search">

    <link href="https://forums.getdrafts.com/stylesheets/color_definitions_base__2_3d1df61a71325940d683ff0221fd14dee6a802e5.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" class="light-scheme"/><link href="https://forums.getdrafts.com/stylesheets/color_definitions_simple-dark_1_2_ce13c571d5f0d2fac2c7d8164bf57e59bd0aa89f.css?__ws=forums.getdrafts.com" media="(prefers-color-scheme: dark)" rel="stylesheet" class="dark-scheme"/>

  <link href="https://forums.getdrafts.com/stylesheets/desktop_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="desktop"  />


  <link href="https://forums.getdrafts.com/stylesheets/discourse-details_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-local-dates_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-narrative-bot_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-presence_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forums.getdrafts.com/stylesheets/lazy-yt_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="lazy-yt"  />
  <link href="https://forums.getdrafts.com/stylesheets/poll_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forums.getdrafts.com/stylesheets/poll_desktop_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forums.getdrafts.com/stylesheets/desktop_theme_2_8a6535adb5ffcb37b246b8087d7136cfbc597ca9.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Search Field Mega Action&#39;" href="https://forums.getdrafts.com/t/search-field-mega-action/1157.rss" />
    <meta property="og:site_name" content="Drafts Community" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.getdrafts.com/uploads/default/original/2X/8/8028b40b2b5c46fe6a21aa3e1b9480b911b845df.png" />
<meta property="og:image" content="https://forums.getdrafts.com/uploads/default/original/2X/8/8028b40b2b5c46fe6a21aa3e1b9480b911b845df.png" />
<meta property="og:url" content="https://forums.getdrafts.com/t/search-field-mega-action/1157" />
<meta name="twitter:url" content="https://forums.getdrafts.com/t/search-field-mega-action/1157" />
<meta property="og:title" content="Search Field Mega Action" />
<meta name="twitter:title" content="Search Field Mega Action" />
<meta property="og:description" content="This is a new version of my Search Mega Action, that adds a text field to the prompt that will either be pre-filled with the draft, the selected text, or be blank. This means the action can be run on a blank draft without creating a new draft. I used bits of script from an action by @nahumck, who also helped clean the code up in the original action. https://actions.getdrafts.com/a/1Jl" />
<meta name="twitter:description" content="This is a new version of my Search Mega Action, that adds a text field to the prompt that will either be pre-filled with the draft, the selected text, or be blank. This means the action can be run on a blank draft without creating a new draft. I used bits of script from an action by @nahumck, who also helped clean the code up in the original action. https://actions.getdrafts.com/a/1Jl" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="4 mins ðŸ•‘" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="5 â¤" />
<meta property="article:published_time" content="2018-05-28T14:15:51+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
  <a href="https://forums.getdrafts.com/">
    <h1>Drafts Community</h1>
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="1157.html">Search Field Mega Action</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/actions-sharing.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #9EB83B'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Actions - Share What You&#39;ve Made</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div id='post_1' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/jmreekes'><span itemprop='name'>jmreekes</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1157.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-28T14:15:51Z' class='post-time'>
                May 28, 2018,  2:15pm
              </time>
              <meta itemprop='dateModified' content='2018-05-28T14:15:51Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>This is a new version of my Search Mega Action, that adds a text field to the prompt that will either be pre-filled with the draft, the selected text, or be blank. This means the action can be run on a blank draft without creating a new draft. I used bits of script from an action by <a class="mention" href="https://forums.getdrafts.com/u/nahumck">@nahumck</a>, who also helped clean the code up in the original action. <a href="https://actions.getdrafts.com/a/1Jl" rel="nofollow noopener">https://actions.getdrafts.com/a/1Jl</a></p>
        </div>

        <meta itemprop='headline' content='Search Field Mega Action'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forums.getdrafts.com/t/solved-self-destructing-draft/8594" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forums.getdrafts.com/t/solved-self-destructing-draft/8594'>
                      <span itemprop='name'>SOLVED: Self-Destructing Draft?</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forums.getdrafts.com/t/invalid-draft-draft-not-found-via-shortcuts/10567" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forums.getdrafts.com/t/invalid-draft-draft-not-found-via-shortcuts/10567'>
                      <span itemprop='name'>&quot;Invalid Draft: Draft not found&quot; via Shortcuts</span>
                    </a>
                    <meta itemprop='position' content='3'>
                  </div>
            </div>
      </div>
      <div id='post_2' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/draft8'><span itemprop='name'>draft8</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1157.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-28T17:33:11Z' class='post-time'>
                May 28, 2018,  5:33pm
              </time>
              <meta itemprop='dateModified' content='2018-05-29T10:23:30Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>These lists of services are a good idea.</p>
<p>One way of making it slightly easier and quicker to edit the list might be to drop:</p>
<ol>
<li>the structure of <code>if ( ... ) { assignment }</code>  conditions, and</li>
<li>the need to name a service in two different places (<code>actions</code> list, and repeated <code>buttonPressed</code> conditions);</li>
</ol>
<p>replacing these with a single list of <code>(name, url)</code> pairs, like:</p>
<pre><code class="lang-javascript">// services :: [(String, String)]
const services = [
    [
        'Amazon',
        'http://amazon.com/s?ie=UTF8&amp;index=blended&amp;keywords='
    ],
    [
        'AppStore',
        'itms-apps://search.itunes.apple.com/WebObjects/' +
        'MZSearch.woa/wa/search?media=software&amp;term='
    ],
    [
        'DuckDuckGo',
        'https://duckduckgo.com/?q='
    ],
    [
        'Google',
        'https://google.com/search?q='
    ],
    [
        'GoogleImages',
        'https://google.com/search?tbm=isch&amp;q='
    ],
    [
        'GoogleTranslate',
        'http://translate.google.com/#auto/en/'
    ],
    [
        'IMDB',
        'https://www.imdb.com/find?q='
    ],
    [
        'iTunes',
        'itms:/search?term='
    ],
    [
        'RottenTomatoes',
        'http://www.rottentomatoes.com/search/?search='
    ],
    [
        'Twitter',
        'https://twitter.com/search?q='
    ],
    [
        'Wikipedia',
        'https://en.wikipedia.org/wiki/Special:Search?search='
    ],
    [
        'WolframAlpha',
        'http://wolframalpha.com/input/?i='
    ],
    [
        'YouTube',
        'http://www.youtube.com/results?search_query='
    ]
];
</code></pre>
<p>A list of pairs like this can be automatically converted to a JS <code>Map</code> object.</p>
<pre><code class="lang-javascript">const serviceMap = new Map(services);
</code></pre>
<p>which gives us short-cut methods like <code>.keys()</code>, <code>.values()</code>, and <code>.get()</code></p>
<p>So if we use a generic <code>menuChoice</code> function like:</p>
<pre><code class="lang-auto">// AN ITEM CHOSEN FROM A MENU

// menuChoice :: Bool -&gt; String -&gt; String -&gt; [String] -&gt; String
const menuChoice = (withCancelButton, title, msg, items) =&gt; {
    const p = items.reduce(
        (a, item) =&gt; (a.addButton(item), a),
        Object.assign(
            Prompt.create(), {
                title: title,
                message: msg,
                isCancellable: withCancelButton
            }
        )
    );
    return items.length &gt; 0 ? (
        p.show() ? p.buttonPressed : 'Cancel'
    ) : 'Empty menu';
};
</code></pre>
<p>We can immediately <code>.get()</code> the url matching a chosen service name:</p>
<pre><code class="lang-auto">const maybeURL = serviceMap.get(
    menuChoice(
        true,
        'Search on chosen web service',
        'Choose:', [...serviceMap.keys()]
    )
)
</code></pre>
<p>(If the user cancelled, then the value of maybeURL will be the special value: <code>undefined</code>)</p>
<p>So for a less ambitious variant of your action, in which we just submit any <strong>selected</strong> text to the web search service, we can then write:</p>
<pre><code class="lang-javascript">return maybeURL !== undefined ? (
    app.openURL(
        maybeURL + encodeURIComponent(

            // Selected text (if any)
            e.getSelectedText().trim() ||

            // otherwise line containing cursor.
            e.getTextInRange(
                ...e.getSelectedLineRange()
            )
        )
    )
) : console.log('User cancelled ...');
</code></pre>
<p>i.e. in full, something along the lines of:</p>
<pre><code class="lang-javascript">(() =&gt; {
    'use strict';

    const main = () =&gt; {
        const
            e = editor,
            serviceMap = new Map(services),
            maybeURL = serviceMap.get(
                menuChoice(
                    true,
                    'Search on chosen web service',
                    'Choose:', [...serviceMap.keys()]
                )
            );
        return maybeURL !== undefined ? (
            app.openURL(
                maybeURL + encodeURIComponent(

                    // Selected text (if any)
                    e.getSelectedText().trim() ||

                    // otherwise line containing cursor.
                    e.getTextInRange(
                        ...e.getSelectedLineRange()
                    )
                )
            )
        ) : console.log('User cancelled ...');
    };

    // services :: [(String, String)]
    const services = [
        [
            'Amazon',
            'http://amazon.com/s?ie=UTF8&amp;index=blended&amp;keywords='
        ],
        [
            'AppStore',
            'itms-apps://search.itunes.apple.com/WebObjects/' +
            'MZSearch.woa/wa/search?media=software&amp;term='
        ],
        [
            'DuckDuckGo',
            'https://duckduckgo.com/?q='
        ],
        [
            'Google',
            'https://google.com/search?q='
        ],
        [
            'GoogleImages',
            'https://google.com/search?tbm=isch&amp;q='
        ],
        [
            'GoogleTranslate',
            'http://translate.google.com/#auto/en/'
        ],
        [
            'IMDB',
            'https://www.imdb.com/find?q='
        ],
        [
            'iTunes',
            'itms:/search?term='
        ],
        [
            'RottenTomatoes',
            'http://www.rottentomatoes.com/search/?search='
        ],
        [
            'Twitter',
            'https://twitter.com/search?q='
        ],
        [
            'Wikipedia',
            'https://en.wikipedia.org/wiki/Special:Search?search='
        ],
        [
            'WolframAlpha',
            'http://wolframalpha.com/input/?i='
        ],
        [
            'YouTube',
            'http://www.youtube.com/results?search_query='
        ]
    ];

    // AN ITEM CHOSEN FROM A MENU

    // menuChoice :: Bool -&gt; String -&gt; String -&gt; [String] -&gt; String
    const menuChoice = (withCancelButton, title, msg, items) =&gt; {
        const p = items.reduce(
            (a, item) =&gt; (a.addButton(item), a),
            Object.assign(
                Prompt.create(), {
                    title: title,
                    message: msg,
                    isCancellable: withCancelButton
                }
            )
        );
        return items.length &gt; 0 ? (
            p.show() ? p.buttonPressed : 'Cancel'
        ) : 'Empty menu';
    };

    // MAIN ---
    return main();
})();
</code></pre>
        </div>

        <meta itemprop='headline' content='Search Field Mega Action'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_3' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/jmreekes'><span itemprop='name'>jmreekes</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1157.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-28T17:59:55Z' class='post-time'>
                May 28, 2018,  5:59pm
              </time>
              <meta itemprop='dateModified' content='2018-05-28T17:59:55Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Cool, and thanks. Iâ€™m really, really new to JavaScript, so Iâ€™m still learning.</p>
        </div>

        <meta itemprop='headline' content='Search Field Mega Action'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_4' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/draft8'><span itemprop='name'>draft8</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1157.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-29T00:08:28Z' class='post-time'>
                May 29, 2018, 12:08am
              </time>
              <meta itemprop='dateModified' content='2018-05-29T09:21:25Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Here, FWIW, is a variant of your action which aims for a bit of extra flexibility by taking a different approach:</p>
<ul>
<li>removing the list of services from the code of the script step,</li>
<li>placing it in a draft (in markdown link format) and</li>
<li>giving the script step just the UUID of the draft which contains the list.</li>
</ul>
<p>(We can get the UUID of a draft through the information icon at top left â€“ the information panel has a <strong>Copy Link to Draft</strong> control)</p>
<p>The draft contents might look something like this (based on your action, and making just a few small edits to ensure that they are all <code>https://</code>, rather than the less secure <code>http://</code>)</p>
<pre><code class="lang-auto">[Amazon](https://amazon.com/s?ie=UTF8&amp;index=blended&amp;keywords=)
[App Store](itms-apps://search.itunes.apple.com/WebObjects/MZSearch.woa/wa/search?media=software&amp;term=)
[DuckDuckGo](https://duckduckgo.com/?q=)
[Google](https://google.com/search?q=)
[Google Images](https://google.com/search?tbm=isch&amp;q=)
[Google Translate](https://translate.google.com/#auto/en/)
[IMDB](https://www.imdb.com/find?q=)
[iTunes](itms:/search?term=)
[Rotten Tomatoes](https://www.rottentomatoes.com/search/?search=)
[Twitter](https://twitter.com/search?q=)
[Wikipedia](https://en.wikipedia.org/wiki/Special:Search?search=)
[Wolfram Alpha](https://www.wolframalpha.com/input/?i=)
[YouTube](https://www.youtube.com/results?search_query=)
</code></pre>
<p>JS source, which can be amended to contain <strong>a UUID from a draft on the userâ€™s device</strong>:</p>
<p><a href="http://actions.getdrafts.com/a/1Jq" class="onebox" target="_blank" rel="nofollow noopener">http://actions.getdrafts.com/a/1Jq</a></p>
<pre><code class="lang-javascript">(() =&gt; {
    'use strict';

    /* Edit to provide UUID of a draft containing MD links with
      named search expressions up to the '=' sign.
      e.g.

         [DuckDuckGo](https://duckduckgo.com/?q=)
   */
    // SERVICES EITHER FROM MARKDOWN LINKS IN THIS DRAFT:
    const uuidLinksDraft =
        '9A15F571-0871-4DF7-A1F3-2E5464F197A3';

    // OR IF DRAFT NOT FOUND BY THAT UUID, THEN FROM THESE DEFAULTS:
    const fallbackDefaults = `
[Amazon](https://amazon.com/s?ie=UTF8&amp;index=blended&amp;keywords=)
[App Store](itms-apps://search.itunes.apple.com/WebObjects/MZSearch.woa/wa/search?media=software&amp;term=)
[DuckDuckGo](https://duckduckgo.com/?q=)
[Google](https://google.com/search?q=)
[Google Images](https://google.com/search?tbm=isch&amp;q=)
[Google Translate](https://translate.google.com/#auto/en/)
[IMDB](https://www.imdb.com/find?q=)
[iTunes](itms:/search?term=)
[Rotten Tomatoes](https://www.rottentomatoes.com/search/?search=)
[Twitter](https://twitter.com/search?q=)
[Wikipedia](https://en.wikipedia.org/wiki/Special:Search?search=)
[Wolfram Alpha](https://www.wolframalpha.com/input/?i=)
[YouTube](https://www.youtube.com/results?search_query=)`;

    const main = () =&gt; {
        const
            d = Draft.find(uuidLinksDraft),
            lrResult = bindLR(
                bindLR(
                    // LIST OF SERVICES EITHER FROM DRAFT
                    // WITH GIVEN UUID OR FROM DEFAULTS ABOVE
                    Right(
                        d !== undefined ? [
                            'List found in draft:\n' +
                            uuidLinksDraft,
                            d.content
                        ] : [
                            'No draft found by uuid:\n' +
                            uuidLinksDraft +
                            '\n(using default service list)',
                            fallbackDefaults
                        ]
                    ),
                    ([sourceName, strLinks]) =&gt; Right([
                        sourceName,
                        new Map(
                            regexMatches(
                                /\[(.*)\]\((.*)\)/g,
                                strLinks
                            )
                            .map(x =&gt; [x[1], x[2]])
                        )
                    ])
                ),
                ([sourceName, serviceMap]) =&gt; {
                    const e = editor;
                    return bindLR(
                        textAndMenuChoiceLR(
                            true, 'Search with chosen service',
                            sourceName,
                            'Term:',

                            // SELECTION OR CURRENT LINE
                            e.getSelectedText().trim() ||
                            e.getTextInRange(
                                ...e.getSelectedLineRange()
                            ), [...serviceMap.keys()]
                        ),
                        dct =&gt; {
                            const maybeURL = serviceMap
                                .get(dct.choice);
                            return maybeURL !== undefined ? (
                                Right(
                                    app.openURL(
                                        maybeURL +
                                        encodeURIComponent(
                                            dct.text
                                        )
                                    )
                                )
                            ) : Left(
                                'Service not found: ' +
                                dct.choice
                            );
                        }
                    );
                }
            );
        const strLeft = lrResult.Left;
        return strLeft &amp;&amp; strLeft.includes('uuid') ? (
            alert(strLeft)
        ) : console.log(lrResult.Left || lrResult.Right)
    };

    // A CONFIRMED TEXT, AND AN ITEM CHOSEN FROM A MENU

    // textAndMenuChoiceLR :: Bool -&gt; String -&gt; String -&gt;
    //    String -&gt; String -&gt; [String] -&gt;
    //  Either String { text: String, choice :: String }
    const textAndMenuChoiceLR = (
        withCancelButton, title, msg,
        strLabel, strText, items) =&gt; {
        const p = items.reduce(
            (a, item) =&gt; (a.addButton(item), a),
            Object.assign(
                Prompt.create(), {
                    title: title,
                    message: msg,
                    isCancellable: withCancelButton
                }
            )
        );
        return (
            p.addTextField('txt', strLabel, strText),
            items.length &gt; 0 ? (
                p.show() ? Right({
                    text: p.fieldValues.txt,
                    choice: p.buttonPressed
                }) : Left('Cancel')
            ) : Left('Empty menu')
        );
    };

    // GENERIC FUNCTIONS ---

    // Left :: a -&gt; Either a b
    const Left = x =&gt; ({
        type: 'Either',
        Left: x
    });

    // Right :: b -&gt; Either a b
    const Right = x =&gt; ({
        type: 'Either',
        Right: x
    });

    // bindLR (&gt;&gt;=) :: Either a -&gt; (a -&gt; Either b) -&gt; Either b
    const bindLR = (m, mf) =&gt;
        m.Right !== undefined ? (
            mf(m.Right)
        ) : m;

    // regexMatches :: String -&gt; String -&gt; [[String]]
    const regexMatches = (strRgx, strHay) =&gt; {
        const rgx = new RegExp(strRgx, 'g');
        let m = rgx.exec(strHay),
            xs = [];
        while (m)(xs.push(m), m = rgx.exec(strHay));
        return xs;
    };

    // MAIN ---
    return main();
})();
</code></pre>
        </div>

        <meta itemprop='headline' content='Search Field Mega Action'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_5' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/draft8'><span itemprop='name'>draft8</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1157.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-29T10:21:28Z' class='post-time'>
                May 29, 2018, 10:21am
              </time>
              <meta itemprop='dateModified' content='2018-05-29T10:21:28Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>PS to ease the burden of selecting some text, we can fall back, if no selection is found, to the text of the line which contains the cursor:</p>
<pre><code class="lang-auto">const e = editor;

// ...

app.openURL(
    maybeURL + encodeURIComponent(

        // Selected text (if any)
        e.getSelectedText().trim() ||

        // otherwise line containing cursor.
        e.getTextInRange(
            ...e.getSelectedLineRange()
        )
    )
)
</code></pre>
        </div>

        <meta itemprop='headline' content='Search Field Mega Action'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_6' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/dfay'><span itemprop='name'>dfay</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1157.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-05-29T13:05:26Z' class='post-time'>
                May 29, 2018,  1:05pm
              </time>
              <meta itemprop='dateModified' content='2018-05-29T13:05:26Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I had written something similar that reads titles &amp; urls from a csv.  It occurred to me that this approach would allow a degree of customisation of workflows for non-subscribers.</p>
        </div>

        <meta itemprop='headline' content='Search Field Mega Action'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_7' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Jimmbo'><span itemprop='name'>Jimmbo</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1157.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-09-21T01:07:20Z' class='post-time'>
                September 21, 2020,  1:07am
              </time>
              <meta itemprop='dateModified' content='2020-09-21T01:08:38Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Can anyone suggest a hack to make this open mobile Safari, rather than use the in-app browser? I realize thereâ€™s an option to switch to Safari once the in-app browser opens, but Iâ€™d like to cut out the extra step.</p>
<p>This is only an issue re: iOS. In Drafts-for-desktop, the action does open Safari.</p>
        </div>

        <meta itemprop='headline' content='Search Field Mega Action'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_8' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/sylumer'><span itemprop='name'>sylumer</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1157.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-09-21T06:13:51Z' class='post-time'>
                September 21, 2020,  6:13am
              </time>
              <meta itemprop='dateModified' content='2020-09-21T06:13:51Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Change the second parameter of openURL to false.</p>
<p>See the scripting docs here - <a href="../../../scripting.getdrafts.com/classes/app.html#openurl">https://scripting.getdrafts.com/classes/app#openurl</a></p>
        </div>

        <meta itemprop='headline' content='Search Field Mega Action'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forums.getdrafts.com/t/alternate-means-of-triggering-favorite-actions/8480/5" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forums.getdrafts.com/t/alternate-means-of-triggering-favorite-actions/8480/5'>
                      <span itemprop='name'>Alternate Means of Triggering Favorite Actions?</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>
      <div id='post_9' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Jimmbo'><span itemprop='name'>Jimmbo</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1157.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-09-21T12:59:16Z' class='post-time'>
                September 21, 2020, 12:59pm
              </time>
              <meta itemprop='dateModified' content='2020-09-21T12:59:16Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks, I never imagined it would be so easy!</p>
<p>Iâ€™m going to keep tweaking this script as a way to teach myselfâ€¦</p>
        </div>

        <meta itemprop='headline' content='Search Field Mega Action'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_10' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Jimmbo'><span itemprop='name'>Jimmbo</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1157.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-09-21T13:36:18Z' class='post-time'>
                September 21, 2020,  1:36pm
              </time>
              <meta itemprop='dateModified' content='2020-09-21T13:37:18Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Below is the same script as jmreekesâ€™, but with lots more searches added. Like the original script, it launches an in-app browser in mobile (not Safari). Iâ€™ve listed the sites for convenience above the script:</p>
<p>Amazon<br>
Amazon Orders<br>
AppStore<br>
<a href="http://BIu-Ray.com" class="onebox" target="_blank" rel="nofollow noopener">BIu-Ray.com</a><br>
DuckDuckGo<br>
eBay Completed<br>
eBay<br>
Facebook<br>
Forvo Pronunciation<br>
Google<br>
Google  Images<br>
GoogleTranslate<br>
IMDB<br>
iTunes<br>
<a href="http://JustWatch.com" class="onebox" target="_blank" rel="nofollow noopener">JustWatch.com</a><br>
Macupdate<br>
Movielens<br>
MRQE<br>
Netflix<br>
Pinboard<br>
RottenTomatoes<br>
Translate English -&gt; Portuguese<br>
Translate English -&gt; Spanish<br>
Translate Portuguese -&gt; English<br>
Translate Spanish -&gt; English<br>
Twitter<br>
Twitter Advanced Search (Rick Wilson)<br>
Urban Dictionary<br>
Wikipedia<br>
WolframAlpha<br>
Yelp (zip code 10001)<br>
YouTube</p>
<pre><code>//Mega Multi Web Search 
/* Action created by Jimmy Reekes, based on actions created by Tim Nahumck */

var content = draft.processTemplate("[[selection]]")

var p = Prompt.create();
p.title = "Select Search Action";
p.addTextField("search", "Search", content);
var actions = ["Amazon","Amazon Orders","AppStore","BIu-Ray.com","DuckDuckGo","eBay Completed","eBay","Facebook","Forvo Pronunciation","Google","GoogleImages","GoogleTranslate","IMDB","iTunes","Jim Leff's Slog","JustWatch.com","Macupdate","Movielens","MRQE","Netflix","Pinboard","RottenTomatoes","Sepinwall Rolling Stone","Translate English -&gt; Portuguese","Translate English -&gt; Spanish","Translate Portuguese -&gt; English","Translate Spanish -&gt; English","Twitter","Twitter Advanced Search (Rick Wilson)","Twitter Must-Read","Urban Dictionary","Wikipedia","WolframAlpha","Yelp (10001)","Yelp (10570)","YouTube"];
for (action of actions) {
  p.addButton(action);
}
var con = p.show();
//Actions based on button presses
if (con) {
  var input = p.fieldValues["search"];
  var output = encodeURIComponent(input);
	var state = "true";
	if (p.buttonPressed == "Amazon") {
		var url = "http://amazon.com/s?ie=UTF8&amp;index=blended&amp;keywords="+output;
	}
	if (p.buttonPressed == "Amazon Orders") {
		var url = "https://www.amazon.com/gp/your-account/order-history/ref=ppx_yo_dt_b_search?opt=ab&amp;search="+output;
	}
	if (p.buttonPressed == "AppStore") {
		var url = "itms-apps://search.itunes.apple.com/WebObjects/MZSearch.woa/wa/search?media=software&amp;term="+output;
		var state = "";
	}
	if (p.buttonPressed == "BIu-Ray.com") {
		var url = "https://www.blu-ray.com/search/?quicksearch=1&amp;quicksearch_country=US&amp;quicksearch_keyword="+output;
	}
	if (p.buttonPressed == "DuckDuckGo"){
		var url = "https://duckduckgo.com/?q="+output;

	}
	if (p.buttonPressed == "eBay") {
		var url = "https://www.ebay.com/sch/i.html?_nkw="+output;
	}
	if (p.buttonPressed == "eBay Completed") {
		var url = "https://www.ebay.com/sch/i.html?_from=R40&amp;_sacat=0&amp;rt=nc&amp;LH_Complete=1&amp;_nkw="+output;
	}
	if (p.buttonPressed == "Facebook") {
		var url = "https://www.facebook.com/search/top/?q="+output;
	}
	if (p.buttonPressed == "Forvo Pronunciation") {
		var url = "https://forvo.com/search/"+output;
	}
		if (p.buttonPressed == "Google") {
		var url = "https://google.com/search?q="+output;
	}
	if (p.buttonPressed == "GoogleImages") {
		var url = "https://google.com/search?tbm=isch&amp;q="+output;
	}
	if (p.buttonPressed == "GoogleTranslate") {
		var url = "http://translate.google.com/#auto/en/"+output;
	}
	if (p.buttonPressed == "IMDB") {
		var url = "https://www.imdb.com/find?q="+output;
	}
	if (p.buttonPressed == "iTunes") {
		var url = "itms:/search?term="+output;
		var state = "false";
	}
	if (p.buttonPressed == "Jim Leff's Slog") {
		var url = "https://jimleff.blogspot.com/search?q="+output;
	}
	if (p.buttonPressed == "JustWatch.com") {
		var url = "https://www.justwatch.com/us/search?q="+output;
	}
	if (p.buttonPressed == "Macupdate") {
		var url = "https://www.macupdate.com/find/mac/context%3D"+output;
	}
	if (p.buttonPressed == "Movielens") {
		var url = "https://twitter.com/search?%20list%3A834895775314415616&amp;src=typed_query&amp;f=live&amp;q="+output;
	}
	if (p.buttonPressed == "MRQE") {
		var url = "https://www.mrqe.com/search?utf8=âœ“&amp;q="+output;
	}
	if (p.buttonPressed == "Netflix") {
		var url = "https://www.netflix.com/search?q="+output;
	}
	if (p.buttonPressed == "Pinboard") {
		var url = "https://pinboard.in/search/u:Jimbo?query="+output;
	}
	if (p.buttonPressed == "RottenTomatoes") {
		var url = "http://www.rottentomatoes.com/search/?search="+output;
	}
	if (p.buttonPressed == "Sepinwall Rolling Stone") {
		var url = "https://www.rollingstone.com/results/#?q=sepinwall%20"+output;
	}
	if (p.buttonPressed == "Translate English -&gt; Portuguese") {
		var url = "https://translate.google.com/#view=home&amp;op=translate&amp;sl=en&amp;tl=pt&amp;text="+output;
	}
	if (p.buttonPressed == "Translate English -&gt; Spanish") {
		var url = "https://translate.google.com/#view=home&amp;op=translate&amp;sl=en&amp;tl=es&amp;text="+output;
	}
	if (p.buttonPressed == "Translate Portuguese -&gt; English") {
		var url = "https://translate.google.com/#view=home&amp;op=translate&amp;sl=pt&amp;tl=en&amp;text="+output;
	}
	if (p.buttonPressed == "Translate Spanish -&gt; English") {
		var url = "https://translate.google.com/#view=home&amp;op=translate&amp;sl=es&amp;tl=en&amp;text="+output;
	}
	if (p.buttonPressed == "Twitter") {
		var url = "https://twitter.com/search?q="+output;
		var state = "";
	}
	if (p.buttonPressed == "Twitter Advanced Search - Rick Wilson") {
		var url = 
"https://twitter.com/search?q="+output;
		var state = "";
	}
	if (p.buttonPressed == "Twitter Must-Read") {
		var url = "https://twitter.com/search?q=list%3A834895775314415616%20"+output;
	}
	if (p.buttonPressed == "Urban Dictionary") {
		var url = "https://www.urbandictionary.com/define.php?term="+output;
	}
	if (p.buttonPressed == "Wikipedia") {
		var url = "https://en.wikipedia.org/wiki/Special:Search?search="+output;
	}
	if (p.buttonPressed == "WolframAlpha") {
		var url = "http://wolframalpha.com/input/?i="+output;
	}
	if (p.buttonPressed == "Yelp (10570)") {
		var url = "https://www.yelp.com/search?find_loc=10570&amp;find_desc="+output;
	}
	if (p.buttonPressed == "Yelp (10001)") {
		var url = "https://www.yelp.com/search?find_loc=10001&amp;find_desc="+output;
	}
	if (p.buttonPressed == "YouTube") {
		var url = "http://www.youtube.com/results?search_query="+output;
		var state = ""
	}
	var result = app.openURL(url, state);
}
else {
	context.cancel();
}</code></pre>
        </div>

        <meta itemprop='headline' content='Search Field Mega Action'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_11' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Jimmbo'><span itemprop='name'>Jimmbo</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="1157.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-09-21T13:40:36Z' class='post-time'>
                September 21, 2020,  1:40pm
              </time>
              <meta itemprop='dateModified' content='2020-09-21T13:40:36Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>One problem with my script, just above. One search actually wants two parameters: text string, plus Twitter account to search via their advanced search. Itâ€™s currently configured to one arbitrary Twitter account. Can anyone come up with a way to input both parameters for only this particular search?</p>
<p>Hereâ€™s how I have it presently:</p>
<pre><code>	if (p.buttonPressed == "Twitter Advanced Search - Rick Wilson") {
		var url = 
"https://twitter.com/search?q="+output;
		var state = "";</code></pre>
        </div>

        <meta itemprop='headline' content='Search Field Mega Action'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
