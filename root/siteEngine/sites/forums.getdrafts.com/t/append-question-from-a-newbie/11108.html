<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Append question from a Newbie - Drafts Community</title>
    <meta name="description" content="Hi 
Sorry to borrow you with basic question here ! 
What I would do : Is inserting the content of a Draft into an existing document. 
My document is an .md file which contain some tags #todo and I would append the Draft &amp;hellip;">
    <meta name="generator" content="Discourse 2.9.0.beta4 - https://github.com/discourse/discourse version f0d46c35493f4d01e4c1f9a3b32f867c1ade595e">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/25837d707e58349c1c1881afc1883055a203ac28_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/7/77d737820f07fbb0e980560a8c341a18432a7d92_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="11108.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.getdrafts.com","potentialAction":{"@type":"SearchAction","target":"https://forums.getdrafts.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Drafts Community Search">

    <link href="https://forums.getdrafts.com/stylesheets/color_definitions_base__2_3d1df61a71325940d683ff0221fd14dee6a802e5.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" class="light-scheme"/><link href="https://forums.getdrafts.com/stylesheets/color_definitions_simple-dark_1_2_ce13c571d5f0d2fac2c7d8164bf57e59bd0aa89f.css?__ws=forums.getdrafts.com" media="(prefers-color-scheme: dark)" rel="stylesheet" class="dark-scheme"/>

  <link href="https://forums.getdrafts.com/stylesheets/desktop_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="desktop"  />


  <link href="https://forums.getdrafts.com/stylesheets/discourse-details_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-local-dates_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-narrative-bot_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-presence_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forums.getdrafts.com/stylesheets/lazy-yt_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="lazy-yt"  />
  <link href="https://forums.getdrafts.com/stylesheets/poll_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forums.getdrafts.com/stylesheets/poll_desktop_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forums.getdrafts.com/stylesheets/desktop_theme_2_8a6535adb5ffcb37b246b8087d7136cfbc597ca9.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Append question from a Newbie&#39;" href="https://forums.getdrafts.com/t/append-question-from-a-newbie/11108.rss" />
    <meta property="og:site_name" content="Drafts Community" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.getdrafts.com/uploads/default/original/2X/8/8028b40b2b5c46fe6a21aa3e1b9480b911b845df.png" />
<meta property="og:image" content="https://forums.getdrafts.com/uploads/default/original/2X/8/8028b40b2b5c46fe6a21aa3e1b9480b911b845df.png" />
<meta property="og:url" content="https://forums.getdrafts.com/t/append-question-from-a-newbie/11108" />
<meta name="twitter:url" content="https://forums.getdrafts.com/t/append-question-from-a-newbie/11108" />
<meta property="og:title" content="Append question from a Newbie" />
<meta name="twitter:title" content="Append question from a Newbie" />
<meta property="og:description" content="Hi  Sorry to borrow you with basic question here !  What I would do : Is inserting the content of a Draft into an existing document.  My document is an .md file which contain some tags #todo and I would append the Draft into the correct section (below the tag #todo but before the next one)  Any help will be appreciated  Thanks  Patrick" />
<meta name="twitter:description" content="Hi  Sorry to borrow you with basic question here !  What I would do : Is inserting the content of a Draft into an existing document.  My document is an .md file which contain some tags #todo and I would append the Draft into the correct section (below the tag #todo but before the next one)  Any help will be appreciated  Thanks  Patrick" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 ❤" />
<meta property="article:published_time" content="2021-09-01T09:58:38+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="https://forums.getdrafts.com/t/append-question-from-a-newbie/11108?page=2">

    
  </head>
  <body class="crawler">
    
    <header>
  <a href="https://forums.getdrafts.com/">
    <h1>Drafts Community</h1>
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="11108.html">Append question from a Newbie</a>
    </h1>


  </div>

  


      <div id='post_1' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Patrick68'><span itemprop='name'>Patrick68</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-01T09:58:38Z' class='post-time'>
                September 1, 2021,  9:58am
              </time>
              <meta itemprop='dateModified' content='2021-09-01T09:58:38Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi<br>
Sorry to borrow you with basic question here !<br>
What I would do : Is inserting the content of a Draft into an existing document.<br>
My document is an .md file which contain some tags <span class="hashtag">#todo</span> and I would append the Draft into the correct section (below the tag <span class="hashtag">#todo</span> but before the next one)<br>
Any help will be appreciated<br>
Thanks<br>
Patrick</p>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_2' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/sylumer'><span itemprop='name'>sylumer</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-01T11:22:50Z' class='post-time'>
                September 1, 2021, 11:22am
              </time>
              <meta itemprop='dateModified' content='2021-09-01T11:22:50Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Some questions for you to consider that are likely to affect the options and approach:</p>
<ul>
<li>Where is the Markdown document located in the  file system?</li>
<li>Is it always the same Markdown file you are updating or does it vary in name/location?</li>
<li>What operating system/device do you want to do this with?</li>
<li>Do you want new lines before or after the inserted draft?</li>
<li>is the draft to insert the currently viewed draft, a draft that is always a particular draft, or do you want to choose a draft each time?</li>
<li>Just to confirm, it is always an insertion after the todo tag, and never a replacement of the content between the todo tag and the next hash tag.</li>
</ul>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_3' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Patrick68'><span itemprop='name'>Patrick68</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-01T11:51:05Z' class='post-time'>
                September 1, 2021, 11:51am
              </time>
              <meta itemprop='dateModified' content='2021-09-01T11:51:05Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks a lot the Mardown file is part of a Obsidian Vault located in Dropbox<br>
I can append or pre-append the Draft into the correct doc it is the mechanic to put into the doc below the <span class="hashtag">#todo</span> tag without an empty line I’m failing with<br>
I use Osx for that Big Sur and Draft 27.0.11<br>
The aim is to enter my todo’s in my obsidian doc in the right place with the draft content ( the full draft) it can contain one or multiple lines and it is only an insert<br>
Thanks for your help here</p>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_4' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/sylumer'><span itemprop='name'>sylumer</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-01T12:00:29Z' class='post-time'>
                September 1, 2021, 12:00pm
              </time>
              <meta itemprop='dateModified' content='2021-09-01T12:00:29Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>If it is just the algorithmic bit you are stuck on, try this:</p>
<ol>
<li>Read the Markdown file content.</li>
<li>Split thre Markdown file content into two parts at the <span class="hashtag">#todo</span> tag - e.g. Into an array.</li>
<li>Create new content that consists of concatenation of the first part of the Markdown content, followed by the <span class="hashtag">#todo</span> tag, followed by the draft content, followed by the last part of the  Markdown content.</li>
<li>Replace the Markdown file content with the  new content.</li>
</ol>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_5' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Patrick68'><span itemprop='name'>Patrick68</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-01T12:32:00Z' class='post-time'>
                September 1, 2021, 12:32pm
              </time>
              <meta itemprop='dateModified' content='2021-09-01T12:32:00Z'>
          <span itemprop='position'>#5</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi <a class="mention" href="https://forums.getdrafts.com/u/sylumer">@sylumer</a> good point ! And from an algorithmic point of view is fully understood<br>
It should be in 3 part as the document have other section below the <span class="hashtag">#todo</span> tag<br>
But the main question is How to do it ?<br>
I’m not a dev  and bit lost with</p>
<p>Thanks</p>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_6' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/sylumer'><span itemprop='name'>sylumer</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-01T14:52:04Z' class='post-time'>
                September 1, 2021,  2:52pm
              </time>
              <meta itemprop='dateModified' content='2021-09-01T14:52:04Z'>
          <span itemprop='position'>#6</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Can you start with sharing what you have? I still don’t know how you are triggering or doing what you have said you can/do do.</p>
<p>Otherwise there are other unknowns from the above that are not covered that would affect how you might choose to do it.</p>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_7' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Patrick68'><span itemprop='name'>Patrick68</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-02T08:42:07Z' class='post-time'>
                September 2, 2021,  8:42am
              </time>
              <meta itemprop='dateModified' content='2021-09-02T08:42:07Z'>
          <span itemprop='position'>#7</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi <a class="mention" href="https://forums.getdrafts.com/u/sylumer">@sylumer</a><br>
Thanks a lot<br>
I have daily note file name  YYYY-MM-DD.md<br>
With some sections :</p>
<pre><code class="lang-auto"># 🗞️ **Agenda**: 
 
## **Meeting: **
 #meeting
 ---
 ##  ✔️ **Todo: ** 
 #todo 
 - [ ] 
 - [ ] 
	
 --- 
 ## Notes:
#notes
</code></pre>
<p>I use a dropbox action to append my information into this file (with some variables) to reach the right file<br>
However the append add the content of the draft at the <strong>end</strong> of the file and not in the correct section.<br>
The aim is to have the content of the Draft <strong>Inserted</strong> just below the (<span class="hashtag">#todo</span>), moving the existing lines below the the inserted Draft without blank line<br>
It would be a new draft at each time but I can imagine to have it based on a template if needed</p>
<p>The mechanic can be also find the Tag and insert the Draft content below</p>
<p>Hope is clearer<br>
Thanks</p>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_8' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/agiletortoise'><span itemprop='name'>agiletortoise</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-02T13:58:29Z' class='post-time'>
                September 2, 2021,  1:58pm
              </time>
              <meta itemprop='dateModified' content='2021-09-02T13:58:29Z'>
          <span itemprop='position'>#8</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>To do what you want, you need a script that:</p>
<ul>
<li>Reads the content of the file into a string variable</li>
<li>Finds the location of the <code>#todo</code> marker in the string</li>
<li>Inserts the additional text at that location</li>
<li>Save the file back overwriting the existing version</li>
</ul>
<p>You said you are using Dropbox, so that might look something like:</p>
<pre><code class="lang-javascript">// not sure where your file is, update this...
let path = "/path/to/file.md";
// use full text of current draft? Not sure...
let newContent = draft.content;
// the string you looking for (included line feed)
let marker = "#todo\n";

// read file from Dropbox
let db = Dropbox.create();
let oldContent = db.read(path);

// replace marker with marker + newContent
let content = oldContent.replace(marker, `${marker}
${newContent}`);

// save back to Dropbox
db.write(path, content, "overwrite", false)
</code></pre>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_9' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Patrick68'><span itemprop='name'>Patrick68</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-02T14:34:26Z' class='post-time'>
                September 2, 2021,  2:34pm
              </time>
              <meta itemprop='dateModified' content='2021-09-02T14:34:26Z'>
          <span itemprop='position'>#9</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hi Thanks a lot for you support</p>
<p>I got :<br>
Script Error: TypeError: undefined is not an object (evaluating ‘oldContent.replace’)<br>
Line number: 16, Column 25</p>
<p>I have created a new Action</p>
<ul>
<li>Select script</li>
<li>Paste the code provided</li>
<li>set the path to a test  file ( it will be in variable to fit with my daily note )<br>
And run</li>
</ul>
<pre><code class="lang-auto">// See online documentation for examples
// https://docs.getdrafts.com/docs/actions/scripting

// not sure where your file is, update this...
let path = "~/Dropbox/@PLAINTEXT/CALENDAR/2021_CALENDAR_NOTES/test.md";
// use full text of current draft? Not sure...
let newContent = draft.content;
// the string you looking for (included line feed)
let marker = "#todo\n";

// read file from Dropbox
let db = Dropbox.create();
let oldContent = db.read(path);

// replace marker with marker + newContent
let content = oldContent.replace(marker, `${marker}
${newContent}`);

// save back to Dropbox
db.write(path, content, "overwrite", false)
</code></pre>
<p>Thanks</p>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_10' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/agiletortoise'><span itemprop='name'>agiletortoise</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-02T14:50:33Z' class='post-time'>
                September 2, 2021,  2:50pm
              </time>
              <meta itemprop='dateModified' content='2021-09-02T14:50:33Z'>
          <span itemprop='position'>#10</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I didn’t bother with pleasant error handling for the example. That error means the file was not read successfully…which makes sense, as your path is not right. If using the Dropbox object, paths are relative to the root of your Dropbox, so probably:</p>
<pre><code class="lang-auto">let path = "/@PLAINTEXT/CALENDAR/2021_CALENDAR_NOTES/test.md";
</code></pre>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_11' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Patrick68'><span itemprop='name'>Patrick68</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-03T06:15:40Z' class='post-time'>
                September 3, 2021,  6:15am
              </time>
              <meta itemprop='dateModified' content='2021-09-03T06:15:40Z'>
          <span itemprop='position'>#11</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Just Perfect !!!</p>
<p>Thanks a lot for your support !!! So Great !!</p>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_12' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Patrick68'><span itemprop='name'>Patrick68</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-03T06:25:29Z' class='post-time'>
                September 3, 2021,  6:25am
              </time>
              <meta itemprop='dateModified' content='2021-09-03T06:25:29Z'>
          <span itemprop='position'>#12</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>One more thing <img src="../../images/emoji/apple/slight_smile.png@v=10" title=":slight_smile:" class="emoji" alt=":slight_smile:"><br>
How can I make the file name as a variable?<br>
It should be like  YYYY-MM_DD.md this will help me to fill my daily journal with the same action</p>
<p>Thanks<br>
Patrick</p>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_13' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/sylumer'><span itemprop='name'>sylumer</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-03T07:02:35Z' class='post-time'>
                September 3, 2021,  7:02am
              </time>
              <meta itemprop='dateModified' content='2021-09-03T07:29:37Z'>
          <span itemprop='position'>#13</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Assuming you have a typo in your format compared to the earlier reference, this amendment will include the current date in yyyy-MM-dd format for the base file name.</p>
<pre><code class="lang-auto">let path = "/@PLAINTEXT/CALENDAR/2021_CALENDAR_NOTES/" + draft.processTemplate("[[Date|%Y-%m-%d]]") + ".md";
</code></pre>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_14' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Patrick68'><span itemprop='name'>Patrick68</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2021-09-03T07:08:07Z' class='post-time'>
                September 3, 2021,  7:08am
              </time>
              <meta itemprop='dateModified' content='2021-09-03T07:08:07Z'>
          <span itemprop='position'>#14</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks a lot <a class="mention" href="https://forums.getdrafts.com/u/sylumer">@sylumer</a> It works perfectly !!!<br>
Very usefull action !!</p>
<p>Thanks a ll for your support !!!</p>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_15' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Patrick68'><span itemprop='name'>Patrick68</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-12T10:02:21Z' class='post-time'>
                January 12, 2022, 10:02am
              </time>
              <meta itemprop='dateModified' content='2022-01-12T10:02:21Z'>
          <span itemprop='position'>#15</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Hello all,<br>
I’m in a way to use Obsidian mobile in my workflow and to achieve it I need to move my Obsidian vault in iCloud<br>
I have created a bookmark and it work find<br>
How can I adapt the functionality above from Dropbox to iCloud<br>
Thanks for your help</p>
<p>Patrick</p>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_16' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/sylumer'><span itemprop='name'>sylumer</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">

            <link itemprop="image" href="../../uploads/default/original/2X/7/7d4da0ab6ec8d594ac76230696b95549d0ab06f6.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-12T12:26:54Z' class='post-time'>
                January 12, 2022, 12:26pm
              </time>
              <meta itemprop='dateModified' content='2022-01-12T12:26:54Z'>
          <span itemprop='position'>#16</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Have you looked a the scripting section on the Bookmarks page and reviewed the scripting documentation for the Filemanager and Bookmark objects it references?</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://docs.getdrafts.com/docs/settings/bookmarks">
  <header class="source">
      <img src="../../../docs.getdrafts.com/favicon.ico.html" class="site-icon" width="" height="">

      <a href="../../../docs.getdrafts.com/docs/settings/bookmarks.html" target="_blank" rel="noopener">Drafts User Guide</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/362;"><img src="../../uploads/default/optimized/2X/7/7d4da0ab6ec8d594ac76230696b95549d0ab06f6_2_690x362.png" class="thumbnail" width="690" height="362" srcset="../../uploads/default/optimized/2X/7/7d4da0ab6ec8d594ac76230696b95549d0ab06f6_2_690x362.png, ../../uploads/default/optimized/2X/7/7d4da0ab6ec8d594ac76230696b95549d0ab06f6_2_1035x543.png 1.5x, ../../uploads/default/original/2X/7/7d4da0ab6ec8d594ac76230696b95549d0ab06f6.png 2x" data-small-upload="https://forums.getdrafts.com/uploads/default/optimized/2X/7/7d4da0ab6ec8d594ac76230696b95549d0ab06f6_2_10x10.png"></div>

<h3><a href="../../../docs.getdrafts.com/docs/settings/bookmarks.html" target="_blank" rel="noopener">Bookmarks</a></h3>

  <p>Documentation for Drafts app, a quick-capture note taking app for iPhone, iPad, Mac and Apple Watch.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_17' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Patrick68'><span itemprop='name'>Patrick68</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-12T13:08:30Z' class='post-time'>
                January 12, 2022,  1:08pm
              </time>
              <meta itemprop='dateModified' content='2022-01-12T13:08:30Z'>
          <span itemprop='position'>#17</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks a lot <a class="mention" href="https://forums.getdrafts.com/u/sylumer">@sylumer</a>  have made some ty but unfortunately I’m clearly not a dev</p>
<p>Could help on the code?<br>
Thanks<br>
Patrick</p>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_18' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Patrick68'><span itemprop='name'>Patrick68</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-12T13:10:21Z' class='post-time'>
                January 12, 2022,  1:10pm
              </time>
              <meta itemprop='dateModified' content='2022-01-12T13:56:34Z'>
          <span itemprop='position'>#18</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <pre><code class="lang-auto">// See online documentation for examples
// https://docs.getdrafts.com/docs/actions/scripting

// create file manager using a Bookmark
let bookmark = Bookmark.findOrCreate("Obsidian");
let fm = FileManager.createForBookmark(bookmark);

// not sure where your file is, update this...
let path = "/Obsidian/Test" + draft.processTemplate("[[Date|%Y-%m-%d]]") + ".md";
// use full text of current draft? Not sure...
let newContent = draft.content;
// the string you looking for (included line feed)
let marker = "#todo\n";

// read from file in iCloud
let fmCloud = FileManager.createCloud(); // iCloud
let oldcontent = fmCloud.readString(path)

// replace marker with marker + newContent
let content = oldContent.replace(marker, `${marker}
${newContent}`);

// save back to iCloud
fmCloud.writeString(path, ontent, "overwrite", false)
</code></pre>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>
      <div id='post_19' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/Patrick68'><span itemprop='name'>Patrick68</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-12T13:10:56Z' class='post-time'>
                January 12, 2022,  1:10pm
              </time>
              <meta itemprop='dateModified' content='2022-01-12T13:10:56Z'>
          <span itemprop='position'>#19</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>but it say error as oldcontent variable is not defined</p>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_20' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/agiletortoise'><span itemprop='name'>agiletortoise</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="11108.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2022-01-12T14:00:24Z' class='post-time'>
                January 12, 2022,  2:00pm
              </time>
              <meta itemprop='dateModified' content='2022-01-12T14:00:24Z'>
          <span itemprop='position'>#20</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>You are on the right track, but have a few typos. Variable names in JavaScript are case-sensitive, so “oldcontent” and “oldContent” are not the same thing. Looks like you have it in there as “ontent” once, too.</p>
<p>And you create the bookmark FileManager in the <code>fm</code> var, but don’t use it because you copy and paste other code.</p>
<p>Didn’t test this…but I think this is roughly what you need…</p>
<pre><code class="lang-auto">// create file manager using a Bookmark
let bookmark = Bookmark.findOrCreate("Obsidian");
let fm = FileManager.createForBookmark(bookmark);

// not sure where your file is, update this...
let path = "/Obsidian/Test" + draft.processTemplate("[[Date|%Y-%m-%d]]") + ".md";
// use full text of current draft? Not sure...
let newContent = draft.content;
// the string you looking for (included line feed)
let marker = "#todo\n";

// read from file in iCloud
let oldContent = fm.readString(path)

// replace marker with marker + newContent
let content = oldContent.replace(marker, `${marker}
${newContent}`);

// save back to iCloud
fm.writeString(path, content, "overwrite", false)
</code></pre>
        </div>

        <meta itemprop='headline' content='Append question from a Newbie'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>

    <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
        <span itemprop='name'><b><a rel="next" itemprop="url" href="https://forums.getdrafts.com/t/append-question-from-a-newbie/11108?page=2">next page →</a></b></span>
    </div>





    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
