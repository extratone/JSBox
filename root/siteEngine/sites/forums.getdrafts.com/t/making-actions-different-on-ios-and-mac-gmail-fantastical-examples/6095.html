<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Making actions different on iOS and Mac: Gmail &amp; Fantastical examples - Tips &amp; Tricks - Drafts Community</title>
    <meta name="description" content="Now that actions are available for both Mac and iOS, you may find there are times it makes sense for a single action to behave differently on one platform or the other, because URL schemes are different, or a particular &amp;hellip;">
    <meta name="generator" content="Discourse 2.9.0.beta4 - https://github.com/discourse/discourse version f0d46c35493f4d01e4c1f9a3b32f867c1ade595e">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/25837d707e58349c1c1881afc1883055a203ac28_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/7/77d737820f07fbb0e980560a8c341a18432a7d92_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="6095.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.getdrafts.com","potentialAction":{"@type":"SearchAction","target":"https://forums.getdrafts.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Drafts Community Search">

    <link href="https://forums.getdrafts.com/stylesheets/color_definitions_base__2_3d1df61a71325940d683ff0221fd14dee6a802e5.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" class="light-scheme"/><link href="https://forums.getdrafts.com/stylesheets/color_definitions_simple-dark_1_2_ce13c571d5f0d2fac2c7d8164bf57e59bd0aa89f.css?__ws=forums.getdrafts.com" media="(prefers-color-scheme: dark)" rel="stylesheet" class="dark-scheme"/>

  <link href="https://forums.getdrafts.com/stylesheets/desktop_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="desktop"  />


  <link href="https://forums.getdrafts.com/stylesheets/discourse-details_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-local-dates_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-narrative-bot_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-presence_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forums.getdrafts.com/stylesheets/lazy-yt_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="lazy-yt"  />
  <link href="https://forums.getdrafts.com/stylesheets/poll_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forums.getdrafts.com/stylesheets/poll_desktop_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forums.getdrafts.com/stylesheets/desktop_theme_2_8a6535adb5ffcb37b246b8087d7136cfbc597ca9.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Making actions different on iOS and Mac: Gmail &amp; Fantastical examples&#39;" href="6095.rss" />
    <meta property="og:site_name" content="Drafts Community" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.getdrafts.com/uploads/default/original/2X/c/c6d0eb6b66cc7679f153d238495cac8bb7110e9a.png" />
<meta property="og:image" content="https://forums.getdrafts.com/uploads/default/original/2X/c/c6d0eb6b66cc7679f153d238495cac8bb7110e9a.png" />
<meta property="og:url" content="https://forums.getdrafts.com/t/making-actions-different-on-ios-and-mac-gmail-fantastical-examples/6095" />
<meta name="twitter:url" content="https://forums.getdrafts.com/t/making-actions-different-on-ios-and-mac-gmail-fantastical-examples/6095" />
<meta property="og:title" content="Making actions different on iOS and Mac: Gmail &amp; Fantastical examples" />
<meta name="twitter:title" content="Making actions different on iOS and Mac: Gmail &amp; Fantastical examples" />
<meta property="og:description" content="Now that actions are available for both Mac and iOS, you may find there are times it makes sense for a single action to behave differently on one platform or the other, because URL schemes are different, or a particular app is only available on one platform, etc.  Do make an action behave differently, Drafts allows you to enable or disable individual action steps by platform in the action editor.  Scripts can also detect the current platform using the Device object.  Let’s take a look at example..." />
<meta name="twitter:description" content="Now that actions are available for both Mac and iOS, you may find there are times it makes sense for a single action to behave differently on one platform or the other, because URL schemes are different, or a particular app is only available on one platform, etc.  Do make an action behave differently, Drafts allows you to enable or disable individual action steps by platform in the action editor.  Scripts can also detect the current platform using the Device object.  Let’s take a look at example..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="4 ❤" />
<meta property="article:published_time" content="2019-12-12T15:32:53+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
  <a href="https://forums.getdrafts.com/">
    <h1>Drafts Community</h1>
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="6095.html">Making actions different on iOS and Mac: Gmail &amp; Fantastical examples</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/tips.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #12A89D'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Tips &amp; Tricks</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/tip.html' class='discourse-tag' rel="tag">tip</a>
        </div>
      </div>
  </div>

  


      <div id='post_1' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/agiletortoise'><span itemprop='name'>agiletortoise</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="6095.html">

            <link itemprop="image" href="../../uploads/default/original/2X/c/c6d0eb6b66cc7679f153d238495cac8bb7110e9a.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2019-12-12T15:32:53Z' class='post-time'>
                December 12, 2019,  3:32pm
              </time>
              <meta itemprop='dateModified' content='2019-12-12T15:32:53Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Now that actions are available for both Mac and iOS, you may find there are times it makes sense for a single action to behave differently on one platform or the other, because URL schemes are different, or a particular app is only available on one platform, etc.</p>
<p>Do make an action behave differently, Drafts allows you to enable or disable individual action steps by platform in the action editor.  Scripts can also detect the current platform using the <code>Device</code> object.  Let’s take a look at examples of each method.</p>
<h2>Enabling Action Steps by Platform</h2>
<p>This post assumes you have edited actions before. If you are new to editing actions, start <a href="../../../docs.getdrafts.com/docs/actions/editing-actions.html">with the action docs first</a>.</p>
<p>In the action editor, each step has options to enable or disable that step by platform.</p>
<p><img src="../../uploads/default/original/2X/c/c6d0eb6b66cc7679f153d238495cac8bb7110e9a.png" alt="enabling-action-steps" data-base62-sha1="smO98o9bW6Zup8zAotHZ4dqCxrY" width="462" height="252"></p>
<p>If the step is not enabled for the current platform, when the action is run it will simply be skipped.</p>
<h2>Gmail and Fantastical Examples</h2>
<p>A common case where it makes sense to branch the functionality of an action, is the case where URLs used to integrate with an app or service are not the same on different platforms.  Here are two example actions demonstrating:</p>
<ul>
<li>
<a href="../../../actions.getdrafts.com/a/1Fj.html"><strong>Send to Gmail</strong></a>
<ul>
<li>On iOS, there is a native <a href="https://apps.apple.com/us/app/gmail-email-by-google/id422689480">Gmail app</a>. When running on iOS, this action will open a new email message in the native Gmail app.</li>
<li>On Mac, there is no native Gmail app available, so this action reverts to opening a new message in the Gmail web interface.</li>
</ul>
</li>
<li>
<a href="../../../actions.getdrafts.com/a/11m.html"><strong>Parse in Fantastical</strong></a>
<ul>
<li>This example, created by <a class="mention" href="https://forums.getdrafts.com/u/rosemaryorchard">@RosemaryOrchard</a> as part of her excellent <a href="https://www.macstories.net/reviews/drafts-for-mac-its-action-time/">MacStories Review of Drafts 16</a>, uses the same technique to address the fact that while the popular calendar app <a href="https://flexibits.com">Fantastical</a> is available for both iOS and Mac, the app uses slightly different URL schemes on the different platforms.</li>
</ul>
</li>
</ul>
<h2>Failing Gracefully</h2>
<p>Another good use case for enabling and disabling action steps by platform is the case where an action is known to only work on one platform, because a particular app or service is not available.  In this case, if you are publishing actions to the directory, it is useful to provide feedback to users if they try to install and run the action on an unsupported platform.</p>
<p>Say you have an URL-based action for an app only available on iOS. In the action configuration, enable the URL step for the app <em>only on iOS</em> and disable it for Mac. Then add a <a href="../../../docs.getdrafts.com/docs/actions/steps/advanced.html#prompt"><code>Prompt</code> action step</a> that is enabled only on Mac, and displays a friendly message, like “This action is not compatible with Mac.”</p>
<p>The <a href="../../../actions.getdrafts.com/a/11f.html"><strong>Preview in Marked</strong></a> example demonstrates this in the inverse, as the <a href="https://marked2app.com">Marked app</a> is only available on Mac.</p>
<h2>Detecting Platform in Script</h2>
<p>In script action steps, if you wish to detect if the action is currently being performed on the Mac or iOS, use the example below:</p>
<pre><code class="lang-javascript">// branch logic based on platform
if (device.systemName == 'macOS') {
    // do something only on Mac
}
else {
    // do somethign only on iOS
}
</code></pre>
<p>More details can be found in the <a href="../../../scripting.getdrafts.com/classes/device.html"><code>Device</code> object scripting documentation</a></p>
        </div>

        <meta itemprop='headline' content='Making actions different on iOS and Mac: Gmail &amp; Fantastical examples'>
          <meta itemprop='keywords' content='tip'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="4" />
           <span class='post-likes'>4 Likes</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
