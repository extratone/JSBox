<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Script for converting hashtags to Drafts tags - Scripting - Drafts Community</title>
    <meta name="description" content="For some reason, all the notes I have in nvAlt that I’m looking to move into Drafts have hashtags at the bottom, likely from an effort to use 1Writer tags. I’m looking to convert these hashtags to Drafts tags. I found an&amp;hellip;">
    <meta name="generator" content="Discourse 2.9.0.beta4 - https://github.com/discourse/discourse version f0d46c35493f4d01e4c1f9a3b32f867c1ade595e">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/25837d707e58349c1c1881afc1883055a203ac28_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/7/77d737820f07fbb0e980560a8c341a18432a7d92_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="3048.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.getdrafts.com","potentialAction":{"@type":"SearchAction","target":"https://forums.getdrafts.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Drafts Community Search">

    <link href="https://forums.getdrafts.com/stylesheets/color_definitions_base__2_3d1df61a71325940d683ff0221fd14dee6a802e5.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" class="light-scheme"/><link href="https://forums.getdrafts.com/stylesheets/color_definitions_simple-dark_1_2_ce13c571d5f0d2fac2c7d8164bf57e59bd0aa89f.css?__ws=forums.getdrafts.com" media="(prefers-color-scheme: dark)" rel="stylesheet" class="dark-scheme"/>

  <link href="https://forums.getdrafts.com/stylesheets/desktop_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="desktop"  />


  <link href="https://forums.getdrafts.com/stylesheets/discourse-details_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-local-dates_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-narrative-bot_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-presence_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forums.getdrafts.com/stylesheets/lazy-yt_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="lazy-yt"  />
  <link href="https://forums.getdrafts.com/stylesheets/poll_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forums.getdrafts.com/stylesheets/poll_desktop_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forums.getdrafts.com/stylesheets/desktop_theme_2_8a6535adb5ffcb37b246b8087d7136cfbc597ca9.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Script for converting hashtags to Drafts tags&#39;" href="https://forums.getdrafts.com/t/script-for-converting-hashtags-to-drafts-tags/3048.rss" />
    <meta property="og:site_name" content="Drafts Community" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.getdrafts.com/uploads/default/original/2X/8/8028b40b2b5c46fe6a21aa3e1b9480b911b845df.png" />
<meta property="og:image" content="https://forums.getdrafts.com/uploads/default/original/2X/8/8028b40b2b5c46fe6a21aa3e1b9480b911b845df.png" />
<meta property="og:url" content="https://forums.getdrafts.com/t/script-for-converting-hashtags-to-drafts-tags/3048" />
<meta name="twitter:url" content="https://forums.getdrafts.com/t/script-for-converting-hashtags-to-drafts-tags/3048" />
<meta property="og:title" content="Script for converting hashtags to Drafts tags" />
<meta name="twitter:title" content="Script for converting hashtags to Drafts tags" />
<meta property="og:description" content="For some reason, all the notes I have in nvAlt that I’m looking to move into Drafts have hashtags at the bottom, likely from an effort to use 1Writer tags. I’m looking to convert these hashtags to Drafts tags. I found an action that will do this on a single draft link to action, but I’d like to run this on all the drafts in the inbox at once. I tried to edit the script, but my lack of JavaScript knowledge has made it difficult, just kind of copying/pasting from other actions that seem like they ..." />
<meta name="twitter:description" content="For some reason, all the notes I have in nvAlt that I’m looking to move into Drafts have hashtags at the bottom, likely from an effort to use 1Writer tags. I’m looking to convert these hashtags to Drafts tags. I found an action that will do this on a single draft link to action, but I’d like to run this on all the drafts in the inbox at once. I tried to edit the script, but my lack of JavaScript knowledge has made it difficult, just kind of copying/pasting from other actions that seem like they ..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="2 ❤" />
<meta property="article:published_time" content="2018-11-04T17:22:04+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
  <a href="https://forums.getdrafts.com/">
    <h1>Drafts Community</h1>
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="3048.html">Script for converting hashtags to Drafts tags</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="https://forums.getdrafts.com/c/scripting/13" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #AB9364'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Scripting</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  


      <div id='post_1' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/derekvan'><span itemprop='name'>derekvan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3048.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-11-04T17:22:04Z' class='post-time'>
                November 4, 2018,  5:22pm
              </time>
              <meta itemprop='dateModified' content='2018-11-04T17:22:04Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>For some reason, all the notes I have in nvAlt that I’m looking to move into Drafts have hashtags at the bottom, likely from an effort to use 1Writer tags. I’m looking to convert these hashtags to Drafts tags. I found an action that will do this on a single draft <a href="../../../actions.getdrafts.com/a/1ME.html" rel="nofollow noopener">link to action</a>, but I’d like to run this on all the drafts in the inbox at once. I tried to edit the script, but my lack of JavaScript knowledge has made it difficult, just kind of copying/pasting from other actions that seem like they might do what I’m looking for. Anyway, I came up with this, which isn’t working but was as far as I could get. Any suggestions on what to try next? Thanks!</p>
<pre><code class="lang-auto">// Get all the tagged drafts in the inbox
var taggedDrafts = Draft.query("", "inbox");

// find tags in content

var re = /#[\w\d]+/g;
var tags = draft.content.match(re);

// tag drafts
for (var i=0; i&lt;taggedDrafts.length; i++) {
	
	for (tag in tags) {
draft.addTag(tags[tag].substring(1));
};
	taggedDrafts[i].content;
	taggedDrafts[i].update();
}
</code></pre>
        </div>

        <meta itemprop='headline' content='Script for converting hashtags to Drafts tags'>
          <meta itemprop='keywords' content=''>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="https://forums.getdrafts.com/t/new-draft-with-template-for-existing-draft/5959/2" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forums.getdrafts.com/t/new-draft-with-template-for-existing-draft/5959/2'>
                      <span itemprop='name'>New draft with template...for existing draft?</span>
                    </a>
                    <meta itemprop='position' content='2'>
                  </div>
            </div>
      </div>
      <div id='post_2' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/sylumer'><span itemprop='name'>sylumer</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3048.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-11-04T17:39:17Z' class='post-time'>
                November 4, 2018,  5:39pm
              </time>
              <meta itemprop='dateModified' content='2018-11-04T17:39:17Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>If you use the original one I think (it looks like it works on the current draft) you should just be able to hold Select in a listing (e.g. your workspace inbox) to select all drafts, then select Operations, Run Action and select your action to run against each draft.</p>
<p>See <a href="https://getdrafts.com/drafts/" rel="nofollow noopener">https://getdrafts.com/drafts/</a> for details on managing drafts.</p>
        </div>

        <meta itemprop='headline' content='Script for converting hashtags to Drafts tags'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_3' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/derekvan'><span itemprop='name'>derekvan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3048.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-11-04T18:14:14Z' class='post-time'>
                November 4, 2018,  6:14pm
              </time>
              <meta itemprop='dateModified' content='2018-11-04T18:14:14Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Oh, good idea. I have tried to run actions in multiple drafts before and the actions never supported it, so I forgot about that option.</p>
        </div>

        <meta itemprop='headline' content='Script for converting hashtags to Drafts tags'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_4' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/derekvan'><span itemprop='name'>derekvan</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="3048.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2018-11-05T18:51:38Z' class='post-time'>
                November 5, 2018,  6:51pm
              </time>
              <meta itemprop='dateModified' content='2018-11-05T18:51:38Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Ok, I couldn’t let this rest because I wanted to figure out how to do the JavaScript for looping over several drafts. This code works for me:</p>
<pre><code class="lang-auto">// This script builds on kjaymiller script to find hashtags inside drafts by looking not just at current draft, but all drafts in inbox. Original script: http://actions.getdrafts.com/a/1ME


// Get all the tagged drafts in the inbox
var taggedDrafts = Draft.query("", "inbox");

// find tags in content
var re = /#[\w\d]+/g;

// Tag drafts
for (var i=0; i&lt;taggedDrafts.length; i++) {
	var tags = taggedDrafts[i].content.match(re);
	for (tag in tags) {
taggedDrafts[i].addTag(tags[tag].substring(1));
}
	taggedDrafts[i].content;
	taggedDrafts[i].update();
}


</code></pre>
<p><a href="../../../actions.getdrafts.com/a/1Q7.html" class="onebox" target="_blank" rel="nofollow noopener">https://actions.getdrafts.com/a/1Q7</a></p>
        </div>

        <meta itemprop='headline' content='Script for converting hashtags to Drafts tags'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
