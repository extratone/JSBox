<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>X-callback in Alfred Workflows? - Drafts for Mac - Drafts Community</title>
    <meta name="description" content="I’ve been trying to figure this out, but I’ve hit a bit of a dead end with my knowledge. I have an Alfred app workflow that takes a variety of input variables and then feeds a JXA script that loads a few templates, does &amp;hellip;">
    <meta name="generator" content="Discourse 2.9.0.beta4 - https://github.com/discourse/discourse version f0d46c35493f4d01e4c1f9a3b32f867c1ade595e">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/25837d707e58349c1c1881afc1883055a203ac28_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/2X/7/77d737820f07fbb0e980560a8c341a18432a7d92_2_180x180.png">
<meta name="theme-color" content="#ffffff">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="6920.html" />
<script type="application/ld+json">{"@context":"http://schema.org","@type":"WebSite","url":"https://forums.getdrafts.com","potentialAction":{"@type":"SearchAction","target":"https://forums.getdrafts.com/search?q={search_term_string}","query-input":"required name=search_term_string"}}</script>
<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Drafts Community Search">

    <link href="https://forums.getdrafts.com/stylesheets/color_definitions_base__2_3d1df61a71325940d683ff0221fd14dee6a802e5.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" class="light-scheme"/><link href="https://forums.getdrafts.com/stylesheets/color_definitions_simple-dark_1_2_ce13c571d5f0d2fac2c7d8164bf57e59bd0aa89f.css?__ws=forums.getdrafts.com" media="(prefers-color-scheme: dark)" rel="stylesheet" class="dark-scheme"/>

  <link href="https://forums.getdrafts.com/stylesheets/desktop_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="desktop"  />


  <link href="https://forums.getdrafts.com/stylesheets/discourse-details_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-local-dates_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-narrative-bot_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="https://forums.getdrafts.com/stylesheets/discourse-presence_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="https://forums.getdrafts.com/stylesheets/lazy-yt_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="lazy-yt"  />
  <link href="https://forums.getdrafts.com/stylesheets/poll_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="https://forums.getdrafts.com/stylesheets/poll_desktop_efbc3607260bd3949bf9351692c294020d363176.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="https://forums.getdrafts.com/stylesheets/desktop_theme_2_8a6535adb5ffcb37b246b8087d7136cfbc597ca9.css?__ws=forums.getdrafts.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="default"/>

    
    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;X-callback in Alfred Workflows?&#39;" href="6920.rss" />
    <meta property="og:site_name" content="Drafts Community" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://forums.getdrafts.com/uploads/default/original/2X/8/8028b40b2b5c46fe6a21aa3e1b9480b911b845df.png" />
<meta property="og:image" content="https://forums.getdrafts.com/uploads/default/original/2X/8/8028b40b2b5c46fe6a21aa3e1b9480b911b845df.png" />
<meta property="og:url" content="https://forums.getdrafts.com/t/x-callback-in-alfred-workflows/6920" />
<meta name="twitter:url" content="https://forums.getdrafts.com/t/x-callback-in-alfred-workflows/6920" />
<meta property="og:title" content="X-callback in Alfred Workflows?" />
<meta name="twitter:title" content="X-callback in Alfred Workflows?" />
<meta property="og:description" content="I’ve been trying to figure this out, but I’ve hit a bit of a dead end with my knowledge. I have an Alfred app workflow that takes a variety of input variables and then feeds a JXA script that loads a few templates, does a bunch of processing, and then creates a project in Things 3 and a related Drafts document.  When creating the Drafts document, I’m creating it using the following code:  var draft_x = &#39;drafts5://x-callback-url/create?tag=[MyTag]&amp;tag=&#39; encodeURComponent(&#39;[My Other Tag]&#39;) + &#39;&amp;tex..." />
<meta name="twitter:description" content="I’ve been trying to figure this out, but I’ve hit a bit of a dead end with my knowledge. I have an Alfred app workflow that takes a variety of input variables and then feeds a JXA script that loads a few templates, does a bunch of processing, and then creates a project in Things 3 and a related Drafts document.  When creating the Drafts document, I’m creating it using the following code:  var draft_x = &#39;drafts5://x-callback-url/create?tag=[MyTag]&amp;tag=&#39; encodeURComponent(&#39;[My Other Tag]&#39;) + &#39;&amp;tex..." />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ❤" />
<meta property="article:published_time" content="2020-03-12T03:16:17+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler">
    
    <header>
  <a href="https://forums.getdrafts.com/">
    <h1>Drafts Community</h1>
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="6920.html">X-callback in Alfred Workflows?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/drafts-for-mac.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #808281'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Drafts for Mac</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/automation.html' class='discourse-tag' rel="tag">automation</a>
        </div>
      </div>
  </div>

  


      <div id='post_1' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/buffaloseven'><span itemprop='name'>buffaloseven</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="6920.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-12T03:16:17Z' class='post-time'>
                March 12, 2020,  3:16am
              </time>
              <meta itemprop='dateModified' content='2020-03-12T03:16:17Z'>
          <span itemprop='position'>#1</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I’ve been trying to figure this out, but I’ve hit a bit of a dead end with my knowledge. I have an Alfred app workflow that takes a variety of input variables and then feeds a JXA script that loads a few templates, does a bunch of processing, and then creates a project in Things 3 and a related Drafts document.</p>
<p>When creating the Drafts document, I’m creating it using the following code:</p>
<pre><code class="lang-javascript">var draft_x = 'drafts5://x-callback-url/create?tag=[MyTag]&amp;tag=' encodeURComponent('[My Other Tag]') + '&amp;text=';
var xcurl = draft_x + encodeURIComponent(draft_text);
var noteID = app.openLocation(xcurl);
</code></pre>
<p>The <code>app</code> referred to is <code>var app = Application.currentApplication()</code> which I believe would be the <code>osascript</code> instance Alfred is using to execute the script.</p>
<p>That said, what I’d <em>like</em> to do is throw this at the end:</p>
<pre><code class="lang-javascript">app.openLocation('drafts5://x-callback-url/open?uuid=' + noteID.uuid);
</code></pre>
<p>But <code>noteID</code> doesn’t recieve any parameters back from the x-callback. Is there any way to have it return the UUID to the script running within Alfred so that I can open directly to the note? Ideally this could end up working, then I could embed a link to the draft directly within my Things project.</p>
        </div>

        <meta itemprop='headline' content='X-callback in Alfred Workflows?'>
          <meta itemprop='keywords' content='automation'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="1" />
           <span class='post-likes'>1 Like</span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

            <div class='crawler-linkback-list' itemscope itemtype='http://schema.org/ItemList'>
                  <div itemprop='itemListElement' itemscope itemtype='http://schema.org/ListItem'>
                    <a href="../project-commandline-tool-create-new-draft-apple-script-python/8920/8.html" itemscope itemtype='http://schema.org/DiscussionForumPosting' itemprop='item'>
                      <meta itemprop='url' content='https://forums.getdrafts.com/t/project-commandline-tool-create-new-draft-apple-script-python/8920/8'>
                      <span itemprop='name'>[Project] Commandline Tool - Create new draft (Apple Script/Python)</span>
                    </a>
                    <meta itemprop='position' content='1'>
                  </div>
            </div>
      </div>
      <div id='post_2' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/dfay'><span itemprop='name'>dfay</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="6920.html">

            <link itemprop="image" href="../../uploads/default/original/2X/c/c4c6817dbd49584ff9a399d7a56e791012761d33.png">

          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-12T06:48:15Z' class='post-time'>
                March 12, 2020,  6:48am
              </time>
              <meta itemprop='dateModified' content='2020-03-12T06:56:12Z'>
          <span itemprop='position'>#2</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>I use xcall with Alfred in some Ulysses workflows.  I believe the author is one of the Ulysses developers. Rob Walton’s Alfred workflow for Ulysses also uses it.</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://github.githubassets.com/favicon.ico" class="site-icon" width="32" height="32">
      <a href="https://github.com/martinfinke/xcall" target="_blank" rel="nofollow noopener">GitHub</a>
  </header>
  <article class="onebox-body">
    <img src="../../uploads/default/original/2X/c/c4c6817dbd49584ff9a399d7a56e791012761d33.png" class="thumbnail onebox-avatar" width="32" height="32">

<h3><a href="https://github.com/martinfinke/xcall" target="_blank" rel="nofollow noopener">martinfinke/xcall</a></h3>

<p>Call X-Callback-URLs From the macOS Command Line. Contribute to martinfinke/xcall development by creating an account on GitHub.</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>See also this thread</p>
<aside class="onebox whitelistedgeneric">
  <header class="source">
      <img src="https://content.invisioncic.com/r229491/monthly_2017_07/favicon.ico.25cb7af4f019e1868fe63bd83ed0d40c.ico" class="site-icon" width="32" height="32">
      <a href="https://www.alfredforum.com/topic/10389-leveraging-x-callback-url-in-workflows/" target="_blank" rel="nofollow noopener">Alfred App Community Forum</a>
  </header>
  <article class="onebox-body">
    <img src="6920.html" class="thumbnail" width="" height="">

<h3><a href="https://www.alfredforum.com/topic/10389-leveraging-x-callback-url-in-workflows/" target="_blank" rel="nofollow noopener">Leveraging x-callback-url in workflows</a></h3>

<p>Hello! I started to work on creating my own workflow that would allow me to create and search Bear notes. I quickly ran into some problems that I dont think there are reasonable workarounds for, but I wanted to get some opinions first. My problem is...</p>


  </article>
  <div class="onebox-metadata">
    
    
  </div>
  <div style="clear: both"></div>
</aside>

<p>And here’s a working (at the time) example of xcall in an Alfred script filter (in python):</p>
<p><a href="https://www.alfredforum.com/topic/9662-ulysses-workflow/?do=findComment&amp;comment=51580" class="onebox" target="_blank" rel="nofollow noopener">https://www.alfredforum.com/topic/9662-ulysses-workflow/?do=findComment&amp;comment=51580</a></p>
        </div>

        <meta itemprop='headline' content='X-callback in Alfred Workflows?'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_3' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/buffaloseven'><span itemprop='name'>buffaloseven</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="6920.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-13T02:28:39Z' class='post-time'>
                March 13, 2020,  2:28am
              </time>
              <meta itemprop='dateModified' content='2020-03-13T02:28:39Z'>
          <span itemprop='position'>#3</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Thanks for your suggestion. I was able to get the behaviour I wanted by adjusting my code and using <code>xcall</code>. The changes really were minimal. All I had to do was change:</p>
<pre><code class="lang-javascript">var noteID = app.openLocation(xcurl);
</code></pre>
<p>To:</p>
<pre><code class="lang-javascript">var noteID = JSON.parse(app.doShellScript('/Applications/xcall.app/Contents/MacOS/xcall -url "' + xcurl + '"'));
app.openLocation("drafts5://x-callback-url/open?uuid=" + noteID.uuid);
</code></pre>
<p>It might be a little overkill for what I’m doing, but I’m glad to have it working. I’ll be able to use this to do some other nice automation work within similar workflows. Thanks for sharing!</p>
        </div>

        <meta itemprop='headline' content='X-callback in Alfred Workflows?'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="1" />
          </div>

      </div>
      <div id='post_4' itemscope itemtype='http://schema.org/DiscussionForumPosting' class='topic-body crawler-post'>
        <div class='crawler-post-meta'>
          <div itemprop='publisher' itemscope itemtype="http://schema.org/Organization">
            <meta itemprop='name' content='Agile Tortoise, Inc.'>
              <div itemprop='logo' itemscope itemtype="http://schema.org/ImageObject">
                <meta itemprop='url' content='https://forums.getdrafts.com/uploads/default/original/2X/8/8ed1af80ec826f0860aad768f711c6b1b0fb32b4.png'>
              </div>
          </div>
          <span class="creator" itemprop="author" itemscope itemtype="http://schema.org/Person">
            <a itemprop="url" href='https://forums.getdrafts.com/u/dfay'><span itemprop='name'>dfay</span></a>
            
          </span>

          <link itemprop="mainEntityOfPage" href="6920.html">


          <span class="crawler-post-infos">
              <time itemprop='datePublished' datetime='2020-03-13T20:00:25Z' class='post-time'>
                March 13, 2020,  8:00pm
              </time>
              <meta itemprop='dateModified' content='2020-03-13T20:00:25Z'>
          <span itemprop='position'>#4</span>
          </span>
        </div>
        <div class='post' itemprop='articleBody'>
          <p>Awesome - glad it worked easily.</p>
        </div>

        <meta itemprop='headline' content='X-callback in Alfred Workflows?'>

        <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
           <meta itemprop="interactionType" content="http://schema.org/LikeAction"/>
           <meta itemprop="userInteractionCount" content="0" />
           <span class='post-likes'></span>
         </div>

         <div itemprop="interactionStatistic" itemscope itemtype="http://schema.org/InteractionCounter">
            <meta itemprop="interactionType" content="http://schema.org/CommentAction"/>
            <meta itemprop="userInteractionCount" content="0" />
          </div>

      </div>






    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/categories' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/guidelines' itemprop="url">FAQ/Guidelines </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/tos' itemprop="url">Terms of Service </a>
        </span>
      </li>
      <li itemscope itemtype='http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='https://forums.getdrafts.com/privacy' itemprop="url">Privacy Policy </a>
        </span>
      </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="https://www.discourse.org">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    
    
  </body>
  
</html>
